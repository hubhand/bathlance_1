{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/coding/bathlance_1/hooks/useProducts.ts"],"sourcesContent":["import { useState, useEffect, useCallback } from 'react';\nimport { Product } from '../types';\n\nconst STORAGE_KEY = 'bathlance_products';\n\nexport const useProducts = () => {\n  const [products, setProducts] = useState<Product[]>([]);\n\n  useEffect(() => {\n    try {\n      const storedProducts = localStorage.getItem(STORAGE_KEY);\n      if (storedProducts) {\n        setProducts(JSON.parse(storedProducts));\n      }\n    } catch (error) {\n      console.error(\"ë¡œì»¬ ìŠ¤í† ë¦¬ì§€ì—ì„œ ì œí’ˆì„ ë¶ˆëŸ¬ì˜¤ëŠ” ë° ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤.\", error);\n    }\n  }, []);\n\n  useEffect(() => {\n    try {\n      localStorage.setItem(STORAGE_KEY, JSON.stringify(products));\n    } catch (error) {\n      console.error(\"ë¡œì»¬ ìŠ¤í† ë¦¬ì§€ì— ì œí’ˆì„ ì €ì¥í•˜ëŠ” ë° ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤.\", error);\n    }\n  }, [products]);\n\n  const addProduct = useCallback((product: Omit<Product, 'id'>) => {\n    const newProduct: Product = { ...product, id: new Date().toISOString() + Math.random() };\n    setProducts(prevProducts => [...prevProducts, newProduct]);\n  }, []);\n\n  const addMultipleProducts = useCallback((newProducts: Omit<Product, 'id'>[]) => {\n    const productsToAdd: Product[] = newProducts.map(p => ({ ...p, id: new Date().toISOString() + Math.random() }));\n    setProducts(prevProducts => [...prevProducts, ...productsToAdd]);\n  }, []);\n  \n  const updateProduct = useCallback((updatedProduct: Product) => {\n    setProducts(prevProducts =>\n      prevProducts.map(p => (p.id === updatedProduct.id ? updatedProduct : p))\n    );\n  }, []);\n\n  const deleteProduct = useCallback((productId: string) => {\n    setProducts(prevProducts => prevProducts.filter(p => p.id !== productId));\n  }, []);\n\n  const reorderProducts = useCallback((reorderedProducts: Product[]) => {\n    setProducts(reorderedProducts);\n  }, []);\n\n  const clearAllProducts = useCallback(() => {\n    setProducts([]);\n  }, []);\n\n  return { products, addProduct, addMultipleProducts, updateProduct, deleteProduct, reorderProducts, clearAllProducts };\n};"],"names":[],"mappings":";;;;AAAA;;;AAGA,MAAM,cAAc;AAEb,MAAM,cAAc;;IACzB,MAAM,CAAC,UAAU,YAAY,GAAG,IAAA,wRAAQ,EAAY,EAAE;IAEtD,IAAA,yRAAS;iCAAC;YACR,IAAI;gBACF,MAAM,iBAAiB,aAAa,OAAO,CAAC;gBAC5C,IAAI,gBAAgB;oBAClB,YAAY,KAAK,KAAK,CAAC;gBACzB;YACF,EAAE,OAAO,OAAO;gBACd,QAAQ,KAAK,CAAC,gCAAgC;YAChD;QACF;gCAAG,EAAE;IAEL,IAAA,yRAAS;iCAAC;YACR,IAAI;gBACF,aAAa,OAAO,CAAC,aAAa,KAAK,SAAS,CAAC;YACnD,EAAE,OAAO,OAAO;gBACd,QAAQ,KAAK,CAAC,+BAA+B;YAC/C;QACF;gCAAG;QAAC;KAAS;IAEb,MAAM,aAAa,IAAA,2RAAW;+CAAC,CAAC;YAC9B,MAAM,aAAsB;gBAAE,GAAG,OAAO;gBAAE,IAAI,IAAI,OAAO,WAAW,KAAK,KAAK,MAAM;YAAG;YACvF;uDAAY,CAAA,eAAgB;2BAAI;wBAAc;qBAAW;;QAC3D;8CAAG,EAAE;IAEL,MAAM,sBAAsB,IAAA,2RAAW;wDAAC,CAAC;YACvC,MAAM,gBAA2B,YAAY,GAAG;8EAAC,CAAA,IAAK,CAAC;wBAAE,GAAG,CAAC;wBAAE,IAAI,IAAI,OAAO,WAAW,KAAK,KAAK,MAAM;oBAAG,CAAC;;YAC7G;gEAAY,CAAA,eAAgB;2BAAI;2BAAiB;qBAAc;;QACjE;uDAAG,EAAE;IAEL,MAAM,gBAAgB,IAAA,2RAAW;kDAAC,CAAC;YACjC;0DAAY,CAAA,eACV,aAAa,GAAG;kEAAC,CAAA,IAAM,EAAE,EAAE,KAAK,eAAe,EAAE,GAAG,iBAAiB;;;QAEzE;iDAAG,EAAE;IAEL,MAAM,gBAAgB,IAAA,2RAAW;kDAAC,CAAC;YACjC;0DAAY,CAAA,eAAgB,aAAa,MAAM;kEAAC,CAAA,IAAK,EAAE,EAAE,KAAK;;;QAChE;iDAAG,EAAE;IAEL,MAAM,kBAAkB,IAAA,2RAAW;oDAAC,CAAC;YACnC,YAAY;QACd;mDAAG,EAAE;IAEL,MAAM,mBAAmB,IAAA,2RAAW;qDAAC;YACnC,YAAY,EAAE;QAChB;oDAAG,EAAE;IAEL,OAAO;QAAE;QAAU;QAAY;QAAqB;QAAe;QAAe;QAAiB;IAAiB;AACtH;GAnDa"}},
    {"offset": {"line": 114, "column": 0}, "map": {"version":3,"sources":["file:///C:/coding/bathlance_1/hooks/useMemos.ts"],"sourcesContent":["import { useState, useEffect, useCallback } from 'react';\nimport { ShoppingListItem, DiaryEntry } from '../types';\n\nconst SHOPPING_LIST_KEY = 'bathlance_shopping_list';\nconst DIARY_ENTRIES_KEY = 'bathlance_diary_entries';\n\nexport const useMemos = () => {\n  const [shoppingList, setShoppingList] = useState<ShoppingListItem[]>([]);\n  const [diaryEntries, setDiaryEntries] = useState<DiaryEntry[]>([]);\n\n  useEffect(() => {\n    try {\n      const storedShoppingList = localStorage.getItem(SHOPPING_LIST_KEY);\n      if (storedShoppingList) {\n        setShoppingList(JSON.parse(storedShoppingList));\n      }\n      const storedDiaryEntries = localStorage.getItem(DIARY_ENTRIES_KEY);\n      if (storedDiaryEntries) {\n        setDiaryEntries(JSON.parse(storedDiaryEntries));\n      }\n    } catch (error) {\n      console.error(\"ë¡œì»¬ ìŠ¤í† ë¦¬ì§€ì—ì„œ ë©”ëª¨ë¥¼ ë¶ˆëŸ¬ì˜¤ëŠ” ë° ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤.\", error);\n    }\n  }, []);\n\n  useEffect(() => {\n    try {\n      localStorage.setItem(SHOPPING_LIST_KEY, JSON.stringify(shoppingList));\n    } catch (error) {\n      console.error(\"ë¡œì»¬ ìŠ¤í† ë¦¬ì§€ì— ì‡¼í•‘ ë¦¬ìŠ¤íŠ¸ë¥¼ ì €ì¥í•˜ëŠ” ë° ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤.\", error);\n    }\n  }, [shoppingList]);\n\n  useEffect(() => {\n    try {\n      localStorage.setItem(DIARY_ENTRIES_KEY, JSON.stringify(diaryEntries));\n    } catch (error) {\n      console.error(\"ë¡œì»¬ ìŠ¤í† ë¦¬ì§€ì— ìƒ¤ì›Œ ì¼ê¸°ë¥¼ ì €ì¥í•˜ëŠ” ë° ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤.\", error);\n    }\n  }, [diaryEntries]);\n\n  // Shopping List functions\n  const addShoppingListItem = useCallback((item: Omit<ShoppingListItem, 'id' | 'checked'>) => {\n    const newItem: ShoppingListItem = { ...item, id: new Date().toISOString() + Math.random(), checked: false };\n    setShoppingList(prev => [...prev, newItem]);\n  }, []);\n\n  const toggleShoppingListItem = useCallback((itemId: string) => {\n    setShoppingList(prev => prev.map(item => item.id === itemId ? { ...item, checked: !item.checked } : item));\n  }, []);\n  \n  const deleteShoppingListItem = useCallback((itemId: string) => {\n    setShoppingList(prev => prev.filter(item => item.id !== itemId));\n  }, []);\n\n  // Diary Entry functions\n  const addDiaryEntry = useCallback((content: string) => {\n    if (diaryEntries.length >= 10) {\n        alert('ì¼ê¸°ì¥ì€ 10ê°œê¹Œì§€ ì‘ì„±í•  ìˆ˜ ìˆì–´ìš”.');\n        return;\n    }\n    const newEntry: DiaryEntry = { content, id: new Date().toISOString() + Math.random(), date: new Date().toISOString() };\n    setDiaryEntries(prev => [newEntry, ...prev]);\n  }, [diaryEntries]);\n\n  const deleteDiaryEntry = useCallback((entryId: string) => {\n    setDiaryEntries(prev => prev.filter(entry => entry.id !== entryId));\n  }, []);\n\n  const clearAllMemos = useCallback(() => {\n    setShoppingList([]);\n    setDiaryEntries([]);\n  }, []);\n\n  return { \n    shoppingList, \n    addShoppingListItem, \n    toggleShoppingListItem, \n    deleteShoppingListItem,\n    diaryEntries,\n    addDiaryEntry,\n    deleteDiaryEntry,\n    clearAllMemos,\n  };\n};"],"names":[],"mappings":";;;;AAAA;;;AAGA,MAAM,oBAAoB;AAC1B,MAAM,oBAAoB;AAEnB,MAAM,WAAW;;IACtB,MAAM,CAAC,cAAc,gBAAgB,GAAG,IAAA,wRAAQ,EAAqB,EAAE;IACvE,MAAM,CAAC,cAAc,gBAAgB,GAAG,IAAA,wRAAQ,EAAe,EAAE;IAEjE,IAAA,yRAAS;8BAAC;YACR,IAAI;gBACF,MAAM,qBAAqB,aAAa,OAAO,CAAC;gBAChD,IAAI,oBAAoB;oBACtB,gBAAgB,KAAK,KAAK,CAAC;gBAC7B;gBACA,MAAM,qBAAqB,aAAa,OAAO,CAAC;gBAChD,IAAI,oBAAoB;oBACtB,gBAAgB,KAAK,KAAK,CAAC;gBAC7B;YACF,EAAE,OAAO,OAAO;gBACd,QAAQ,KAAK,CAAC,gCAAgC;YAChD;QACF;6BAAG,EAAE;IAEL,IAAA,yRAAS;8BAAC;YACR,IAAI;gBACF,aAAa,OAAO,CAAC,mBAAmB,KAAK,SAAS,CAAC;YACzD,EAAE,OAAO,OAAO;gBACd,QAAQ,KAAK,CAAC,mCAAmC;YACnD;QACF;6BAAG;QAAC;KAAa;IAEjB,IAAA,yRAAS;8BAAC;YACR,IAAI;gBACF,aAAa,OAAO,CAAC,mBAAmB,KAAK,SAAS,CAAC;YACzD,EAAE,OAAO,OAAO;gBACd,QAAQ,KAAK,CAAC,kCAAkC;YAClD;QACF;6BAAG;QAAC;KAAa;IAEjB,0BAA0B;IAC1B,MAAM,sBAAsB,IAAA,2RAAW;qDAAC,CAAC;YACvC,MAAM,UAA4B;gBAAE,GAAG,IAAI;gBAAE,IAAI,IAAI,OAAO,WAAW,KAAK,KAAK,MAAM;gBAAI,SAAS;YAAM;YAC1G;6DAAgB,CAAA,OAAQ;2BAAI;wBAAM;qBAAQ;;QAC5C;oDAAG,EAAE;IAEL,MAAM,yBAAyB,IAAA,2RAAW;wDAAC,CAAC;YAC1C;gEAAgB,CAAA,OAAQ,KAAK,GAAG;wEAAC,CAAA,OAAQ,KAAK,EAAE,KAAK,SAAS;gCAAE,GAAG,IAAI;gCAAE,SAAS,CAAC,KAAK,OAAO;4BAAC,IAAI;;;QACtG;uDAAG,EAAE;IAEL,MAAM,yBAAyB,IAAA,2RAAW;wDAAC,CAAC;YAC1C;gEAAgB,CAAA,OAAQ,KAAK,MAAM;wEAAC,CAAA,OAAQ,KAAK,EAAE,KAAK;;;QAC1D;uDAAG,EAAE;IAEL,wBAAwB;IACxB,MAAM,gBAAgB,IAAA,2RAAW;+CAAC,CAAC;YACjC,IAAI,aAAa,MAAM,IAAI,IAAI;gBAC3B,MAAM;gBACN;YACJ;YACA,MAAM,WAAuB;gBAAE;gBAAS,IAAI,IAAI,OAAO,WAAW,KAAK,KAAK,MAAM;gBAAI,MAAM,IAAI,OAAO,WAAW;YAAG;YACrH;uDAAgB,CAAA,OAAQ;wBAAC;2BAAa;qBAAK;;QAC7C;8CAAG;QAAC;KAAa;IAEjB,MAAM,mBAAmB,IAAA,2RAAW;kDAAC,CAAC;YACpC;0DAAgB,CAAA,OAAQ,KAAK,MAAM;kEAAC,CAAA,QAAS,MAAM,EAAE,KAAK;;;QAC5D;iDAAG,EAAE;IAEL,MAAM,gBAAgB,IAAA,2RAAW;+CAAC;YAChC,gBAAgB,EAAE;YAClB,gBAAgB,EAAE;QACpB;8CAAG,EAAE;IAEL,OAAO;QACL;QACA;QACA;QACA;QACA;QACA;QACA;QACA;IACF;AACF;GA9Ea"}},
    {"offset": {"line": 258, "column": 0}, "map": {"version":3,"sources":["file:///C:/coding/bathlance_1/components/Header.tsx"],"sourcesContent":["\nimport React from 'react';\nimport { SignInButton, SignUpButton, SignedIn, SignedOut, UserButton } from '@clerk/nextjs';\n\nexport const Header: React.FC = () => {\n  return (\n    <header className=\"bg-bathlance-yellow/80 backdrop-blur-sm p-4 text-center sticky top-0 z-10 shadow-md\">\n      <div className=\"flex items-center justify-between mb-2\">\n        <div className=\"flex-1\"></div>\n        <h1 className=\"text-3xl font-bold text-bathlance-orange drop-shadow-sm flex-1\">\n          ğŸ› BATHLANCE (ë°°ìŠ¬ëœìŠ¤)\n        </h1>\n        <div className=\"flex-1 flex justify-end items-center gap-2\">\n          <SignedOut>\n            <SignInButton mode=\"modal\">\n              <button className=\"text-sm text-gray-700 hover:text-bathlance-orange transition-colors px-2 py-1 rounded\">\n                ë¡œê·¸ì¸\n              </button>\n            </SignInButton>\n            <SignUpButton mode=\"modal\">\n              <button className=\"text-sm bg-bathlance-orange text-white hover:bg-orange-600 transition-colors px-3 py-1 rounded\">\n                íšŒì›ê°€ì…\n              </button>\n            </SignUpButton>\n          </SignedOut>\n          <SignedIn>\n            <UserButton \n              appearance={{\n                elements: {\n                  avatarBox: \"w-8 h-8\"\n                }\n              }}\n            />\n          </SignedIn>\n        </div>\n      </div>\n      <p className=\"text-sm text-gray-700\">ì†Œì¤‘í•œ ë‚´ ìš•ì‹¤ìš©í’ˆ êµì²´ ì•Œë¦¬ë¯¸</p>\n    </header>\n  );\n};\n"],"names":[],"mappings":";;;;;AAEA;AAAA;AAAA;;;AAEO,MAAM,SAAmB;IAC9B,qBACE,4SAAC;QAAO,WAAU;;0BAChB,4SAAC;gBAAI,WAAU;;kCACb,4SAAC;wBAAI,WAAU;;;;;;kCACf,4SAAC;wBAAG,WAAU;kCAAiE;;;;;;kCAG/E,4SAAC;wBAAI,WAAU;;0CACb,4SAAC,mSAAS;;kDACR,4SAAC,wSAAY;wCAAC,MAAK;kDACjB,cAAA,4SAAC;4CAAO,WAAU;sDAAwF;;;;;;;;;;;kDAI5G,4SAAC,wSAAY;wCAAC,MAAK;kDACjB,cAAA,4SAAC;4CAAO,WAAU;sDAAiG;;;;;;;;;;;;;;;;;0CAKvH,4SAAC,kSAAQ;0CACP,cAAA,4SAAC,kSAAU;oCACT,YAAY;wCACV,UAAU;4CACR,WAAW;wCACb;oCACF;;;;;;;;;;;;;;;;;;;;;;;0BAKR,4SAAC;gBAAE,WAAU;0BAAwB;;;;;;;;;;;;AAG3C;KAnCa"}},
    {"offset": {"line": 385, "column": 0}, "map": {"version":3,"sources":["file:///C:/coding/bathlance_1/components/icons/HomeIcon.tsx"],"sourcesContent":["\nimport React from 'react';\n\nexport const HomeIcon: React.FC<{ className?: string }> = ({ className }) => (\n  <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\" className={className}>\n    <path d=\"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z\"></path>\n    <polyline points=\"9 22 9 12 15 12 15 22\"></polyline>\n  </svg>\n);\n"],"names":[],"mappings":";;;;;;AAGO,MAAM,WAA6C,CAAC,EAAE,SAAS,EAAE,iBACtE,4SAAC;QAAI,OAAM;QAA6B,OAAM;QAAK,QAAO;QAAK,SAAQ;QAAY,MAAK;QAAO,QAAO;QAAe,aAAY;QAAI,eAAc;QAAQ,gBAAe;QAAQ,WAAW;;0BAC3L,4SAAC;gBAAK,GAAE;;;;;;0BACR,4SAAC;gBAAS,QAAO;;;;;;;;;;;;KAHR"}},
    {"offset": {"line": 433, "column": 0}, "map": {"version":3,"sources":["file:///C:/coding/bathlance_1/components/icons/PlusCircleIcon.tsx"],"sourcesContent":["\nimport React from 'react';\n\nexport const PlusCircleIcon: React.FC<{ className?: string }> = ({ className }) => (\n  <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\" className={className}>\n    <circle cx=\"12\" cy=\"12\" r=\"10\"></circle>\n    <line x1=\"12\" y1=\"8\" x2=\"12\" y2=\"16\"></line>\n    <line x1=\"8\" y1=\"12\" x2=\"16\" y2=\"12\"></line>\n  </svg>\n);\n"],"names":[],"mappings":";;;;;;AAGO,MAAM,iBAAmD,CAAC,EAAE,SAAS,EAAE,iBAC5E,4SAAC;QAAI,OAAM;QAA6B,OAAM;QAAK,QAAO;QAAK,SAAQ;QAAY,MAAK;QAAO,QAAO;QAAe,aAAY;QAAI,eAAc;QAAQ,gBAAe;QAAQ,WAAW;;0BAC3L,4SAAC;gBAAO,IAAG;gBAAK,IAAG;gBAAK,GAAE;;;;;;0BAC1B,4SAAC;gBAAK,IAAG;gBAAK,IAAG;gBAAI,IAAG;gBAAK,IAAG;;;;;;0BAChC,4SAAC;gBAAK,IAAG;gBAAI,IAAG;gBAAK,IAAG;gBAAK,IAAG;;;;;;;;;;;;KAJvB"}},
    {"offset": {"line": 496, "column": 0}, "map": {"version":3,"sources":["file:///C:/coding/bathlance_1/components/icons/SettingsIcon.tsx"],"sourcesContent":["\nimport React from 'react';\n\nexport const SettingsIcon: React.FC<{ className?: string }> = ({ className }) => (\n  <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\" className={className}>\n    <path d=\"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 0 2l-.15.08a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.38a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1 0-2l.15-.08a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z\"></path>\n    <circle cx=\"12\" cy=\"12\" r=\"3\"></circle>\n  </svg>\n);\n"],"names":[],"mappings":";;;;;;AAGO,MAAM,eAAiD,CAAC,EAAE,SAAS,EAAE,iBAC1E,4SAAC;QAAI,OAAM;QAA6B,OAAM;QAAK,QAAO;QAAK,SAAQ;QAAY,MAAK;QAAO,QAAO;QAAe,aAAY;QAAI,eAAc;QAAQ,gBAAe;QAAQ,WAAW;;0BAC3L,4SAAC;gBAAK,GAAE;;;;;;0BACR,4SAAC;gBAAO,IAAG;gBAAK,IAAG;gBAAK,GAAE;;;;;;;;;;;;KAHjB"}},
    {"offset": {"line": 546, "column": 0}, "map": {"version":3,"sources":["file:///C:/coding/bathlance_1/components/icons/ClipboardIcon.tsx"],"sourcesContent":["\nimport React from 'react';\n\nexport const ClipboardIcon: React.FC<{ className?: string }> = ({ className }) => (\n  <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\" className={className}>\n    <path d=\"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2\"></path>\n    <rect x=\"8\" y=\"2\" width=\"8\" height=\"4\" rx=\"1\" ry=\"1\"></rect>\n  </svg>\n);\n"],"names":[],"mappings":";;;;;;AAGO,MAAM,gBAAkD,CAAC,EAAE,SAAS,EAAE,iBAC3E,4SAAC;QAAI,OAAM;QAA6B,OAAM;QAAK,QAAO;QAAK,SAAQ;QAAY,MAAK;QAAO,QAAO;QAAe,aAAY;QAAI,eAAc;QAAQ,gBAAe;QAAQ,WAAW;;0BAC3L,4SAAC;gBAAK,GAAE;;;;;;0BACR,4SAAC;gBAAK,GAAE;gBAAI,GAAE;gBAAI,OAAM;gBAAI,QAAO;gBAAI,IAAG;gBAAI,IAAG;;;;;;;;;;;;KAHxC"}},
    {"offset": {"line": 599, "column": 0}, "map": {"version":3,"sources":["file:///C:/coding/bathlance_1/components/BottomNav.tsx"],"sourcesContent":["import React from 'react';\nimport { Screen } from '../types';\nimport { HomeIcon } from './icons/HomeIcon';\nimport { PlusCircleIcon } from './icons/PlusCircleIcon';\nimport { SettingsIcon } from './icons/SettingsIcon';\nimport { ClipboardIcon } from './icons/ClipboardIcon';\n\ninterface BottomNavProps {\n  activeScreen: Screen;\n  setScreen: (screen: Screen) => void;\n}\n\nexport const BottomNav: React.FC<BottomNavProps> = ({ activeScreen, setScreen }) => {\n  const navItems = [\n    { screen: 'add' as Screen, icon: PlusCircleIcon, label: 'ë“±ë¡' },\n    { screen: 'home' as Screen, icon: HomeIcon, label: 'í™ˆ' },\n    { screen: 'memo' as Screen, icon: ClipboardIcon, label: 'ë©”ëª¨' },\n    { screen: 'settings' as Screen, icon: SettingsIcon, label: 'ì„¤ì •' },\n  ];\n\n  return (\n    <nav className=\"fixed bottom-0 left-0 right-0 bg-white/80 backdrop-blur-sm shadow-[0_-2px_5px_rgba(0,0,0,0.1)] p-2 flex justify-around items-center rounded-t-2xl\">\n      {navItems.map(({ screen, icon: Icon, label }) => (\n        <button\n          key={screen}\n          onClick={() => setScreen(screen)}\n          className={`flex flex-col items-center justify-center p-2 rounded-lg transition-all duration-300 ${\n            activeScreen === screen\n              ? 'text-bathlance-orange'\n              : 'text-gray-400 hover:text-bathlance-orange'\n          }`}\n        >\n          <Icon className=\"w-8 h-8\" />\n          <span className={`text-xs mt-1 font-bold ${activeScreen === screen ? 'opacity-100' : 'opacity-0'} transition-opacity`}>{label}</span>\n        </button>\n      ))}\n    </nav>\n  );\n};\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AACA;;;;;;AAOO,MAAM,YAAsC,CAAC,EAAE,YAAY,EAAE,SAAS,EAAE;IAC7E,MAAM,WAAW;QACf;YAAE,QAAQ;YAAiB,MAAM,2JAAc;YAAE,OAAO;QAAK;QAC7D;YAAE,QAAQ;YAAkB,MAAM,+IAAQ;YAAE,OAAO;QAAI;QACvD;YAAE,QAAQ;YAAkB,MAAM,yJAAa;YAAE,OAAO;QAAK;QAC7D;YAAE,QAAQ;YAAsB,MAAM,uJAAY;YAAE,OAAO;QAAK;KACjE;IAED,qBACE,4SAAC;QAAI,WAAU;kBACZ,SAAS,GAAG,CAAC,CAAC,EAAE,MAAM,EAAE,MAAM,IAAI,EAAE,KAAK,EAAE,iBAC1C,4SAAC;gBAEC,SAAS,IAAM,UAAU;gBACzB,WAAW,CAAC,qFAAqF,EAC/F,iBAAiB,SACb,0BACA,6CACJ;;kCAEF,4SAAC;wBAAK,WAAU;;;;;;kCAChB,4SAAC;wBAAK,WAAW,CAAC,uBAAuB,EAAE,iBAAiB,SAAS,gBAAgB,YAAY,mBAAmB,CAAC;kCAAG;;;;;;;eATnH;;;;;;;;;;AAcf;KA1Ba"}},
    {"offset": {"line": 679, "column": 0}, "map": {"version":3,"sources":["file:///C:/coding/bathlance_1/utils/dateUtils.ts"],"sourcesContent":["export const getDaysRemaining = (expiryDate: string): number => {\n  const now = new Date();\n  const end = new Date(expiryDate);\n  const diffTime = end.getTime() - now.getTime();\n  const diffDays = Math.ceil(diffTime / (1000 * 60 * 60 * 24));\n  return diffDays > 0 ? diffDays : 0;\n};\n\nexport const formatDate = (dateString: string): string => {\n  const date = new Date(dateString);\n  return date.toISOString().split('T')[0];\n};\n\nexport const addMonths = (date: Date, months: number): Date => {\n  const newDate = new Date(date);\n  newDate.setMonth(newDate.getMonth() + months);\n  return newDate;\n};\n\n/**\n * êµì²´ ì˜ˆì •ì¼ì„ ê³„ì‚°í•©ë‹ˆë‹¤.\n * (ì œì¡°ì¼ + ìœ í†µê¸°í•œ)ê³¼ (ê°œë´‰ì¼ + ê°œë´‰ í›„ ì‚¬ìš©ê¸°í•œ) ì¤‘ ë” ë¹ ë¥¸ ë‚ ì§œë¥¼ ë°˜í™˜í•©ë‹ˆë‹¤.\n * @param registrationDateStr - ë“±ë¡ì¼ (ê°œë´‰ì¼) ISO ë¬¸ìì—´\n * @param periodAfterOpeningMonths - ê°œë´‰ í›„ ì‚¬ìš©ê¸°í•œ (ê°œì›”)\n * @param manufacturingDateStr - ì œì¡°ì¼ ISO ë¬¸ìì—´ (Optional)\n * @param expiryPeriodBeforeOpeningMonths - ê°œë´‰ ì „ ìœ íš¨ê¸°ê°„ (ê°œì›”) (Optional)\n * @returns ìµœì¢… êµì²´ ì˜ˆì •ì¼ ISO ë¬¸ìì—´\n */\nexport const calculateExpiryDate = (\n  registrationDateStr: string,\n  periodAfterOpeningMonths: number,\n  manufacturingDateStr?: string,\n  expiryPeriodBeforeOpeningMonths?: number,\n): string => {\n  const registrationDate = new Date(registrationDateStr);\n  const dateAfterOpening = addMonths(registrationDate, periodAfterOpeningMonths);\n\n  // ì œì¡°ì¼ê³¼ ìœ í†µê¸°í•œ(ê°œì›”)ì´ ëª¨ë‘ ìˆëŠ” ê²½ìš°ì—ë§Œ ìœ í†µê¸°í•œ ë§Œë£Œì¼ì„ ê³„ì‚°\n  if (manufacturingDateStr && expiryPeriodBeforeOpeningMonths) {\n    try {\n      const manufacturingDate = new Date(manufacturingDateStr);\n      if (!isNaN(manufacturingDate.getTime())) {\n        const dateBeforeOpening = addMonths(manufacturingDate, expiryPeriodBeforeOpeningMonths);\n        // ë‘ ë‚ ì§œ ì¤‘ ë” ì´ë¥¸ ë‚ ì§œë¥¼ ë°˜í™˜\n        return new Date(Math.min(dateBeforeOpening.getTime(), dateAfterOpening.getTime())).toISOString();\n      }\n    } catch (e) {\n      console.error(\"ì˜ëª»ëœ ì œì¡°ì¼ì í˜•ì‹:\", manufacturingDateStr);\n    }\n  }\n\n  // ìœ í†µê¸°í•œì„ ê³„ì‚°í•  ìˆ˜ ì—†ëŠ” ê²½ìš°, ê°œë´‰ í›„ ì‚¬ìš©ê¸°í•œ ê¸°ì¤€ ë‚ ì§œë¥¼ ë°˜í™˜\n  return dateAfterOpening.toISOString();\n};\n"],"names":[],"mappings":";;;;;;;;;;AAAO,MAAM,mBAAmB,CAAC;IAC/B,MAAM,MAAM,IAAI;IAChB,MAAM,MAAM,IAAI,KAAK;IACrB,MAAM,WAAW,IAAI,OAAO,KAAK,IAAI,OAAO;IAC5C,MAAM,WAAW,KAAK,IAAI,CAAC,WAAW,CAAC,OAAO,KAAK,KAAK,EAAE;IAC1D,OAAO,WAAW,IAAI,WAAW;AACnC;AAEO,MAAM,aAAa,CAAC;IACzB,MAAM,OAAO,IAAI,KAAK;IACtB,OAAO,KAAK,WAAW,GAAG,KAAK,CAAC,IAAI,CAAC,EAAE;AACzC;AAEO,MAAM,YAAY,CAAC,MAAY;IACpC,MAAM,UAAU,IAAI,KAAK;IACzB,QAAQ,QAAQ,CAAC,QAAQ,QAAQ,KAAK;IACtC,OAAO;AACT;AAWO,MAAM,sBAAsB,CACjC,qBACA,0BACA,sBACA;IAEA,MAAM,mBAAmB,IAAI,KAAK;IAClC,MAAM,mBAAmB,UAAU,kBAAkB;IAErD,yCAAyC;IACzC,IAAI,wBAAwB,iCAAiC;QAC3D,IAAI;YACF,MAAM,oBAAoB,IAAI,KAAK;YACnC,IAAI,CAAC,MAAM,kBAAkB,OAAO,KAAK;gBACvC,MAAM,oBAAoB,UAAU,mBAAmB;gBACvD,qBAAqB;gBACrB,OAAO,IAAI,KAAK,KAAK,GAAG,CAAC,kBAAkB,OAAO,IAAI,iBAAiB,OAAO,KAAK,WAAW;YAChG;QACF,EAAE,OAAO,GAAG;YACV,QAAQ,KAAK,CAAC,gBAAgB;QAChC;IACF;IAEA,yCAAyC;IACzC,OAAO,iBAAiB,WAAW;AACrC"}},
    {"offset": {"line": 731, "column": 0}, "map": {"version":3,"sources":["file:///C:/coding/bathlance_1/components/icons/GripVerticalIcon.tsx"],"sourcesContent":["import React from 'react';\n\nexport const GripVerticalIcon: React.FC<{ className?: string }> = ({ className }) => (\n  <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\" className={className}>\n    <circle cx=\"9\" cy=\"12\" r=\"1\"></circle>\n    <circle cx=\"9\" cy=\"5\" r=\"1\"></circle>\n    <circle cx=\"9\" cy=\"19\" r=\"1\"></circle>\n    <circle cx=\"15\" cy=\"12\" r=\"1\"></circle>\n    <circle cx=\"15\" cy=\"5\" r=\"1\"></circle>\n    <circle cx=\"15\" cy=\"19\" r=\"1\"></circle>\n  </svg>\n);"],"names":[],"mappings":";;;;;;AAEO,MAAM,mBAAqD,CAAC,EAAE,SAAS,EAAE,iBAC9E,4SAAC;QAAI,OAAM;QAA6B,OAAM;QAAK,QAAO;QAAK,SAAQ;QAAY,MAAK;QAAO,QAAO;QAAe,aAAY;QAAI,eAAc;QAAQ,gBAAe;QAAQ,WAAW;;0BAC3L,4SAAC;gBAAO,IAAG;gBAAI,IAAG;gBAAK,GAAE;;;;;;0BACzB,4SAAC;gBAAO,IAAG;gBAAI,IAAG;gBAAI,GAAE;;;;;;0BACxB,4SAAC;gBAAO,IAAG;gBAAI,IAAG;gBAAK,GAAE;;;;;;0BACzB,4SAAC;gBAAO,IAAG;gBAAK,IAAG;gBAAK,GAAE;;;;;;0BAC1B,4SAAC;gBAAO,IAAG;gBAAK,IAAG;gBAAI,GAAE;;;;;;0BACzB,4SAAC;gBAAO,IAAG;gBAAK,IAAG;gBAAK,GAAE;;;;;;;;;;;;KAPjB"}},
    {"offset": {"line": 819, "column": 0}, "map": {"version":3,"sources":["file:///C:/coding/bathlance_1/components/icons/EditIcon.tsx"],"sourcesContent":["import React from 'react';\n\nexport const EditIcon: React.FC<{ className?: string }> = ({ className }) => (\n  <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\" className={className}>\n    <path d=\"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7\"></path>\n    <path d=\"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z\"></path>\n  </svg>\n);\n"],"names":[],"mappings":";;;;;;AAEO,MAAM,WAA6C,CAAC,EAAE,SAAS,EAAE,iBACtE,4SAAC;QAAI,OAAM;QAA6B,OAAM;QAAK,QAAO;QAAK,SAAQ;QAAY,MAAK;QAAO,QAAO;QAAe,aAAY;QAAI,eAAc;QAAQ,gBAAe;QAAQ,WAAW;;0BAC3L,4SAAC;gBAAK,GAAE;;;;;;0BACR,4SAAC;gBAAK,GAAE;;;;;;;;;;;;KAHC"}},
    {"offset": {"line": 867, "column": 0}, "map": {"version":3,"sources":["file:///C:/coding/bathlance_1/components/icons/TrashIcon.tsx"],"sourcesContent":["import React from 'react';\n\nexport const TrashIcon: React.FC<{ className?: string }> = ({ className }) => (\n  <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\" className={className}>\n    <polyline points=\"3 6 5 6 21 6\"></polyline>\n    <path d=\"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2\"></path>\n    <line x1=\"10\" y1=\"11\" x2=\"10\" y2=\"17\"></line>\n    <line x1=\"14\" y1=\"11\" x2=\"14\" y2=\"17\"></line>\n  </svg>\n);\n"],"names":[],"mappings":";;;;;;AAEO,MAAM,YAA8C,CAAC,EAAE,SAAS,EAAE,iBACvE,4SAAC;QAAI,OAAM;QAA6B,OAAM;QAAK,QAAO;QAAK,SAAQ;QAAY,MAAK;QAAO,QAAO;QAAe,aAAY;QAAI,eAAc;QAAQ,gBAAe;QAAQ,WAAW;;0BAC3L,4SAAC;gBAAS,QAAO;;;;;;0BACjB,4SAAC;gBAAK,GAAE;;;;;;0BACR,4SAAC;gBAAK,IAAG;gBAAK,IAAG;gBAAK,IAAG;gBAAK,IAAG;;;;;;0BACjC,4SAAC;gBAAK,IAAG;gBAAK,IAAG;gBAAK,IAAG;gBAAK,IAAG;;;;;;;;;;;;KALxB"}},
    {"offset": {"line": 935, "column": 0}, "map": {"version":3,"sources":["file:///C:/coding/bathlance_1/components/icons/ShoppingCartIcon.tsx"],"sourcesContent":["\nimport React from 'react';\n\nexport const ShoppingCartIcon: React.FC<{ className?: string }> = ({ className }) => (\n  <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\" className={className}>\n    <circle cx=\"9\" cy=\"21\" r=\"1\"></circle>\n    <circle cx=\"20\" cy=\"21\" r=\"1\"></circle>\n    <path d=\"M1 1h4l2.68 13.39a2 2 0 0 0 2 1.61h9.72a2 2 0 0 0 2-1.61L23 6H6\"></path>\n  </svg>\n);\n"],"names":[],"mappings":";;;;;;AAGO,MAAM,mBAAqD,CAAC,EAAE,SAAS,EAAE,iBAC9E,4SAAC;QAAI,OAAM;QAA6B,OAAM;QAAK,QAAO;QAAK,SAAQ;QAAY,MAAK;QAAO,QAAO;QAAe,aAAY;QAAI,eAAc;QAAQ,gBAAe;QAAQ,WAAW;;0BAC3L,4SAAC;gBAAO,IAAG;gBAAI,IAAG;gBAAK,GAAE;;;;;;0BACzB,4SAAC;gBAAO,IAAG;gBAAK,IAAG;gBAAK,GAAE;;;;;;0BAC1B,4SAAC;gBAAK,GAAE;;;;;;;;;;;;KAJC"}},
    {"offset": {"line": 994, "column": 0}, "map": {"version":3,"sources":["file:///C:/coding/bathlance_1/components/icons/ReplaceIcon.tsx"],"sourcesContent":["import React from 'react';\n\nexport const ReplaceIcon: React.FC<{ className?: string }> = ({ className }) => (\n  <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\" className={className}>\n    <path d=\"M3 2v6h6\"></path>\n    <path d=\"M21 12A9 9 0 0 0 6 5.3L3 8\"></path>\n    <path d=\"M21 22v-6h-6\"></path>\n    <path d=\"M3 12a9 9 0 0 0 15 6.7l3-2.7\"></path>\n  </svg>\n);"],"names":[],"mappings":";;;;;;AAEO,MAAM,cAAgD,CAAC,EAAE,SAAS,EAAE,iBACzE,4SAAC;QAAI,OAAM;QAA6B,OAAM;QAAK,QAAO;QAAK,SAAQ;QAAY,MAAK;QAAO,QAAO;QAAe,aAAY;QAAI,eAAc;QAAQ,gBAAe;QAAQ,WAAW;;0BAC3L,4SAAC;gBAAK,GAAE;;;;;;0BACR,4SAAC;gBAAK,GAAE;;;;;;0BACR,4SAAC;gBAAK,GAAE;;;;;;0BACR,4SAAC;gBAAK,GAAE;;;;;;;;;;;;KALC"}},
    {"offset": {"line": 1056, "column": 0}, "map": {"version":3,"sources":["file:///C:/coding/bathlance_1/components/ProductCard.tsx"],"sourcesContent":["import React from 'react';\nimport { Product } from '../types';\nimport { getDaysRemaining, formatDate } from '../utils/dateUtils';\nimport { GripVerticalIcon } from './icons/GripVerticalIcon';\nimport { EditIcon } from './icons/EditIcon';\nimport { TrashIcon } from './icons/TrashIcon';\nimport { ShoppingCartIcon } from './icons/ShoppingCartIcon';\nimport { ReplaceIcon } from './icons/ReplaceIcon';\n\ninterface ProductCardProps {\n  product: Product;\n  onEdit: (product: Product) => void;\n  onDelete: (productId: string) => void;\n  onToggleShoppingList: (product: Product) => void;\n  onReplace: (productId: string) => void;\n  isOnShoppingList: boolean;\n}\n\nexport const ProductCard: React.FC<ProductCardProps> = ({ product, onEdit, onDelete, onToggleShoppingList, onReplace, isOnShoppingList }) => {\n  const daysRemaining = getDaysRemaining(product.expiryDate);\n  const totalDays = getDaysRemaining(product.registrationDate) + 1;\n  const progressPercentage = Math.max(0, 100 - (daysRemaining / totalDays) * 100);\n  const stockCount = product.stock ?? 1;\n\n  const getProgressBarColor = () => {\n    if (daysRemaining <= 7) return 'bg-red-500';\n    if (daysRemaining <= 30) return 'bg-yellow-500';\n    return 'bg-green-500';\n  };\n  \n  const emoji = product.category === 'ìƒ´í‘¸' ? 'ğŸ§´' : product.category === 'ì¹«ì†”' ? 'ğŸª¥' : 'ğŸ›';\n\n  const hasExtraInfo = product.manufacturingDate || product.expiryPeriodBeforeOpening || product.periodAfterOpening;\n\n  return (\n    <div className=\"bg-white rounded-2xl shadow-lg p-4 mb-4 relative flex items-stretch\">\n      <div className=\"flex items-center justify-center pr-2 text-gray-300 cursor-move\">\n        <GripVerticalIcon className=\"w-6 h-6\" />\n      </div>\n      <div className=\"flex-1 flex flex-col\">\n        <div className=\"flex items-start space-x-4\">\n          <img src={product.imageUrl} alt={product.name} className=\"w-24 h-24 object-cover rounded-lg border-2 border-bathlance-gray\" />\n          <div className=\"flex-1\">\n            <h3 className=\"text-xl font-bold text-gray-800 flex items-center flex-wrap\">\n              {emoji} {product.name}\n              {product.hasTrouble && (\n                <span title=\"íŠ¸ëŸ¬ë¸” ë°œìƒ ì œí’ˆ\" className=\"ml-2 text-red-600 bg-red-100 px-2 py-0.5 rounded-full text-xs font-bold animate-pulse\">\n                  ! ì£¼ì˜\n                </span>\n              )}\n            </h3>\n            <p className=\"text-sm text-gray-500\">{product.category}</p>\n            \n            {hasExtraInfo && (\n              <div className=\"text-xs text-gray-500 mt-2 bg-gray-50 p-2 rounded-md border border-gray-200\">\n                {product.manufacturingDate && <p><strong>ì œì¡°:</strong> {formatDate(product.manufacturingDate)}</p>}\n                {product.expiryPeriodBeforeOpening && <p><strong>ìœ í†µê¸°í•œ:</strong> ì œì¡°ì¼ë¡œë¶€í„° {product.expiryPeriodBeforeOpening}ê°œì›”</p>}\n                {product.periodAfterOpening && <p><strong>ê°œë´‰ í›„:</strong> {product.periodAfterOpening}ê°œì›” ì‚¬ìš©</p>}\n              </div>\n            )}\n             {product.review && (\n              <div className=\"mt-2 text-sm text-gray-700 bg-yellow-50 p-2 rounded-md border border-yellow-200\">\n                  <p><strong>ğŸ“ ë‚´ í›„ê¸°:</strong> {product.review}</p>\n              </div>\n            )}\n            \n            <div className=\"flex justify-between items-end mt-2\">\n              <div>\n                <p className=\"text-sm text-gray-600\">êµì²´ ì˜ˆì •ì¼: {formatDate(product.expiryDate)}</p>\n                <div className={`mt-1 text-2xl font-bold ${daysRemaining <= 7 ? 'text-red-600' : 'text-bathlance-orange'}`}>\n                  {daysRemaining > 0 ? `${daysRemaining}ì¼ ë‚¨ìŒ!` : 'êµì²´í•´ì£¼ì„¸ìš”!'}\n                </div>\n              </div>\n              <div className=\"text-center bg-yellow-50 border border-yellow-200 rounded-lg p-2\">\n                  <p className=\"text-xs font-bold text-gray-500\">ë‚¨ì€ ì¬ê³ </p>\n                  <p className=\"text-2xl font-bold text-bathlance-orange\">{stockCount}ê°œ</p>\n              </div>\n            </div>\n\n          </div>\n        </div>\n        \n        {daysRemaining > 0 ? (\n          <div className=\"w-full bg-gray-200 rounded-full h-4 mt-4\">\n            <div className={`${getProgressBarColor()} h-4 rounded-full transition-all duration-500`} style={{ width: `${progressPercentage}%` }}></div>\n          </div>\n        ) : (\n          <button\n            onClick={() => onReplace(product.id)}\n            disabled={stockCount <= 0}\n            className=\"w-full bg-bathlance-orange text-white font-bold py-2 mt-4 rounded-full shadow-lg hover:bg-orange-600 transition-colors flex items-center justify-center disabled:bg-gray-400 disabled:cursor-not-allowed\"\n          >\n            <ReplaceIcon className=\"w-5 h-5 mr-2\" />\n            {stockCount > 0 ? 'ìƒˆê±¸ë¡œ êµì²´í•˜ê¸°!' : 'ì¬ê³  ì—†ìŒ!'}\n          </button>\n        )}\n\n\n        <div className=\"absolute top-2 right-2 flex space-x-1\">\n           <button \n             onClick={() => onToggleShoppingList(product)} \n             className={`p-1 rounded-full transition-colors ${\n                isOnShoppingList \n                ? 'text-white bg-bathlance-orange' \n                : 'text-gray-400 hover:text-bathlance-orange'\n             }`}\n             title={isOnShoppingList ? \"êµ¬ë§¤ ëª©ë¡ì—ì„œ ì œê±°\" : \"êµ¬ë§¤ ëª©ë¡ì— ì¶”ê°€\"}\n           >\n            <ShoppingCartIcon className=\"w-5 h-5\" />\n          </button>\n           <button onClick={() => onEdit(product)} className=\"text-gray-400 hover:text-blue-600 p-1 rounded-full transition-colors\">\n            <EditIcon className=\"w-5 h-5\" />\n          </button>\n          <button onClick={() => onDelete(product.id)} className=\"text-gray-400 hover:text-red-600 p-1 rounded-full transition-colors\">\n            <TrashIcon className=\"w-5 h-5\" />\n          </button>\n        </div>\n      </div>\n    </div>\n  );\n};"],"names":[],"mappings":"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"}},
    {"offset": {"line": 1425, "column": 0}, "map": {"version":3,"sources":["file:///C:/coding/bathlance_1/components/HomeScreen.tsx"],"sourcesContent":["import React, { useState, useRef } from 'react';\nimport { Product, ShoppingListItem } from '../types';\nimport { ProductCard } from './ProductCard';\nimport { PlusCircleIcon } from './icons/PlusCircleIcon';\n\ninterface HomeScreenProps {\n  products: Product[];\n  onEditProduct: (product: Product) => void;\n  onDeleteProduct: (productId: string) => void;\n  onReorderProducts: (products: Product[]) => void;\n  onToggleShoppingList: (product: Product) => void;\n  onReplaceProduct: (productId: string) => void;\n  shoppingList: ShoppingListItem[];\n  onAddProductRequest: () => void;\n}\n\nexport const HomeScreen: React.FC<HomeScreenProps> = ({\n  products,\n  onEditProduct,\n  onDeleteProduct,\n  onReorderProducts,\n  onToggleShoppingList,\n  onReplaceProduct,\n  shoppingList,\n  onAddProductRequest,\n}) => {\n  const [draggedItemIndex, setDraggedItemIndex] = useState<number | null>(null);\n  const dragOverItemIndex = useRef<number | null>(null);\n\n  const handleDragStart = (e: React.DragEvent<HTMLDivElement>, index: number) => {\n    setDraggedItemIndex(index);\n    e.dataTransfer.effectAllowed = 'move';\n  };\n\n  const handleDragEnter = (index: number) => {\n    dragOverItemIndex.current = index;\n  };\n\n  const handleDragOver = (e: React.DragEvent<HTMLDivElement>) => {\n    e.preventDefault();\n  };\n\n  const handleDrop = () => {\n    if (draggedItemIndex === null || dragOverItemIndex.current === null || draggedItemIndex === dragOverItemIndex.current) {\n        setDraggedItemIndex(null);\n        return;\n    }\n    \n    const newProducts = [...products];\n    const [draggedItem] = newProducts.splice(draggedItemIndex, 1);\n    newProducts.splice(dragOverItemIndex.current, 0, draggedItem);\n    \n    onReorderProducts(newProducts);\n    setDraggedItemIndex(null);\n    dragOverItemIndex.current = null;\n  };\n\n  const handleDragEnd = () => {\n    setDraggedItemIndex(null);\n    dragOverItemIndex.current = null;\n  }\n\n  return (\n    <div className=\"relative p-4 pb-32\" onDragOver={handleDragOver}>\n      {products.length === 0 ? (\n        <div className=\"flex flex-col items-center justify-center text-center text-gray-500 mt-20\">\n          <p className=\"text-6xl mb-4\">ğŸ§¼</p>\n          <h2 className=\"text-2xl font-bold\">ë“±ë¡ëœ ì œí’ˆì´ ì—†ì–´ìš”.</h2>\n          <p className=\"mt-2\">ì˜¤ë¥¸ìª½ ì•„ë˜ ë“±ë¡ ë²„íŠ¼ì„ ëˆŒëŸ¬ ì²« ìš•ì‹¤ìš©í’ˆì„ ì¶”ê°€í•´ë³´ì„¸ìš”!</p>\n        </div>\n      ) : (\n        <div>\n           <div className=\"flex items-center justify-between mb-4 flex-wrap\">\n              <h2 className=\"text-2xl font-bold text-gray-700\">ë‚´ ìš•ì‹¤ìš©í’ˆ ëª©ë¡ âœ¨</h2>\n              <p className=\"text-sm text-gray-500\">ê¾¹ ëˆŒëŸ¬ì„œ ìˆœì„œë¥¼ ë°”ê¿€ ìˆ˜ ìˆì–´ìš”!</p>\n           </div>\n          {products.map((product, index) => (\n            <div\n              key={product.id}\n              draggable\n              onDragStart={(e) => handleDragStart(e, index)}\n              onDragEnter={() => handleDragEnter(index)}\n              onDrop={handleDrop}\n              onDragEnd={handleDragEnd}\n              className={`transition-opacity duration-300 ${draggedItemIndex === index ? 'opacity-50' : 'opacity-100'}`}\n            >\n              <ProductCard \n                product={product}\n                onEdit={onEditProduct}\n                onDelete={onDeleteProduct}\n                onToggleShoppingList={onToggleShoppingList}\n                onReplace={onReplaceProduct}\n                isOnShoppingList={shoppingList.some(item => item.productId === product.id)}\n              />\n            </div>\n          ))}\n        </div>\n      )}\n      <button\n        type=\"button\"\n        onClick={onAddProductRequest}\n        aria-label=\"ìš•ì‹¤ìš©í’ˆ ë“±ë¡ í™”ë©´ìœ¼ë¡œ ì´ë™\"\n        className=\"fixed bottom-28 right-4 z-50 flex items-center gap-2 rounded-full bg-bathlance-orange px-6 py-4 text-white shadow-[0_8px_24px_rgba(225,98,28,0.4)] transition-all duration-300 hover:scale-110 hover:shadow-[0_12px_32px_rgba(225,98,28,0.5)] active:scale-95 focus-visible:outline-none focus-visible:ring-4 focus-visible:ring-bathlance-orange focus-visible:ring-offset-2 md:right-8 md:bottom-32\"\n      >\n        <PlusCircleIcon className=\"w-7 h-7\" />\n        <span className=\"text-lg font-bold\">ë“±ë¡í•˜ê¸°</span>\n      </button>\n    </div>\n  );\n};"],"names":[],"mappings":";;;;;AAAA;AAEA;AACA;;;;;;AAaO,MAAM,aAAwC,CAAC,EACpD,QAAQ,EACR,aAAa,EACb,eAAe,EACf,iBAAiB,EACjB,oBAAoB,EACpB,gBAAgB,EAChB,YAAY,EACZ,mBAAmB,EACpB;;IACC,MAAM,CAAC,kBAAkB,oBAAoB,GAAG,IAAA,wRAAQ,EAAgB;IACxE,MAAM,oBAAoB,IAAA,sRAAM,EAAgB;IAEhD,MAAM,kBAAkB,CAAC,GAAoC;QAC3D,oBAAoB;QACpB,EAAE,YAAY,CAAC,aAAa,GAAG;IACjC;IAEA,MAAM,kBAAkB,CAAC;QACvB,kBAAkB,OAAO,GAAG;IAC9B;IAEA,MAAM,iBAAiB,CAAC;QACtB,EAAE,cAAc;IAClB;IAEA,MAAM,aAAa;QACjB,IAAI,qBAAqB,QAAQ,kBAAkB,OAAO,KAAK,QAAQ,qBAAqB,kBAAkB,OAAO,EAAE;YACnH,oBAAoB;YACpB;QACJ;QAEA,MAAM,cAAc;eAAI;SAAS;QACjC,MAAM,CAAC,YAAY,GAAG,YAAY,MAAM,CAAC,kBAAkB;QAC3D,YAAY,MAAM,CAAC,kBAAkB,OAAO,EAAE,GAAG;QAEjD,kBAAkB;QAClB,oBAAoB;QACpB,kBAAkB,OAAO,GAAG;IAC9B;IAEA,MAAM,gBAAgB;QACpB,oBAAoB;QACpB,kBAAkB,OAAO,GAAG;IAC9B;IAEA,qBACE,4SAAC;QAAI,WAAU;QAAqB,YAAY;;YAC7C,SAAS,MAAM,KAAK,kBACnB,4SAAC;gBAAI,WAAU;;kCACb,4SAAC;wBAAE,WAAU;kCAAgB;;;;;;kCAC7B,4SAAC;wBAAG,WAAU;kCAAqB;;;;;;kCACnC,4SAAC;wBAAE,WAAU;kCAAO;;;;;;;;;;;yEAGtB,4SAAC;;kCACE,4SAAC;wBAAI,WAAU;;0CACZ,4SAAC;gCAAG,WAAU;0CAAmC;;;;;;0CACjD,4SAAC;gCAAE,WAAU;0CAAwB;;;;;;;;;;;;oBAExC,SAAS,GAAG,CAAC,CAAC,SAAS,sBACtB,4SAAC;4BAEC,SAAS;4BACT,aAAa,CAAC,IAAM,gBAAgB,GAAG;4BACvC,aAAa,IAAM,gBAAgB;4BACnC,QAAQ;4BACR,WAAW;4BACX,WAAW,CAAC,gCAAgC,EAAE,qBAAqB,QAAQ,eAAe,eAAe;sCAEzG,cAAA,4SAAC,4IAAW;gCACV,SAAS;gCACT,QAAQ;gCACR,UAAU;gCACV,sBAAsB;gCACtB,WAAW;gCACX,kBAAkB,aAAa,IAAI,CAAC,CAAA,OAAQ,KAAK,SAAS,KAAK,QAAQ,EAAE;;;;;;2BAdtE,QAAQ,EAAE;;;;;;;;;;;0BAoBvB,4SAAC;gBACC,MAAK;gBACL,SAAS;gBACT,cAAW;gBACX,WAAU;;kCAEV,4SAAC,2JAAc;wBAAC,WAAU;;;;;;kCAC1B,4SAAC;wBAAK,WAAU;kCAAoB;;;;;;;;;;;;;;;;;;AAI5C;GA7Fa;KAAA"}},
    {"offset": {"line": 1608, "column": 0}, "map": {"version":3,"sources":["file:///C:/coding/bathlance_1/services/geminiService.ts"],"sourcesContent":["import { GoogleGenAI, Type } from \"@google/genai\";\nimport { GeminiResponse, ProductCategory, GeminiIngredientsResponse } from '../types';\n\n// FIX: Per coding guidelines, the API key must be obtained directly from the environment variable.\n// We assume `process.env.GEMINI_API_KEY` is pre-configured and valid.\nconst apiKey = process.env.GEMINI_API_KEY || process.env.NEXT_PUBLIC_GEMINI_API_KEY;\nif (!apiKey) {\n  throw new Error('GEMINI_API_KEY í™˜ê²½ ë³€ìˆ˜ê°€ ì„¤ì •ë˜ì§€ ì•Šì•˜ìŠµë‹ˆë‹¤. .env.local íŒŒì¼ì— GEMINI_API_KEYë¥¼ ì¶”ê°€í•´ì£¼ì„¸ìš”.');\n}\nconst ai = new GoogleGenAI({ apiKey });\n\nconst model = 'gemini-2.5-flash';\n\nconst schema = {\n  type: Type.OBJECT,\n  properties: {\n    'ì œí’ˆëª…': {\n      type: Type.STRING,\n      description: 'ì‚¬ì§„ ì† ì œí’ˆì˜ ë¸Œëœë“œì™€ ì „ì²´ ì´ë¦„. ì˜ˆ: \"í•´í”¼ë°”ìŠ¤ ë°”ë””ì›Œì‹œ\"',\n    },\n    'ë¶„ë¥˜': {\n      type: Type.STRING,\n      description: 'ì œí’ˆì˜ ì¢…ë¥˜. ë‹¤ìŒ ì¤‘ í•˜ë‚˜ì—¬ì•¼ í•¨: \"ì¹«ì†”\", \"ìƒ´í‘¸\", \"ë¦°ìŠ¤\", \"ì„¸ì•ˆì œ\", \"ë°”ë””ì›Œì‹œ\", \"ìˆ˜ê±´\", \"ë©´ë„ê¸° í—¤ë“œ\", \"ìƒ¤ì›Œë³¼\", \"ìƒ¤ì›Œê¸° í•„í„°\", \"ê¸°íƒ€\".',\n    },\n    'ì œì¡°ì¼ì': {\n      type: Type.STRING,\n      description: 'ì œí’ˆì— í‘œê¸°ëœ ì œì¡°ì¼ì. í˜•ì‹ì€ YYYY-MM-DD. ì—†ìœ¼ë©´ ìƒëµ.',\n    },\n    'ê°œë´‰ì „ìœ íš¨ê¸°ê°„': {\n      type: Type.NUMBER,\n      description: 'ì œí’ˆì— í‘œê¸°ëœ ê°œë´‰ ì „ ìœ íš¨ê¸°ê°„. ê°œì›” ë‹¨ìœ„ì˜ ìˆ«ì. ì˜ˆ: \"36M\" ë˜ëŠ” \"3ë…„\"ì€ 36ìœ¼ë¡œ í‘œê¸°. ì—†ìœ¼ë©´ ìƒëµ.',\n    },\n    'ê°œë´‰í›„ì‚¬ìš©ê¸°í•œ': {\n      type: Type.NUMBER,\n      description: 'ì œí’ˆì— í‘œê¸°ëœ ê°œë´‰ í›„ ì‚¬ìš©ê¸°í•œ (PAO) ë˜ëŠ” AIê°€ ì œí’ˆ ì¢…ë¥˜ë¥¼ ê¸°ë°˜ìœ¼ë¡œ ì¶”ì •í•œ ê¶Œì¥ ì‚¬ìš©ê¸°í•œ. ê°œì›” ë‹¨ìœ„ì˜ ìˆ«ì. ì˜ˆ: 12.',\n    },\n  },\n  required: ['ì œí’ˆëª…', 'ë¶„ë¥˜', 'ê°œë´‰í›„ì‚¬ìš©ê¸°í•œ'],\n};\n\nconst ingredientsSchema = {\n  type: Type.OBJECT,\n  properties: {\n    ingredients: {\n      type: Type.ARRAY,\n      items: {\n        type: Type.OBJECT,\n        properties: {\n          name: {\n            type: Type.STRING,\n            description: 'ì„±ë¶„ëª… (INCI name). ì˜ˆ: \"ì •ì œìˆ˜\"',\n          },\n          ewgGrade: {\n            type: Type.STRING,\n            description: 'EWG ë“±ê¸‰. \"1\", \"2\" ë“± ìˆ«ì ë˜ëŠ” \"3-6\"ê³¼ ê°™ì€ ë²”ìœ„, í˜¹ì€ \"ì£¼ì˜\"ì™€ ê°™ì€ í…ìŠ¤íŠ¸ë¡œ í‘œê¸°.',\n          },\n          isAllergen: {\n            type: Type.BOOLEAN,\n            description: 'ì‹ì•½ì²˜ ê³ ì‹œ ì•Œë ˆë¥´ê¸° ìœ ë°œ ê°€ëŠ¥ ì„±ë¶„ì¸ ê²½ìš° true, ì•„ë‹ˆë©´ false.',\n          },\n          description: {\n            type: Type.STRING,\n            description: 'ì„±ë¶„ì— ëŒ€í•œ 1-2 ë¬¸ì¥ì˜ ê°„ë‹¨í•œ ì„¤ëª…. ì—†ìœ¼ë©´ ìƒëµ.',\n          },\n        },\n        required: ['name', 'ewgGrade', 'isAllergen'],\n      },\n    },\n  },\n  required: ['ingredients'],\n};\n\n\nexport const analyzeProductImage = async (imageBase64: string): Promise<GeminiResponse> => {\n  const prompt = \"ì´ ìš•ì‹¤ìš©í’ˆ ì‚¬ì§„ì„ ë¶„ì„í•´ì„œ JSON í˜•ì‹ìœ¼ë¡œ ì‘ë‹µí•´ì¤˜. 'ì œí’ˆëª…', 'ë¶„ë¥˜', 'ê°œë´‰í›„ì‚¬ìš©ê¸°í•œ' í•„ë“œëŠ” ë°˜ë“œì‹œ í¬í•¨í•´ì•¼ í•´. ë§Œì•½ ì‚¬ì§„ì— 'ê°œë´‰í›„ì‚¬ìš©ê¸°í•œ(PAO)' ì •ë³´ê°€ ëª…í™•í•˜ê²Œ ë³´ì´ì§€ ì•Šìœ¼ë©´, ì œí’ˆ ì¢…ë¥˜ë¥¼ ë¶„ì„í•´ì„œ ìœ„ìƒì„ ìµœìš°ì„ ìœ¼ë¡œ ê³ ë ¤í•œ ê°€ì¥ ì´ìƒì ì¸ êµì²´ ì£¼ê¸°ë¥¼ ê°œì›” ë‹¨ìœ„ ìˆ«ìë¡œ ì¶”ì •í•´ì„œ 'ê°œë´‰í›„ì‚¬ìš©ê¸°í•œ' ê°’ìœ¼ë¡œ ì…ë ¥í•´ì¤˜. (ì˜ˆ: ì¹«ì†”ì€ 3ê°œì›”, ìˆ˜ê±´ì€ 6ê°œì›”, ìƒ¤ì›Œë³¼ì€ 1ê°œì›”, ë©´ë„ë‚ ì€ 1ê°œì›”). ì¶”ê°€ë¡œ ì‚¬ì§„ì— 'ì œì¡°ì¼ì'ë‚˜ 'ê°œë´‰ì „ìœ íš¨ê¸°ê°„'ì´ ë³´ì¸ë‹¤ë©´ ê·¸ ì •ë³´ë„ í•¨ê»˜ ì¶”ì¶œí•´ì¤˜. ë¶„ë¥˜ëŠ” 'ì¹«ì†”', 'ìƒ´í‘¸', 'ë¦°ìŠ¤', 'ì„¸ì•ˆì œ', 'ë°”ë””ì›Œì‹œ', 'ìˆ˜ê±´', 'ë©´ë„ê¸° í—¤ë“œ', 'ìƒ¤ì›Œë³¼', 'ìƒ¤ì›Œê¸° í•„í„°', 'ê¸°íƒ€' ì¤‘ì—ì„œ ì„ íƒí•´ì¤˜.\";\n\n  const imagePart = {\n    inlineData: {\n      data: imageBase64,\n      mimeType: 'image/jpeg',\n    },\n  };\n\n  const textPart = {\n    text: prompt,\n  };\n\n  try {\n    const response = await ai.models.generateContent({\n      model: model,\n      contents: { parts: [imagePart, textPart] },\n      config: {\n        responseMimeType: 'application/json',\n        responseSchema: schema,\n      },\n    });\n\n    const jsonString = response.text.trim();\n    const parsedResponse = JSON.parse(jsonString) as GeminiResponse;\n    \n    const validCategories: ProductCategory[] = ['ì¹«ì†”', 'ìƒ´í‘¸', 'ë¦°ìŠ¤', 'ì„¸ì•ˆì œ', 'ë°”ë””ì›Œì‹œ', 'ìˆ˜ê±´', 'ë©´ë„ê¸° í—¤ë“œ', 'ìƒ¤ì›Œë³¼', 'ìƒ¤ì›Œê¸° í•„í„°', 'ê¸°íƒ€'];\n    if (!validCategories.includes(parsedResponse.ë¶„ë¥˜)) {\n        parsedResponse.ë¶„ë¥˜ = 'ê¸°íƒ€';\n    }\n\n    return parsedResponse;\n  } catch (error) {\n    console.error(\"Gemini API í˜¸ì¶œ ì¤‘ ì˜¤ë¥˜ ë°œìƒ:\", error);\n    throw new Error(\"ì œí’ˆ ì •ë³´ë¥¼ ë¶„ì„í•˜ëŠ” ë° ì‹¤íŒ¨í–ˆì–´ìš”. ë‹¤ì‹œ ì‹œë„í•´ ì£¼ì„¸ìš”.\");\n  }\n};\n\nexport const analyzeIngredients = async (imageBase64: string): Promise<GeminiIngredientsResponse> => {\n  const prompt = \"ì´ ì œí’ˆ ì‚¬ì§„ ë’·ë©´ì˜ ì „ì„±ë¶„ ëª©ë¡ì„ ë¶„ì„í•´ì¤˜. ê° ì„±ë¶„ì— ëŒ€í•´ í•œêµ­ì–´ ì´ë¦„, EWG ì•ˆì „ ë“±ê¸‰, ì‹ì•½ì²˜ ê³ ì‹œ ì•Œë ˆë¥´ê¸° ìœ ë°œ ì£¼ì˜ ì„±ë¶„ ì—¬ë¶€ë¥¼ ì•Œë ¤ì¤˜. EWG ë“±ê¸‰ì€ ìˆ«ìë‚˜ ë²”ìœ„ë¡œ í‘œê¸°í•˜ê³ , ì•Œë ˆë¥´ê¸° ìœ ë°œ ê°€ëŠ¥ì„±ì´ ìˆë‹¤ë©´ trueë¡œ í‘œì‹œí•´ì¤˜. JSON í˜•ì‹ìœ¼ë¡œ ì‘ë‹µí•´ì¤˜. ì„±ë¶„ì´ ë„ˆë¬´ ë§ìœ¼ë©´ ì£¼ìš” ì„±ë¶„ 20ê°œê¹Œì§€ë§Œ ë¶„ì„í•´ì¤˜.\";\n\n  const imagePart = {\n    inlineData: {\n      data: imageBase64,\n      mimeType: 'image/jpeg',\n    },\n  };\n\n  const textPart = {\n    text: prompt,\n  };\n\n  try {\n    const response = await ai.models.generateContent({\n      model: model,\n      contents: { parts: [imagePart, textPart] },\n      config: {\n        responseMimeType: 'application/json',\n        responseSchema: ingredientsSchema,\n      },\n    });\n\n    const jsonString = response.text.trim();\n    const cleanedJsonString = jsonString.replace(/^```json\\n?/, '').replace(/\\n?```$/, '');\n    const parsedResponse = JSON.parse(cleanedJsonString) as GeminiIngredientsResponse;\n    \n    if (!parsedResponse.ingredients || !Array.isArray(parsedResponse.ingredients)) {\n        throw new Error(\"Invalid response format from Gemini API.\");\n    }\n    \n    return parsedResponse;\n  } catch (error) {\n    console.error(\"Gemini API (ingredients) í˜¸ì¶œ ì¤‘ ì˜¤ë¥˜ ë°œìƒ:\", error);\n    throw new Error(\"ì„±ë¶„ ì •ë³´ë¥¼ ë¶„ì„í•˜ëŠ” ë° ì‹¤íŒ¨í–ˆì–´ìš”. ì „ì„±ë¶„í‘œê°€ ì˜ ë³´ì´ëŠ” ì‚¬ì§„ìœ¼ë¡œ ë‹¤ì‹œ ì‹œë„í•´ ì£¼ì„¸ìš”.\");\n  }\n};"],"names":[],"mappings":"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"}},
    {"offset": {"line": 1785, "column": 0}, "map": {"version":3,"sources":["file:///C:/coding/bathlance_1/utils/imageUtils.ts"],"sourcesContent":["export const fileToBase64 = (file: File): Promise<string> => {\n  return new Promise((resolve, reject) => {\n    const reader = new FileReader();\n    reader.readAsDataURL(file);\n    reader.onload = () => {\n      const result = reader.result as string;\n      // remove 'data:image/jpeg;base64,' part\n      const base64 = result.split(',')[1];\n      resolve(base64);\n    };\n    reader.onerror = error => reject(error);\n  });\n};\n\n/**\n * Resizes an image file and converts it to a base64 data URL.\n * This helps save storage space.\n * @param file The image file.\n * @param maxWidth The maximum width of the resized image.\n * @returns A promise that resolves with the base64 data URL.\n */\nexport const fileToResizedBase64 = (file: File, maxWidth: number = 256): Promise<string> => {\n  return new Promise((resolve, reject) => {\n    const reader = new FileReader();\n    reader.readAsDataURL(file);\n    reader.onload = (event) => {\n      const img = new Image();\n      img.src = event.target?.result as string;\n      img.onload = () => {\n        const canvas = document.createElement('canvas');\n        const scale = maxWidth / img.width;\n        canvas.width = maxWidth;\n        canvas.height = img.height * scale;\n        const ctx = canvas.getContext('2d');\n        if (!ctx) {\n          return reject(new Error('Could not get canvas context'));\n        }\n        ctx.drawImage(img, 0, 0, canvas.width, canvas.height);\n        resolve(canvas.toDataURL('image/jpeg')); // Returns the full data URL\n      };\n      img.onerror = (error) => reject(error);\n    };\n    reader.onerror = (error) => reject(error);\n  });\n};\n"],"names":[],"mappings":";;;;;;AAAO,MAAM,eAAe,CAAC;IAC3B,OAAO,IAAI,QAAQ,CAAC,SAAS;QAC3B,MAAM,SAAS,IAAI;QACnB,OAAO,aAAa,CAAC;QACrB,OAAO,MAAM,GAAG;YACd,MAAM,SAAS,OAAO,MAAM;YAC5B,wCAAwC;YACxC,MAAM,SAAS,OAAO,KAAK,CAAC,IAAI,CAAC,EAAE;YACnC,QAAQ;QACV;QACA,OAAO,OAAO,GAAG,CAAA,QAAS,OAAO;IACnC;AACF;AASO,MAAM,sBAAsB,CAAC,MAAY,WAAmB,GAAG;IACpE,OAAO,IAAI,QAAQ,CAAC,SAAS;QAC3B,MAAM,SAAS,IAAI;QACnB,OAAO,aAAa,CAAC;QACrB,OAAO,MAAM,GAAG,CAAC;YACf,MAAM,MAAM,IAAI;YAChB,IAAI,GAAG,GAAG,MAAM,MAAM,EAAE;YACxB,IAAI,MAAM,GAAG;gBACX,MAAM,SAAS,SAAS,aAAa,CAAC;gBACtC,MAAM,QAAQ,WAAW,IAAI,KAAK;gBAClC,OAAO,KAAK,GAAG;gBACf,OAAO,MAAM,GAAG,IAAI,MAAM,GAAG;gBAC7B,MAAM,MAAM,OAAO,UAAU,CAAC;gBAC9B,IAAI,CAAC,KAAK;oBACR,OAAO,OAAO,IAAI,MAAM;gBAC1B;gBACA,IAAI,SAAS,CAAC,KAAK,GAAG,GAAG,OAAO,KAAK,EAAE,OAAO,MAAM;gBACpD,QAAQ,OAAO,SAAS,CAAC,gBAAgB,4BAA4B;YACvE;YACA,IAAI,OAAO,GAAG,CAAC,QAAU,OAAO;QAClC;QACA,OAAO,OAAO,GAAG,CAAC,QAAU,OAAO;IACrC;AACF"}},
    {"offset": {"line": 1835, "column": 0}, "map": {"version":3,"sources":["file:///C:/coding/bathlance_1/constants.ts"],"sourcesContent":["import { ProductCategory } from './types';\n\nexport const AVERAGE_USAGE_PERIODS: Record<ProductCategory, number> = {\n  'ì¹«ì†”': 3,\n  'ìƒ´í‘¸': 12,\n  'ë¦°ìŠ¤': 12,\n  'ì„¸ì•ˆì œ': 6,\n  'ë°”ë””ì›Œì‹œ': 12,\n  'ìˆ˜ê±´': 6,\n  'ë©´ë„ê¸° í—¤ë“œ': 1,\n  'ìƒ¤ì›Œë³¼': 1,\n  'ìƒ¤ì›Œê¸° í•„í„°': 3,\n  'ê¸°íƒ€': 6,\n};\n\nexport const NOTIFICATION_DAYS_BEFORE = 7;"],"names":[],"mappings":";;;;;;AAEO,MAAM,wBAAyD;IACpE,MAAM;IACN,MAAM;IACN,MAAM;IACN,OAAO;IACP,QAAQ;IACR,MAAM;IACN,UAAU;IACV,OAAO;IACP,UAAU;IACV,MAAM;AACR;AAEO,MAAM,2BAA2B"}},
    {"offset": {"line": 1861, "column": 0}, "map": {"version":3,"sources":["file:///C:/coding/bathlance_1/components/AddProductScreen.tsx"],"sourcesContent":["import React, { useState, useCallback } from 'react';\nimport { Product, ProductCategory } from '../types';\nimport { analyzeProductImage } from '../services/geminiService';\nimport { fileToBase64, fileToResizedBase64 } from '../utils/imageUtils';\nimport { calculateExpiryDate } from '../utils/dateUtils';\nimport { AVERAGE_USAGE_PERIODS } from '../constants';\n\ninterface AddProductScreenProps {\n  onAddMultipleProducts: (products: Omit<Product, 'id'>[]) => void;\n  onCancel: () => void;\n}\n\nconst MAX_FILES = 10;\n\nexport const AddProductScreen: React.FC<AddProductScreenProps> = ({ onAddMultipleProducts, onCancel }) => {\n  const [imageFiles, setImageFiles] = useState<File[]>([]);\n  const [imagePreviews, setImagePreviews] = useState<string[]>([]);\n  const [isLoading, setIsLoading] = useState(false);\n  const [error, setError] = useState<string | null>(null);\n  const [progress, setProgress] = useState({ current: 0, total: 0 });\n\n  const handleFileChange = (event: React.ChangeEvent<HTMLInputElement>) => {\n    const files = event.target.files;\n    if (files) {\n      let selectedFiles = Array.from(files);\n      if (selectedFiles.length > MAX_FILES) {\n        setError(`ì‚¬ì§„ì€ ìµœëŒ€ ${MAX_FILES}ì¥ê¹Œì§€ ì„ íƒí•  ìˆ˜ ìˆì–´ìš”!`);\n        selectedFiles = selectedFiles.slice(0, MAX_FILES);\n      } else {\n        setError(null);\n      }\n      \n      setImageFiles(selectedFiles);\n      const newPreviews: string[] = [];\n      selectedFiles.forEach(file => {\n        // FIX: Added a type guard to prevent errors if a list item is not a valid file.\n        // This robustly handles the reported \"Argument of type 'unknown' is not assignable to parameter of type 'Blob'\" error.\n        if (file instanceof File) {\n            const reader = new FileReader();\n            reader.onloadend = () => {\n              newPreviews.push(reader.result as string);\n              if (newPreviews.length === selectedFiles.length) {\n                setImagePreviews(newPreviews);\n              }\n            };\n            reader.readAsDataURL(file);\n        }\n      });\n    }\n  };\n\n  const handleSubmit = async () => {\n    if (imageFiles.length === 0) {\n      setError(\"ë¨¼ì € ì œí’ˆ ì‚¬ì§„ì„ ì„ íƒí•´ì£¼ì„¸ìš”!\");\n      return;\n    }\n    setIsLoading(true);\n    setError(null);\n    setProgress({ current: 0, total: imageFiles.length });\n\n    const newProducts: Omit<Product, 'id'>[] = [];\n    let successCount = 0;\n    \n    for (let i = 0; i < imageFiles.length; i++) {\n      const file = imageFiles[i];\n      setProgress({ current: i + 1, total: imageFiles.length });\n      try {\n        const base64Image = await fileToBase64(file);\n        const resizedImagePreview = await fileToResizedBase64(file);\n        const geminiResult = await analyzeProductImage(base64Image);\n        \n        const registrationDate = new Date();\n        const category = geminiResult.ë¶„ë¥˜ as ProductCategory;\n        \n        const monthsToAdd = geminiResult.ê°œë´‰í›„ì‚¬ìš©ê¸°í•œ || AVERAGE_USAGE_PERIODS[category] || 6;\n\n        const finalExpiryDate = calculateExpiryDate(\n          registrationDate.toISOString(),\n          monthsToAdd,\n          geminiResult.ì œì¡°ì¼ì,\n          geminiResult.ê°œë´‰ì „ìœ íš¨ê¸°ê°„,\n        );\n\n        newProducts.push({\n          name: geminiResult.ì œí’ˆëª…,\n          category: category,\n          registrationDate: registrationDate.toISOString(),\n          expiryDate: finalExpiryDate,\n          imageUrl: resizedImagePreview, // Use resized image to save space\n          manufacturingDate: geminiResult.ì œì¡°ì¼ì,\n          expiryPeriodBeforeOpening: geminiResult.ê°œë´‰ì „ìœ íš¨ê¸°ê°„,\n          periodAfterOpening: geminiResult.ê°œë´‰í›„ì‚¬ìš©ê¸°í•œ,\n          review: '',\n          hasTrouble: false,\n          stock: 1, // ê¸°ë³¸ ì¬ê³  1ë¡œ ì„¤ì •\n        });\n        successCount++;\n      } catch (err) {\n        console.error(`Error processing file ${file.name}:`, err);\n        // Silently fail for the single image and continue with others\n      }\n    }\n    \n    if (newProducts.length > 0) {\n      onAddMultipleProducts(newProducts);\n    }\n    \n    alert(`ì´ ${imageFiles.length}ê°œ ì¤‘ ${successCount}ê°œì˜ ì œí’ˆì„ ì„±ê³µì ìœ¼ë¡œ ë“±ë¡í–ˆì–´ìš”!`);\n    setIsLoading(false);\n  };\n\n  return (\n    <div className=\"p-4 flex flex-col h-full\">\n       <h2 className=\"text-2xl font-bold text-gray-700 mb-4 text-center\">ìƒˆë¡œìš´ ìš©í’ˆ ë“±ë¡í•˜ê¸° ğŸ“¸</h2>\n      <div className=\"flex-grow flex flex-col items-center justify-center\">\n        <label htmlFor=\"file-upload\" className=\"cursor-pointer w-full max-w-sm\">\n          <div className=\"border-4 border-dashed border-bathlance-gray rounded-2xl p-6 text-center hover:border-bathlance-orange transition-colors\">\n            {imagePreviews.length > 0 ? (\n              <div>\n                <div className=\"grid grid-cols-3 gap-2\">\n                {imagePreviews.map((src, index) => (\n                  <img key={index} src={src} alt={`ë¯¸ë¦¬ë³´ê¸° ${index + 1}`} className=\"w-full h-20 object-cover rounded-md\" />\n                ))}\n                </div>\n                <p className=\"mt-4 font-bold text-gray-700\">{imagePreviews.length}ê°œì˜ ì‚¬ì§„ì´ ì„ íƒë˜ì—ˆì–´ìš”.</p>\n                <p className=\"text-sm text-gray-500\">ë‹¤ì‹œ ëˆ„ë¥´ë©´ ì‚¬ì§„ì„ ë³€ê²½í•  ìˆ˜ ìˆì–´ìš”.</p>\n              </div>\n            ) : (\n              <div className=\"text-gray-500\">\n                <p className=\"text-6xl\">ğŸ“·</p>\n                <p className=\"mt-2 font-bold text-lg\">ì—¬ê¸°ë¥¼ ëˆŒëŸ¬ ì‚¬ì§„ì„ ì¶”ê°€í•˜ì„¸ìš”</p>\n                <p className=\"text-sm\">ìµœëŒ€ 10ì¥ê¹Œì§€ ì„ íƒí•  ìˆ˜ ìˆì–´ìš”.</p>\n              </div>\n            )}\n          </div>\n        </label>\n        <input id=\"file-upload\" type=\"file\" accept=\"image/*\" multiple className=\"hidden\" onChange={handleFileChange} />\n        \n        {error && <p className=\"text-red-500 mt-4 text-center\">{error}</p>}\n      </div>\n\n      <div className=\"mt-auto\">\n        {isLoading ? (\n          <div className=\"text-center\">\n            <div className=\"animate-spin rounded-full h-12 w-12 border-b-4 border-bathlance-orange mx-auto\"></div>\n            <p className=\"mt-4 text-gray-600 font-bold text-lg\">\n              AIê°€ ì‚¬ì§„ì„ ë¶„ì„í•˜ê³  ìˆì–´ìš”... ({progress.current}/{progress.total})\n            </p>\n            <p className=\"text-sm text-gray-500\">ì ì‹œë§Œ ê¸°ë‹¤ë ¤ì£¼ì„¸ìš”!</p>\n          </div>\n        ) : (\n          <div className=\"flex space-x-4\">\n            <button onClick={onCancel} className=\"w-1/3 bg-gray-300 text-gray-800 font-bold py-3 px-4 rounded-full shadow-md hover:bg-gray-400 transition-colors\">ì·¨ì†Œ</button>\n            <button onClick={handleSubmit} disabled={imageFiles.length === 0} className=\"w-2/3 bg-bathlance-orange text-white font-bold py-3 px-4 rounded-full shadow-lg hover:bg-orange-600 transition-colors disabled:bg-gray-400 disabled:cursor-not-allowed\">\n              {imageFiles.length > 0 ? `${imageFiles.length}ê°œ ì œí’ˆ ë“±ë¡í•˜ê¸°` : 'ìë™ìœ¼ë¡œ ë“±ë¡í•˜ê¸°'}\n            </button>\n          </div>\n        )}\n      </div>\n    </div>\n  );\n};"],"names":[],"mappings":"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"}},
    {"offset": {"line": 2189, "column": 0}, "map": {"version":3,"sources":["file:///C:/coding/bathlance_1/components/EditProductScreen.tsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { Product, ProductCategory } from '../types';\nimport { formatDate, calculateExpiryDate } from '../utils/dateUtils';\nimport { AVERAGE_USAGE_PERIODS } from '../constants';\nimport { analyzeIngredients } from '../services/geminiService';\n\ninterface EditProductScreenProps {\n  product: Product;\n  onUpdateProduct: (product: Product) => void;\n  onCancel: () => void;\n}\n\nexport const EditProductScreen: React.FC<EditProductScreenProps> = ({ product, onUpdateProduct, onCancel }) => {\n  const [formData, setFormData] = useState(product);\n  const [isAnalyzing, setIsAnalyzing] = useState(false);\n  const [analysisError, setAnalysisError] = useState<string | null>(null);\n\n  useEffect(() => {\n    setFormData(product);\n  }, [product]);\n  \n  // Add a useEffect to automatically update the expiry date when relevant fields change.\n  useEffect(() => {\n    const { registrationDate, periodAfterOpening, manufacturingDate, expiryPeriodBeforeOpening, category } = formData;\n    \n    // Use the specific period after opening if available, otherwise fall back to the category average.\n    const monthsToAdd = periodAfterOpening || AVERAGE_USAGE_PERIODS[category] || 6;\n\n    if (registrationDate) {\n      const newExpiryDate = calculateExpiryDate(\n        registrationDate,\n        monthsToAdd,\n        manufacturingDate,\n        expiryPeriodBeforeOpening\n      );\n      // Update only the expiry date to avoid re-render loops.\n      // Check if the date has actually changed before setting state.\n      if (newExpiryDate !== formData.expiryDate) {\n          setFormData(prev => ({ ...prev, expiryDate: newExpiryDate }));\n      }\n    }\n  }, [formData.registrationDate, formData.periodAfterOpening, formData.manufacturingDate, formData.expiryPeriodBeforeOpening, formData.category, formData.expiryDate]);\n\n\n  const handleChange = (e: React.ChangeEvent<HTMLInputElement | HTMLSelectElement | HTMLTextAreaElement>) => {\n    const { name, value, type } = e.target;\n    \n    if (type === 'checkbox') {\n        const { checked } = e.target as HTMLInputElement;\n        setFormData(prev => ({...prev, [name]: checked}));\n        return;\n    }\n    \n    if (name === 'periodAfterOpening' || name === 'expiryPeriodBeforeOpening' || name === 'stock') {\n      let numValue = parseInt(value, 10);\n      if (name === 'stock') {\n          if (numValue > 50) numValue = 50;\n          if (numValue < 0) numValue = 0;\n      }\n      setFormData(prev => ({ ...prev, [name]: isNaN(numValue) ? undefined : numValue }));\n    } else {\n       // When changing a date, the value will be like \"2024-10-23\".\n       // To maintain consistency, we convert it to an ISO string at midnight UTC.\n       if (type === 'date' && value) {\n         const date = new Date(value);\n         const isoString = new Date(date.getTime() + date.getTimezoneOffset() * 60000).toISOString();\n         setFormData(prev => ({ ...prev, [name]: isoString }));\n       } else {\n         setFormData(prev => ({ ...prev, [name]: value }));\n       }\n    }\n  };\n  \n  const handleCategoryChange = (e: React.ChangeEvent<HTMLSelectElement>) => {\n    setFormData(prev => ({\n        ...prev,\n        category: e.target.value as ProductCategory,\n    }));\n  };\n\n  const handleAnalyzeIngredients = async () => {\n    setIsAnalyzing(true);\n    setAnalysisError(null);\n    try {\n      const base64Image = formData.imageUrl.split(',')[1];\n      if (!base64Image) {\n        throw new Error('ì´ë¯¸ì§€ ë°ì´í„°ê°€ ì˜¬ë°”ë¥´ì§€ ì•Šì•„ìš”.');\n      }\n      const result = await analyzeIngredients(base64Image);\n      setFormData(prev => ({ ...prev, ingredientAnalysis: result.ingredients }));\n    } catch (error: any) {\n      console.error(error);\n      setAnalysisError(error.message || 'ì„±ë¶„ ë¶„ì„ì— ì‹¤íŒ¨í–ˆì–´ìš”. ì´ë¯¸ì§€ì— ì „ì„±ë¶„í‘œê°€ ì˜ ë³´ì´ëŠ”ì§€ í™•ì¸ í›„ ë‹¤ì‹œ ì‹œë„í•´ì£¼ì„¸ìš”.');\n    } finally {\n      setIsAnalyzing(false);\n    }\n  };\n\n  const getEwgClass = (grade: string): string => {\n      if (grade.toLowerCase().includes('ì£¼ì˜') || grade.toLowerCase().includes('caution')) {\n        return 'bg-red-100 text-red-800 border border-red-200';\n      }\n      const match = grade.match(/(\\d+)/);\n      if (match) {\n          const gradeNum = parseInt(match[1], 10);\n          if (gradeNum >= 7) return 'bg-red-100 text-red-800 border border-red-200';\n          if (gradeNum >= 3) return 'bg-yellow-100 text-yellow-800 border border-yellow-200';\n          if (gradeNum >= 1) return 'bg-green-100 text-green-800 border border-green-200';\n      }\n      return 'bg-gray-100 text-gray-800 border border-gray-200';\n  };\n\n  const handleSubmit = (e: React.FormEvent) => {\n    e.preventDefault();\n    onUpdateProduct(formData);\n  };\n\n  return (\n    <div className=\"p-4\">\n      <h2 className=\"text-2xl font-bold text-gray-700 mb-6 text-center\">ì œí’ˆ ì •ë³´ ìˆ˜ì •í•˜ê¸° âœï¸</h2>\n      <form onSubmit={handleSubmit} className=\"space-y-4\">\n        <div className=\"text-center\">\n            <img src={formData.imageUrl} alt={formData.name} className=\"w-32 h-32 object-cover rounded-lg mx-auto border-4 border-white shadow-lg\"/>\n        </div>\n        <div>\n          <label htmlFor=\"name\" className=\"block text-md font-bold text-gray-600 mb-1\">ì œí’ˆ ì´ë¦„</label>\n          <input\n            type=\"text\"\n            id=\"name\"\n            name=\"name\"\n            value={formData.name}\n            onChange={handleChange}\n            className=\"block w-full px-4 py-3 bg-white border border-gray-300 rounded-full shadow-sm focus:outline-none focus:ring-bathlance-orange focus:border-bathlance-orange\"\n          />\n        </div>\n        <div>\n          <label htmlFor=\"category\" className=\"block text-md font-bold text-gray-600 mb-1\">ë¶„ë¥˜</label>\n          <select\n            id=\"category\"\n            name=\"category\"\n            value={formData.category}\n            onChange={handleCategoryChange}\n            className=\"block w-full px-4 py-3 bg-white border border-gray-300 rounded-full shadow-sm focus:outline-none focus:ring-bathlance-orange focus:border-bathlance-orange\"\n          >\n            {Object.keys(AVERAGE_USAGE_PERIODS).map(cat => <option key={cat} value={cat}>{cat}</option>)}\n          </select>\n        </div>\n        <div>\n          <label htmlFor=\"periodAfterOpening\" className=\"block text-md font-bold text-gray-600 mb-1\">ê°œë´‰ í›„ ì‚¬ìš©ê¸°í•œ (ê°œì›”)</label>\n          <input\n            type=\"number\"\n            id=\"periodAfterOpening\"\n            name=\"periodAfterOpening\"\n            value={formData.periodAfterOpening || ''}\n            onChange={handleChange}\n            placeholder=\"ì˜ˆ: 12 (AIê°€ ìë™ ì…ë ¥í•´ìš”)\"\n            className=\"block w-full px-4 py-3 bg-white border border-gray-300 rounded-full shadow-sm focus:outline-none focus:ring-bathlance-orange focus:border-bathlance-orange\"\n          />\n        </div>\n        <div>\n          <label htmlFor=\"manufacturingDate\" className=\"block text-md font-bold text-gray-600 mb-1\">ì œì¡°ì¼</label>\n          <input\n            type=\"date\"\n            id=\"manufacturingDate\"\n            name=\"manufacturingDate\"\n            value={formData.manufacturingDate ? formatDate(formData.manufacturingDate) : ''}\n            onChange={handleChange}\n            className=\"block w-full px-4 py-3 bg-white border border-gray-300 rounded-full shadow-sm focus:outline-none focus:ring-bathlance-orange focus:border-bathlance-orange\"\n          />\n        </div>\n        <div>\n          <label htmlFor=\"expiryPeriodBeforeOpening\" className=\"block text-md font-bold text-gray-600 mb-1\">ê°œë´‰ ì „ ìœ íš¨ê¸°ê°„ (ê°œì›” ìˆ˜)</label>\n          <input\n            type=\"number\"\n            id=\"expiryPeriodBeforeOpening\"\n            name=\"expiryPeriodBeforeOpening\"\n            value={formData.expiryPeriodBeforeOpening || ''}\n            onChange={handleChange}\n            placeholder=\"ì˜ˆ: 36 (ì œì¡°ì¼ë¡œë¶€í„°)\"\n            className=\"block w-full px-4 py-3 bg-white border border-gray-300 rounded-full shadow-sm focus:outline-none focus:ring-bathlance-orange focus:border-bathlance-orange\"\n          />\n        </div>\n         <div>\n          <label htmlFor=\"stock\" className=\"block text-md font-bold text-gray-600 mb-1\">ì¬ê³  ìˆ˜ëŸ‰</label>\n          <input\n            type=\"number\"\n            id=\"stock\"\n            name=\"stock\"\n            value={formData.stock ?? 1}\n            onChange={handleChange}\n            min=\"0\"\n            max=\"50\"\n            placeholder=\"1\"\n            className=\"block w-full px-4 py-3 bg-white border border-gray-300 rounded-full shadow-sm focus:outline-none focus:ring-bathlance-orange focus:border-bathlance-orange\"\n          />\n        </div>\n        <div>\n          <label htmlFor=\"registrationDate\" className=\"block text-md font-bold text-gray-600 mb-1\">ë“±ë¡ì¼ (ê°œë´‰ì¼)</label>\n          <input\n            type=\"date\"\n            id=\"registrationDate\"\n            name=\"registrationDate\"\n            value={formatDate(formData.registrationDate)}\n            onChange={handleChange}\n            className=\"block w-full px-4 py-3 bg-white border border-gray-300 rounded-full shadow-sm focus:outline-none focus:ring-bathlance-orange focus:border-bathlance-orange\"\n          />\n        </div>\n        <div>\n          <label htmlFor=\"expiryDate\" className=\"block text-md font-bold text-gray-600 mb-1\">êµì²´ ì˜ˆì •ì¼ (ìë™ ê³„ì‚°)</label>\n          <input\n            type=\"date\"\n            id=\"expiryDate\"\n            name=\"expiryDate\"\n            value={formatDate(formData.expiryDate)}\n            readOnly\n            className=\"block w-full px-4 py-3 bg-gray-100 border border-gray-300 rounded-full shadow-sm focus:outline-none focus:ring-bathlance-orange focus:border-bathlance-orange cursor-not-allowed\"\n          />\n        </div>\n\n        <div className=\"pt-2\">\n            <h3 className=\"text-md font-bold text-gray-600 mb-2 flex items-center\">AI ì„±ë¶„ ë¶„ì„ ğŸ”¬ <span className=\"text-xs font-normal text-gray-500 ml-2\">(ì œí’ˆ ë’·ë©´ ì‚¬ì§„ í•„ìš”)</span></h3>\n            {formData.ingredientAnalysis && formData.ingredientAnalysis.length > 0 ? (\n                <div className=\"bg-white border border-gray-200 rounded-2xl p-4 space-y-2 max-h-60 overflow-y-auto\">\n                {formData.ingredientAnalysis.map((ing, index) => (\n                    <div key={index} className=\"flex justify-between items-center text-sm p-2 rounded-lg hover:bg-gray-50\">\n                        <div className=\"flex-1 mr-2\">\n                            <p className=\"font-bold text-gray-700\">{ing.name}</p>\n                            {ing.description && <p className=\"text-xs text-gray-500 mt-1\">{ing.description}</p>}\n                        </div>\n                        <div className=\"flex items-center space-x-2 flex-shrink-0\">\n                            {ing.isAllergen && (\n                                <span className=\"text-xs font-bold text-red-600 bg-red-100 px-2 py-0.5 rounded-full border border-red-200\">ì•ŒëŸ¬ì§€ì£¼ì˜</span>\n                            )}\n                            <span className={`text-xs font-bold px-2 py-1 rounded-full ${getEwgClass(ing.ewgGrade)}`}>\n                                EWG {ing.ewgGrade}\n                            </span>\n                        </div>\n                    </div>\n                ))}\n                </div>\n            ) : (\n                <div className=\"text-center p-4 bg-gray-50 border-2 border-dashed rounded-2xl\">\n                <p className=\"text-gray-500 mb-3\">ì œí’ˆ ë’·ë©´ì˜ ì „ì„±ë¶„í‘œë¥¼ ë¶„ì„í•˜ì—¬<br />ì•ˆì „ ë“±ê¸‰ê³¼ ì•Œë ˆë¥´ê¸° ì •ë³´ë¥¼ ì•Œë ¤ë“œë ¤ìš”.</p>\n                {isAnalyzing ? (\n                    <div className=\"flex items-center justify-center h-[36px]\">\n                        <div className=\"animate-spin rounded-full h-6 w-6 border-b-2 border-bathlance-orange\"></div>\n                        <span className=\"ml-3 text-gray-600\">ë¶„ì„ ì¤‘...</span>\n                    </div>\n                ) : (\n                    <button \n                    type=\"button\" \n                    onClick={handleAnalyzeIngredients}\n                    className=\"bg-bathlance-yellow text-bathlance-orange font-bold py-2 px-5 rounded-full shadow-md hover:bg-yellow-400 transition-colors\"\n                    >\n                    AIë¡œ ì„±ë¶„ ë¶„ì„í•˜ê¸°\n                    </button>\n                )}\n                </div>\n            )}\n            {analysisError && <p className=\"text-red-500 mt-2 text-sm text-center\">{analysisError}</p>}\n        </div>\n\n         <div>\n          <label htmlFor=\"review\" className=\"block text-md font-bold text-gray-600 mb-1\">ê°„ë‹¨ í›„ê¸° ğŸ“</label>\n          <textarea\n            id=\"review\"\n            name=\"review\"\n            value={formData.review || ''}\n            onChange={handleChange}\n            rows={3}\n            placeholder=\"ì œí’ˆ ì‚¬ìš© í›„ê¸°ë¥¼ ê°„ë‹¨í•˜ê²Œ ë‚¨ê²¨ë³´ì„¸ìš”. (ì˜ˆ: í–¥ì´ ì¢‹ì•˜ì–´ìš”!)\"\n            className=\"block w-full px-4 py-3 bg-white border border-gray-300 rounded-2xl shadow-sm focus:outline-none focus:ring-bathlance-orange focus:border-bathlance-orange\"\n          />\n        </div>\n\n        <div className=\"flex items-center justify-between bg-red-50 border-l-4 border-red-400 p-4 rounded-r-lg\">\n          <div className=\"flex-1\">\n            <label htmlFor=\"hasTrouble\" className=\"font-bold text-red-700\">í”¼ë¶€ íŠ¸ëŸ¬ë¸” ë°œìƒ! ğŸ˜¥</label>\n            <p className=\"text-sm text-red-600\">ë‹¤ìŒì— ì‚¬ìš©í•˜ì§€ ì•Šë„ë¡ ì²´í¬í•´ë‘˜ê²Œìš”.</p>\n          </div>\n          <input\n            type=\"checkbox\"\n            id=\"hasTrouble\"\n            name=\"hasTrouble\"\n            checked={!!formData.hasTrouble}\n            onChange={handleChange}\n            className=\"h-6 w-6 text-red-600 border-gray-300 rounded focus:ring-red-500 cursor-pointer\"\n          />\n        </div>\n        <div className=\"flex space-x-4 pt-4\">\n          <button type=\"button\" onClick={onCancel} className=\"w-1/2 bg-gray-300 text-gray-800 font-bold py-3 px-4 rounded-full shadow-md hover:bg-gray-400 transition-colors\">ì·¨ì†Œ</button>\n          <button type=\"submit\" className=\"w-1/2 bg-bathlance-orange text-white font-bold py-3 px-4 rounded-full shadow-lg hover:bg-orange-600 transition-colors\">ì €ì¥í•˜ê¸°</button>\n        </div>\n      </form>\n    </div>\n  );\n};"],"names":[],"mappings":"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"}},
    {"offset": {"line": 2890, "column": 0}, "map": {"version":3,"sources":["file:///C:/coding/bathlance_1/components/ConfirmationModal.tsx"],"sourcesContent":["import React from 'react';\n\ninterface ConfirmationModalProps {\n  isOpen: boolean;\n  onClose: () => void;\n  onConfirm: () => void;\n  title: string;\n  message: string;\n}\n\nexport const ConfirmationModal: React.FC<ConfirmationModalProps> = ({ isOpen, onClose, onConfirm, title, message }) => {\n  if (!isOpen) return null;\n\n  return (\n    <div className=\"fixed inset-0 bg-black bg-opacity-50 flex justify-center items-center z-50 transition-opacity duration-300\" onClick={onClose}>\n      <div className=\"bg-white rounded-2xl shadow-2xl p-6 m-4 max-w-sm w-full text-center transform transition-all duration-300 scale-95 animate-scale-in\" onClick={(e) => e.stopPropagation()}>\n        <div className=\"text-5xl mb-4\">ğŸ—‘ï¸</div>\n        <h3 className=\"text-2xl font-bold text-gray-800 mb-2\">{title}</h3>\n        <p className=\"text-gray-600 mb-6\">{message}</p>\n        <div className=\"flex justify-center space-x-4\">\n          <button onClick={onClose} className=\"w-1/2 bg-gray-300 text-gray-800 font-bold py-3 px-4 rounded-full shadow-md hover:bg-gray-400 transition-colors\">\n            ì·¨ì†Œ\n          </button>\n          <button onClick={onConfirm} className=\"w-1/2 bg-red-500 text-white font-bold py-3 px-4 rounded-full shadow-lg hover:bg-red-600 transition-colors\">\n            ì‚­ì œ\n          </button>\n        </div>\n      </div>\n      <style>{`\n        @keyframes scale-in {\n          from { transform: scale(0.9); opacity: 0; }\n          to { transform: scale(1); opacity: 1; }\n        }\n        .animate-scale-in {\n          animation: scale-in 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275) forwards;\n        }\n      `}</style>\n    </div>\n  );\n};\n"],"names":[],"mappings":";;;;;;AAUO,MAAM,oBAAsD,CAAC,EAAE,MAAM,EAAE,OAAO,EAAE,SAAS,EAAE,KAAK,EAAE,OAAO,EAAE;IAChH,IAAI,CAAC,QAAQ,OAAO;IAEpB,qBACE,4SAAC;QAAI,WAAU;QAA6G,SAAS;;0BACnI,4SAAC;gBAAI,WAAU;gBAAsI,SAAS,CAAC,IAAM,EAAE,eAAe;;kCACpL,4SAAC;wBAAI,WAAU;kCAAgB;;;;;;kCAC/B,4SAAC;wBAAG,WAAU;kCAAyC;;;;;;kCACvD,4SAAC;wBAAE,WAAU;kCAAsB;;;;;;kCACnC,4SAAC;wBAAI,WAAU;;0CACb,4SAAC;gCAAO,SAAS;gCAAS,WAAU;0CAAiH;;;;;;0CAGrJ,4SAAC;gCAAO,SAAS;gCAAW,WAAU;0CAA4G;;;;;;;;;;;;;;;;;;0BAKtJ,4SAAC;0BAAO,CAAC;;;;;;;;MAQT,CAAC;;;;;;;;;;;;AAGP;KA7Ba"}},
    {"offset": {"line": 2995, "column": 0}, "map": {"version":3,"sources":["file:///C:/coding/bathlance_1/components/SettingsScreen.tsx"],"sourcesContent":["import React, { useState } from 'react';\nimport { ConfirmationModal } from './ConfirmationModal';\n\nconst NOTIFICATION_KEY = 'bathlance_notification_days';\n\ninterface SettingsScreenProps {\n    onClearAllData: () => void;\n}\n\nexport const SettingsScreen: React.FC<SettingsScreenProps> = ({ onClearAllData }) => {\n    const [notificationDays, setNotificationDays] = useState(() => {\n        return localStorage.getItem(NOTIFICATION_KEY) || '7';\n    });\n    const [isDeleteModalOpen, setIsDeleteModalOpen] = useState(false);\n\n    const handleNotificationChange = (e: React.ChangeEvent<HTMLSelectElement>) => {\n        const days = e.target.value;\n        setNotificationDays(days);\n        localStorage.setItem(NOTIFICATION_KEY, days);\n        alert(`ì•Œë¦¼ì´ êµì²´ ${days}ì¼ ì „ì— ì˜¤ë„ë¡ ì„¤ì •ë˜ì—ˆì–´ìš”! (ì‹¤ì œ ì•Œë¦¼ì€ ì§€ì›ë˜ì§€ ì•Šì•„ìš”)`);\n    };\n    \n    const handleConfirmClearData = () => {\n        setIsDeleteModalOpen(false);\n        onClearAllData();\n    };\n\n    return (\n        <>\n            <div className=\"p-4\">\n                <h2 className=\"text-2xl font-bold text-gray-700 mb-6 text-center\">ì„¤ì • âš™ï¸</h2>\n                <div className=\"bg-white rounded-2xl shadow-lg p-6 space-y-6\">\n                    <div>\n                        <label htmlFor=\"notification\" className=\"block text-md font-bold text-gray-600\">ì•Œë¦¼ ì„¤ì •</label>\n                        <p className=\"text-sm text-gray-500 mb-2\">êµì²´ì¼ ë©°ì¹  ì „ì— ì•Œë¦¼ì„ ë°›ì„ì§€ ì„ íƒí•˜ì„¸ìš”.</p>\n                        <select\n                            id=\"notification\"\n                            value={notificationDays}\n                            onChange={handleNotificationChange}\n                            className=\"mt-1 block w-full px-4 py-3 bg-white border border-gray-300 rounded-full shadow-sm focus:outline-none focus:ring-bathlance-orange focus:border-bathlance-orange\"\n                        >\n                            <option value=\"1\">1ì¼ ì „</option>\n                            <option value=\"3\">3ì¼ ì „</option>\n                            <option value=\"7\">7ì¼ ì „</option>\n                            <option value=\"14\">14ì¼ ì „</option>\n                        </select>\n                    </div>\n\n                    <div>\n                        <h3 className=\"text-md font-bold text-gray-600\">ë°ì´í„° ê´€ë¦¬</h3>\n                        <p className=\"text-sm text-gray-500 mb-2\">ì•±ì— ì €ì¥ëœ ëª¨ë“  ì œí’ˆ ì •ë³´ë¥¼ ì‚­ì œí•©ë‹ˆë‹¤.</p>\n                         <button \n                            onClick={() => setIsDeleteModalOpen(true)}\n                            className=\"w-full bg-red-500 text-white font-bold py-3 px-4 rounded-full shadow-lg hover:bg-red-600 transition-colors\"\n                        >\n                            ëª¨ë“  ë°ì´í„° ì‚­ì œí•˜ê¸°\n                        </button>\n                    </div>\n\n                    <div className=\"text-center text-gray-400 pt-4\">\n                        <p>BATHLANCE v1.0</p>\n                        <p>ê·€ì—¬ìš´ ìš•ì‹¤ ê´€ë¦¬ ë„ìš°ë¯¸</p>\n                    </div>\n                </div>\n            </div>\n            <ConfirmationModal\n                isOpen={isDeleteModalOpen}\n                onClose={() => setIsDeleteModalOpen(false)}\n                onConfirm={handleConfirmClearData}\n                title=\"ì •ë§ ëª¨ë“  ë°ì´í„°ë¥¼ ì‚­ì œí• ê¹Œìš”?\"\n                message=\"ì œí’ˆ, ë©”ëª¨, ì„¤ì • ë“± ëª¨ë“  ì •ë³´ê°€ ì˜êµ¬ì ìœ¼ë¡œ ì‚­ì œë©ë‹ˆë‹¤. ì´ ì‘ì—…ì€ ë˜ëŒë¦´ ìˆ˜ ì—†ì–´ìš”!\"\n            />\n        </>\n    );\n};"],"names":[],"mappings":";;;;;AAAA;AACA;;;;;AAEA,MAAM,mBAAmB;AAMlB,MAAM,iBAAgD,CAAC,EAAE,cAAc,EAAE;;IAC5E,MAAM,CAAC,kBAAkB,oBAAoB,GAAG,IAAA,wRAAQ;mCAAC;YACrD,OAAO,aAAa,OAAO,CAAC,qBAAqB;QACrD;;IACA,MAAM,CAAC,mBAAmB,qBAAqB,GAAG,IAAA,wRAAQ,EAAC;IAE3D,MAAM,2BAA2B,CAAC;QAC9B,MAAM,OAAO,EAAE,MAAM,CAAC,KAAK;QAC3B,oBAAoB;QACpB,aAAa,OAAO,CAAC,kBAAkB;QACvC,MAAM,CAAC,OAAO,EAAE,KAAK,kCAAkC,CAAC;IAC5D;IAEA,MAAM,yBAAyB;QAC3B,qBAAqB;QACrB;IACJ;IAEA,qBACI;;0BACI,4SAAC;gBAAI,WAAU;;kCACX,4SAAC;wBAAG,WAAU;kCAAoD;;;;;;kCAClE,4SAAC;wBAAI,WAAU;;0CACX,4SAAC;;kDACG,4SAAC;wCAAM,SAAQ;wCAAe,WAAU;kDAAwC;;;;;;kDAChF,4SAAC;wCAAE,WAAU;kDAA6B;;;;;;kDAC1C,4SAAC;wCACG,IAAG;wCACH,OAAO;wCACP,UAAU;wCACV,WAAU;;0DAEV,4SAAC;gDAAO,OAAM;0DAAI;;;;;;0DAClB,4SAAC;gDAAO,OAAM;0DAAI;;;;;;0DAClB,4SAAC;gDAAO,OAAM;0DAAI;;;;;;0DAClB,4SAAC;gDAAO,OAAM;0DAAK;;;;;;;;;;;;;;;;;;0CAI3B,4SAAC;;kDACG,4SAAC;wCAAG,WAAU;kDAAkC;;;;;;kDAChD,4SAAC;wCAAE,WAAU;kDAA6B;;;;;;kDACzC,4SAAC;wCACE,SAAS,IAAM,qBAAqB;wCACpC,WAAU;kDACb;;;;;;;;;;;;0CAKL,4SAAC;gCAAI,WAAU;;kDACX,4SAAC;kDAAE;;;;;;kDACH,4SAAC;kDAAE;;;;;;;;;;;;;;;;;;;;;;;;0BAIf,4SAAC,wJAAiB;gBACd,QAAQ;gBACR,SAAS,IAAM,qBAAqB;gBACpC,WAAW;gBACX,OAAM;gBACN,SAAQ;;;;;;;;AAIxB;GAjEa;KAAA"}},
    {"offset": {"line": 3203, "column": 0}, "map": {"version":3,"sources":["file:///C:/coding/bathlance_1/components/MemoScreen.tsx"],"sourcesContent":["import React, { useState } from 'react';\nimport { ShoppingListItem, DiaryEntry } from '../types';\nimport { TrashIcon } from './icons/TrashIcon';\nimport { formatDate } from '../utils/dateUtils';\n\ninterface MemoScreenProps {\n    shoppingList: ShoppingListItem[];\n    onAddItem: (name: string) => void;\n    onToggleItem: (id: string) => void;\n    onDeleteItem: (id: string) => void;\n    diaryEntries: DiaryEntry[];\n    onAddEntry: (content: string) => void;\n    onDeleteEntry: (id: string) => void;\n}\n\nconst ShoppingList: React.FC<Omit<MemoScreenProps, 'diaryEntries' | 'onAddEntry' | 'onDeleteEntry'>> = \n  ({ shoppingList, onAddItem, onToggleItem, onDeleteItem }) => {\n    const [newItemName, setNewItemName] = useState('');\n\n    const handleAddItem = (e: React.FormEvent) => {\n        e.preventDefault();\n        if (newItemName.trim()) {\n            onAddItem(newItemName.trim());\n            setNewItemName('');\n        }\n    };\n\n    return (\n        <div className=\"bg-white rounded-2xl shadow-lg p-6\">\n            <h3 className=\"text-xl font-bold text-gray-700 mb-4 text-center\">ìƒˆë¡œ êµ¬ë§¤í•´ì•¼ í•  ìš©í’ˆ ë¦¬ìŠ¤íŠ¸ ğŸ›’</h3>\n            <form onSubmit={handleAddItem} className=\"flex space-x-2 mb-4\">\n                <input \n                    type=\"text\"\n                    value={newItemName}\n                    onChange={(e) => setNewItemName(e.target.value)}\n                    placeholder=\"ì‚¬ê³  ì‹¶ì€ ì œí’ˆì„ ì…ë ¥í•˜ì„¸ìš”...\"\n                    className=\"flex-grow px-4 py-2 bg-gray-100 border border-gray-200 rounded-full focus:outline-none focus:ring-2 focus:ring-bathlance-yellow\"\n                />\n                <button type=\"submit\" className=\"bg-bathlance-orange text-white font-bold py-2 px-4 rounded-full shadow-md hover:bg-orange-600 transition-colors\">\n                    ì¶”ê°€\n                </button>\n            </form>\n            <ul className=\"space-y-2 max-h-60 overflow-y-auto\">\n                {shoppingList.length > 0 ? shoppingList.map(item => (\n                    <li key={item.id} className=\"flex items-center justify-between p-2 rounded-lg hover:bg-gray-50\">\n                        <label className=\"flex items-center cursor-pointer flex-grow\">\n                            <input \n                                type=\"checkbox\"\n                                checked={item.checked}\n                                onChange={() => onToggleItem(item.id)}\n                                className=\"h-5 w-5 rounded border-gray-300 text-bathlance-orange focus:ring-bathlance-orange\"\n                            />\n                            <span className={`ml-3 text-gray-700 ${item.checked ? 'line-through text-gray-400' : ''}`}>\n                                {item.name}\n                            </span>\n                        </label>\n                        <button onClick={() => onDeleteItem(item.id)} className=\"text-gray-400 hover:text-red-600 ml-2\">\n                            <TrashIcon className=\"w-5 h-5\" />\n                        </button>\n                    </li>\n                )) : (\n                    <p className=\"text-center text-gray-400 py-4\">êµ¬ë§¤í•  ìš©í’ˆì´ ì—†ì–´ìš”!</p>\n                )}\n            </ul>\n        </div>\n    );\n};\n\nconst ShowerDiary: React.FC<Omit<MemoScreenProps, 'shoppingList' | 'onAddItem' | 'onToggleItem' | 'onDeleteItem'>> = \n  ({ diaryEntries, onAddEntry, onDeleteEntry }) => {\n    const [newEntryContent, setNewEntryContent] = useState('');\n\n    const handleAddEntry = () => {\n        if (newEntryContent.trim()) {\n            onAddEntry(newEntryContent.trim());\n            setNewEntryContent('');\n        }\n    };\n\n    return (\n        <div className=\"bg-white rounded-2xl shadow-lg p-6\">\n             <h3 className=\"text-xl font-bold text-gray-700 mb-4 text-center\">ìƒ¤ì›Œ ì¼ê¸°ì¥ ğŸ’¡</h3>\n             {diaryEntries.length < 10 ? (\n                <div className=\"mb-4\">\n                    <textarea\n                        value={newEntryContent}\n                        onChange={(e) => setNewEntryContent(e.target.value)}\n                        rows={4}\n                        placeholder=\"ìƒ¤ì›Œ ì¤‘ ë– ì˜¤ë¥¸ ìƒê°, ì•„ì´ë””ì–´, í•  ì¼ ë“±ì„ ê¸°ë¡í•´ë³´ì„¸ìš”...\"\n                        className=\"w-full p-3 bg-yellow-50 border border-yellow-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-bathlance-yellow\"\n                    />\n                    <button onClick={handleAddEntry} className=\"w-full mt-2 bg-bathlance-yellow text-bathlance-orange font-bold py-2 px-4 rounded-full shadow-md hover:bg-yellow-400 transition-colors\">\n                        ì¼ê¸° ì¶”ê°€í•˜ê¸°\n                    </button>\n                </div>\n             ) : (\n                <p className=\"text-center text-gray-500 bg-gray-100 p-3 rounded-lg mb-4\">ì¼ê¸°ì¥ì€ 10ê°œê¹Œì§€ ì‘ì„±í•  ìˆ˜ ìˆì–´ìš”.</p>\n             )}\n             <div className=\"space-y-4 max-h-80 overflow-y-auto\">\n                {diaryEntries.length > 0 ? diaryEntries.map(entry => (\n                    <div key={entry.id} className=\"bg-gray-50 p-4 rounded-lg relative\">\n                        <p className=\"text-xs text-gray-400 mb-1\">{formatDate(entry.date)}</p>\n                        <p className=\"text-gray-800 whitespace-pre-wrap\">{entry.content}</p>\n                        <button onClick={() => onDeleteEntry(entry.id)} className=\"absolute top-2 right-2 text-gray-400 hover:text-red-600\">\n                            <TrashIcon className=\"w-4 h-4\" />\n                        </button>\n                    </div>\n                )) : (\n                    <p className=\"text-center text-gray-400 py-4\">ì•„ì§ ì‘ì„±ëœ ì¼ê¸°ê°€ ì—†ì–´ìš”.</p>\n                )}\n             </div>\n        </div>\n    );\n};\n\n\nexport const MemoScreen: React.FC<MemoScreenProps> = (props) => {\n    return (\n        <div className=\"p-4 space-y-6\">\n             <h2 className=\"text-2xl font-bold text-gray-700 text-center\">ë©”ëª¨ì¥ ğŸ“</h2>\n            <ShoppingList \n                shoppingList={props.shoppingList}\n                onAddItem={props.onAddItem}\n                onToggleItem={props.onToggleItem}\n                onDeleteItem={props.onDeleteItem}\n            />\n            <ShowerDiary \n                diaryEntries={props.diaryEntries}\n                onAddEntry={props.onAddEntry}\n                onDeleteEntry={props.onDeleteEntry}\n            />\n        </div>\n    );\n};\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 3510, "column": 0}, "map": {"version":3,"sources":["file:///C:/coding/bathlance_1/app/page.tsx"],"sourcesContent":["'use client';\r\n\r\nimport React, { useState, useCallback, useEffect } from 'react';\r\nimport { Product, Screen } from '../types';\r\nimport { useProducts } from '../hooks/useProducts';\r\nimport { useMemos } from '../hooks/useMemos';\r\nimport { Header } from '../components/Header';\r\nimport { BottomNav } from '../components/BottomNav';\r\nimport { HomeScreen } from '../components/HomeScreen';\r\nimport { AddProductScreen } from '../components/AddProductScreen';\r\nimport { EditProductScreen } from '../components/EditProductScreen';\r\nimport { SettingsScreen } from '../components/SettingsScreen';\r\nimport { MemoScreen } from '../components/MemoScreen';\r\nimport { ConfirmationModal } from '../components/ConfirmationModal';\r\nimport { getDaysRemaining, calculateExpiryDate } from '../utils/dateUtils';\r\nimport { AVERAGE_USAGE_PERIODS, NOTIFICATION_DAYS_BEFORE } from '../constants';\r\nimport { SignedIn, SignedOut, SignInButton, SignUpButton } from '@clerk/nextjs';\r\n\r\nexport default function HomePage() {\r\n  const { products, addMultipleProducts, updateProduct, deleteProduct, reorderProducts, clearAllProducts } = useProducts();\r\n  const { \r\n    shoppingList, \r\n    addShoppingListItem, \r\n    toggleShoppingListItem, \r\n    deleteShoppingListItem,\r\n    diaryEntries,\r\n    addDiaryEntry,\r\n    deleteDiaryEntry,\r\n    clearAllMemos,\r\n  } = useMemos();\r\n  const [activeScreen, setActiveScreen] = useState<Screen>('add');\r\n  const [selectedProduct, setSelectedProduct] = useState<Product | null>(null);\r\n  const [isDeleteModalOpen, setIsDeleteModalOpen] = useState(false);\r\n  const [productToDelete, setProductToDelete] = useState<string | null>(null);\r\n\r\n  useEffect(() => {\r\n    // FIX: Use notification days from localStorage to respect user settings.\r\n    const notificationDays = parseInt(\r\n        localStorage.getItem('bathlance_notification_days') || `${NOTIFICATION_DAYS_BEFORE}`,\r\n        10\r\n    );\r\n    const notifiedProducts = new Set(JSON.parse(sessionStorage.getItem('notifiedProducts') || '[]'));\r\n    \r\n    products.forEach(product => {\r\n      const daysRemaining = getDaysRemaining(product.expiryDate);\r\n      if (daysRemaining > 0 && daysRemaining <= notificationDays && !notifiedProducts.has(product.id)) {\r\n        alert(`ğŸ§´ \"${product.name}\" êµì²´ ì‹œê¸°ê°€ ${daysRemaining}ì¼ ë‚¨ì•˜ì–´ìš”! ìƒˆ ì œí’ˆìœ¼ë¡œ ìƒì¾Œí•˜ê²Œ ì‹œì‘í•  ì‹œê°„ì´ì—ìš”! âœ¨`);\r\n        notifiedProducts.add(product.id);\r\n      }\r\n    });\r\n\r\n    sessionStorage.setItem('notifiedProducts', JSON.stringify(Array.from(notifiedProducts)));\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [products]);\r\n\r\n  const handleAddMultipleProducts = useCallback((productsToAdd: Omit<Product, 'id'>[]) => {\r\n    addMultipleProducts(productsToAdd);\r\n    setActiveScreen('home');\r\n  }, [addMultipleProducts]);\r\n\r\n  const handleOpenAddScreen = useCallback(() => {\r\n    setActiveScreen('add');\r\n  }, []);\r\n\r\n  const handleUpdateProduct = useCallback((product: Product) => {\r\n    updateProduct(product);\r\n    setActiveScreen('home');\r\n    setSelectedProduct(null);\r\n  }, [updateProduct]);\r\n\r\n  const handleDeleteProduct = useCallback((productId: string) => {\r\n    setProductToDelete(productId);\r\n    setIsDeleteModalOpen(true);\r\n  }, []);\r\n\r\n  const handleReplaceProduct = useCallback((productId: string) => {\r\n    const productToReplace = products.find(p => p.id === productId);\r\n    if (!productToReplace) return;\r\n\r\n    const currentStock = productToReplace.stock ?? 1;\r\n    if (currentStock <= 0) {\r\n      alert(\"ì¬ê³ ê°€ ì—†ëŠ” ì œí’ˆì€ êµì²´í•  ìˆ˜ ì—†ì–´ìš”. ì‡¼í•‘ ë¦¬ìŠ¤íŠ¸ë¥¼ í™•ì¸í•´ë³´ì„¸ìš”!\");\r\n      return;\r\n    }\r\n\r\n    const newStock = currentStock - 1;\r\n    const newRegistrationDate = new Date().toISOString();\r\n    const monthsToAdd = productToReplace.periodAfterOpening || AVERAGE_USAGE_PERIODS[productToReplace.category] || 6;\r\n\r\n    const newExpiryDate = calculateExpiryDate(\r\n      newRegistrationDate,\r\n      monthsToAdd,\r\n      productToReplace.manufacturingDate,\r\n      productToReplace.expiryPeriodBeforeOpening,\r\n    );\r\n    \r\n    const updatedProduct: Product = {\r\n      ...productToReplace,\r\n      stock: newStock,\r\n      registrationDate: newRegistrationDate,\r\n      expiryDate: newExpiryDate,\r\n    };\r\n    \r\n    updateProduct(updatedProduct);\r\n\r\n    if (newStock === 0) {\r\n        // Prevent adding duplicates to the shopping list.\r\n        const alreadyInList = shoppingList.some(item => item.productId === productToReplace.id);\r\n        if(!alreadyInList){\r\n            addShoppingListItem({ name: productToReplace.name, productId: productToReplace.id });\r\n            alert(`\"${productToReplace.name}\"ì˜ ë§ˆì§€ë§‰ ì¬ê³ ë¥¼ ì‚¬ìš©í–ˆì–´ìš”. ì‡¼í•‘ ë¦¬ìŠ¤íŠ¸ì— ì¶”ê°€í•´ë‘˜ê²Œìš”! ğŸ›’`);\r\n        }\r\n    }\r\n\r\n  }, [products, updateProduct, addShoppingListItem, shoppingList]);\r\n\r\n  const confirmDelete = () => {\r\n    if (productToDelete) {\r\n      deleteProduct(productToDelete);\r\n    }\r\n    setIsDeleteModalOpen(false);\r\n    setProductToDelete(null);\r\n  };\r\n\r\n  const cancelDelete = () => {\r\n    setIsDeleteModalOpen(false);\r\n    setProductToDelete(null);\r\n  };\r\n\r\n  const handleEditProduct = (product: Product) => {\r\n    setSelectedProduct(product);\r\n    setActiveScreen('edit');\r\n  };\r\n\r\n  const handleCancel = () => {\r\n    setActiveScreen('home');\r\n    setSelectedProduct(null);\r\n  };\r\n  \r\n  const handleToggleShoppingList = useCallback((product: Product) => {\r\n      const existingItem = shoppingList.find(item => item.productId === product.id);\r\n      if (existingItem) {\r\n          deleteShoppingListItem(existingItem.id);\r\n      } else {\r\n          addShoppingListItem({ name: product.name, productId: product.id });\r\n      }\r\n  }, [shoppingList, addShoppingListItem, deleteShoppingListItem]);\r\n\r\n  const handleAddShoppingItemManually = (name: string) => {\r\n      addShoppingListItem({ name });\r\n  };\r\n  \r\n  const handleClearAllData = () => {\r\n    localStorage.clear();\r\n    sessionStorage.clear();\r\n    \r\n    clearAllProducts();\r\n    clearAllMemos();\r\n\r\n    setActiveScreen('home');\r\n    setSelectedProduct(null);\r\n    setProductToDelete(null);\r\n    setIsDeleteModalOpen(false);\r\n  };\r\n\r\n\r\n  const renderScreen = () => {\r\n    switch (activeScreen) {\r\n      case 'home':\r\n        return <HomeScreen \r\n          products={products} \r\n          onEditProduct={handleEditProduct} \r\n          onDeleteProduct={handleDeleteProduct} \r\n          onReorderProducts={reorderProducts} \r\n          onToggleShoppingList={handleToggleShoppingList}\r\n          onReplaceProduct={handleReplaceProduct}\r\n          shoppingList={shoppingList}\r\n          onAddProductRequest={handleOpenAddScreen}\r\n        />;\r\n      case 'add':\r\n        return <AddProductScreen onAddMultipleProducts={handleAddMultipleProducts} onCancel={handleCancel} />;\r\n      case 'edit':\r\n        if (selectedProduct) {\r\n          return <EditProductScreen product={selectedProduct} onUpdateProduct={handleUpdateProduct} onCancel={handleCancel} />;\r\n        }\r\n        // Fallback to home if no product is selected\r\n        setActiveScreen('home');\r\n        return <HomeScreen \r\n          products={products} \r\n          onEditProduct={handleEditProduct} \r\n          onDeleteProduct={handleDeleteProduct} \r\n          onReorderProducts={reorderProducts} \r\n          onToggleShoppingList={handleToggleShoppingList}\r\n          onReplaceProduct={handleReplaceProduct}\r\n          shoppingList={shoppingList}\r\n          onAddProductRequest={handleOpenAddScreen}\r\n        />;\r\n       case 'memo':\r\n        return <MemoScreen\r\n            shoppingList={shoppingList}\r\n            onAddItem={handleAddShoppingItemManually}\r\n            onToggleItem={toggleShoppingListItem}\r\n            onDeleteItem={deleteShoppingListItem}\r\n            diaryEntries={diaryEntries}\r\n            onAddEntry={addDiaryEntry}\r\n            onDeleteEntry={deleteDiaryEntry}\r\n         />;\r\n      case 'settings':\r\n        return <SettingsScreen onClearAllData={handleClearAllData} />;\r\n      default:\r\n        return <HomeScreen \r\n          products={products} \r\n          onEditProduct={handleEditProduct} \r\n          onDeleteProduct={handleDeleteProduct} \r\n          onReorderProducts={reorderProducts}\r\n          onToggleShoppingList={handleToggleShoppingList}\r\n          onReplaceProduct={handleReplaceProduct}\r\n          shoppingList={shoppingList}\r\n          onAddProductRequest={handleOpenAddScreen}\r\n        />;\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"bg-bathlance-gray min-h-screen font-gaegu\">\r\n      <Header />\r\n      <SignedIn>\r\n        <main className=\"pb-24\">\r\n          {renderScreen()}\r\n        </main>\r\n        <BottomNav activeScreen={activeScreen} setScreen={setActiveScreen} />\r\n        <ConfirmationModal\r\n          isOpen={isDeleteModalOpen}\r\n          onClose={cancelDelete}\r\n          onConfirm={confirmDelete}\r\n          title=\"ì •ë§ ì‚­ì œí• ê¹Œìš”?\"\r\n          message=\"ì´ ì œí’ˆì„ ëª©ë¡ì—ì„œ ì‚­ì œí•˜ë©´ ë˜ëŒë¦´ ìˆ˜ ì—†ì–´ìš”.\"\r\n        />\r\n      </SignedIn>\r\n      <SignedOut>\r\n        <main className=\"flex flex-col items-center justify-center min-h-[60vh] p-8\">\r\n          <div className=\"text-center max-w-md\">\r\n            <p className=\"text-6xl mb-6\">ğŸ§¼</p>\r\n            <h2 className=\"text-3xl font-bold text-gray-700 mb-4\">\r\n              BATHLANCEì— ì˜¤ì‹  ê²ƒì„ í™˜ì˜í•´ìš”!\r\n            </h2>\r\n            <p className=\"text-lg text-gray-600 mb-8\">\r\n              ë¡œê·¸ì¸í•˜ì‹œë©´ ìš•ì‹¤ìš©í’ˆì„ ê´€ë¦¬í•˜ê³  êµì²´ ì‹œê¸°ë¥¼ ì•Œë¦¼ë°›ì„ ìˆ˜ ìˆì–´ìš”.\r\n            </p>\r\n            <div className=\"flex flex-col gap-4 items-center\">\r\n              <SignInButton mode=\"modal\">\r\n                <button className=\"w-full bg-bathlance-orange text-white font-bold py-3 px-6 rounded-full shadow-lg hover:bg-orange-600 transition-colors\">\r\n                  ë¡œê·¸ì¸í•˜ê¸°\r\n                </button>\r\n              </SignInButton>\r\n              <SignUpButton mode=\"modal\">\r\n                <button className=\"w-full bg-white text-bathlance-orange font-bold py-3 px-6 rounded-full border-2 border-bathlance-orange hover:bg-bathlance-yellow transition-colors\">\r\n                  íšŒì›ê°€ì…í•˜ê¸°\r\n                </button>\r\n              </SignUpButton>\r\n            </div>\r\n          </div>\r\n        </main>\r\n      </SignedOut>\r\n    </div>\r\n  );\r\n}\r\n\r\n"],"names":[],"mappings":";;;;;AAEA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;;;AAhBA;;;;;;;;;;;;;;;AAkBe,SAAS;;IACtB,MAAM,EAAE,QAAQ,EAAE,mBAAmB,EAAE,aAAa,EAAE,aAAa,EAAE,eAAe,EAAE,gBAAgB,EAAE,GAAG,IAAA,sIAAW;IACtH,MAAM,EACJ,YAAY,EACZ,mBAAmB,EACnB,sBAAsB,EACtB,sBAAsB,EACtB,YAAY,EACZ,aAAa,EACb,gBAAgB,EAChB,aAAa,EACd,GAAG,IAAA,gIAAQ;IACZ,MAAM,CAAC,cAAc,gBAAgB,GAAG,IAAA,wRAAQ,EAAS;IACzD,MAAM,CAAC,iBAAiB,mBAAmB,GAAG,IAAA,wRAAQ,EAAiB;IACvE,MAAM,CAAC,mBAAmB,qBAAqB,GAAG,IAAA,wRAAQ,EAAC;IAC3D,MAAM,CAAC,iBAAiB,mBAAmB,GAAG,IAAA,wRAAQ,EAAgB;IAEtE,IAAA,yRAAS;8BAAC;YACR,yEAAyE;YACzE,MAAM,mBAAmB,SACrB,aAAa,OAAO,CAAC,kCAAkC,GAAG,wIAAwB,EAAE,EACpF;YAEJ,MAAM,mBAAmB,IAAI,IAAI,KAAK,KAAK,CAAC,eAAe,OAAO,CAAC,uBAAuB;YAE1F,SAAS,OAAO;sCAAC,CAAA;oBACf,MAAM,gBAAgB,IAAA,yIAAgB,EAAC,QAAQ,UAAU;oBACzD,IAAI,gBAAgB,KAAK,iBAAiB,oBAAoB,CAAC,iBAAiB,GAAG,CAAC,QAAQ,EAAE,GAAG;wBAC/F,MAAM,CAAC,IAAI,EAAE,QAAQ,IAAI,CAAC,SAAS,EAAE,cAAc,gCAAgC,CAAC;wBACpF,iBAAiB,GAAG,CAAC,QAAQ,EAAE;oBACjC;gBACF;;YAEA,eAAe,OAAO,CAAC,oBAAoB,KAAK,SAAS,CAAC,MAAM,IAAI,CAAC;QACrE,uDAAuD;QACzD;6BAAG;QAAC;KAAS;IAEb,MAAM,4BAA4B,IAAA,2RAAW;2DAAC,CAAC;YAC7C,oBAAoB;YACpB,gBAAgB;QAClB;0DAAG;QAAC;KAAoB;IAExB,MAAM,sBAAsB,IAAA,2RAAW;qDAAC;YACtC,gBAAgB;QAClB;oDAAG,EAAE;IAEL,MAAM,sBAAsB,IAAA,2RAAW;qDAAC,CAAC;YACvC,cAAc;YACd,gBAAgB;YAChB,mBAAmB;QACrB;oDAAG;QAAC;KAAc;IAElB,MAAM,sBAAsB,IAAA,2RAAW;qDAAC,CAAC;YACvC,mBAAmB;YACnB,qBAAqB;QACvB;oDAAG,EAAE;IAEL,MAAM,uBAAuB,IAAA,2RAAW;sDAAC,CAAC;YACxC,MAAM,mBAAmB,SAAS,IAAI;+EAAC,CAAA,IAAK,EAAE,EAAE,KAAK;;YACrD,IAAI,CAAC,kBAAkB;YAEvB,MAAM,eAAe,iBAAiB,KAAK,IAAI;YAC/C,IAAI,gBAAgB,GAAG;gBACrB,MAAM;gBACN;YACF;YAEA,MAAM,WAAW,eAAe;YAChC,MAAM,sBAAsB,IAAI,OAAO,WAAW;YAClD,MAAM,cAAc,iBAAiB,kBAAkB,IAAI,qIAAqB,CAAC,iBAAiB,QAAQ,CAAC,IAAI;YAE/G,MAAM,gBAAgB,IAAA,4IAAmB,EACvC,qBACA,aACA,iBAAiB,iBAAiB,EAClC,iBAAiB,yBAAyB;YAG5C,MAAM,iBAA0B;gBAC9B,GAAG,gBAAgB;gBACnB,OAAO;gBACP,kBAAkB;gBAClB,YAAY;YACd;YAEA,cAAc;YAEd,IAAI,aAAa,GAAG;gBAChB,kDAAkD;gBAClD,MAAM,gBAAgB,aAAa,IAAI;gFAAC,CAAA,OAAQ,KAAK,SAAS,KAAK,iBAAiB,EAAE;;gBACtF,IAAG,CAAC,eAAc;oBACd,oBAAoB;wBAAE,MAAM,iBAAiB,IAAI;wBAAE,WAAW,iBAAiB,EAAE;oBAAC;oBAClF,MAAM,CAAC,CAAC,EAAE,iBAAiB,IAAI,CAAC,oCAAoC,CAAC;gBACzE;YACJ;QAEF;qDAAG;QAAC;QAAU;QAAe;QAAqB;KAAa;IAE/D,MAAM,gBAAgB;QACpB,IAAI,iBAAiB;YACnB,cAAc;QAChB;QACA,qBAAqB;QACrB,mBAAmB;IACrB;IAEA,MAAM,eAAe;QACnB,qBAAqB;QACrB,mBAAmB;IACrB;IAEA,MAAM,oBAAoB,CAAC;QACzB,mBAAmB;QACnB,gBAAgB;IAClB;IAEA,MAAM,eAAe;QACnB,gBAAgB;QAChB,mBAAmB;IACrB;IAEA,MAAM,2BAA2B,IAAA,2RAAW;0DAAC,CAAC;YAC1C,MAAM,eAAe,aAAa,IAAI;+EAAC,CAAA,OAAQ,KAAK,SAAS,KAAK,QAAQ,EAAE;;YAC5E,IAAI,cAAc;gBACd,uBAAuB,aAAa,EAAE;YAC1C,OAAO;gBACH,oBAAoB;oBAAE,MAAM,QAAQ,IAAI;oBAAE,WAAW,QAAQ,EAAE;gBAAC;YACpE;QACJ;yDAAG;QAAC;QAAc;QAAqB;KAAuB;IAE9D,MAAM,gCAAgC,CAAC;QACnC,oBAAoB;YAAE;QAAK;IAC/B;IAEA,MAAM,qBAAqB;QACzB,aAAa,KAAK;QAClB,eAAe,KAAK;QAEpB;QACA;QAEA,gBAAgB;QAChB,mBAAmB;QACnB,mBAAmB;QACnB,qBAAqB;IACvB;IAGA,MAAM,eAAe;QACnB,OAAQ;YACN,KAAK;gBACH,qBAAO,4SAAC,0IAAU;oBAChB,UAAU;oBACV,eAAe;oBACf,iBAAiB;oBACjB,mBAAmB;oBACnB,sBAAsB;oBACtB,kBAAkB;oBAClB,cAAc;oBACd,qBAAqB;;;;;;YAEzB,KAAK;gBACH,qBAAO,4SAAC,sJAAgB;oBAAC,uBAAuB;oBAA2B,UAAU;;;;;;YACvF,KAAK;gBACH,IAAI,iBAAiB;oBACnB,qBAAO,4SAAC,wJAAiB;wBAAC,SAAS;wBAAiB,iBAAiB;wBAAqB,UAAU;;;;;;gBACtG;gBACA,6CAA6C;gBAC7C,gBAAgB;gBAChB,qBAAO,4SAAC,0IAAU;oBAChB,UAAU;oBACV,eAAe;oBACf,iBAAiB;oBACjB,mBAAmB;oBACnB,sBAAsB;oBACtB,kBAAkB;oBAClB,cAAc;oBACd,qBAAqB;;;;;;YAExB,KAAK;gBACJ,qBAAO,4SAAC,0IAAU;oBACd,cAAc;oBACd,WAAW;oBACX,cAAc;oBACd,cAAc;oBACd,cAAc;oBACd,YAAY;oBACZ,eAAe;;;;;;YAErB,KAAK;gBACH,qBAAO,4SAAC,kJAAc;oBAAC,gBAAgB;;;;;;YACzC;gBACE,qBAAO,4SAAC,0IAAU;oBAChB,UAAU;oBACV,eAAe;oBACf,iBAAiB;oBACjB,mBAAmB;oBACnB,sBAAsB;oBACtB,kBAAkB;oBAClB,cAAc;oBACd,qBAAqB;;;;;;QAE3B;IACF;IAEA,qBACE,4SAAC;QAAI,WAAU;;0BACb,4SAAC,kIAAM;;;;;0BACP,4SAAC,kSAAQ;;kCACP,4SAAC;wBAAK,WAAU;kCACb;;;;;;kCAEH,4SAAC,wIAAS;wBAAC,cAAc;wBAAc,WAAW;;;;;;kCAClD,4SAAC,wJAAiB;wBAChB,QAAQ;wBACR,SAAS;wBACT,WAAW;wBACX,OAAM;wBACN,SAAQ;;;;;;;;;;;;0BAGZ,4SAAC,mSAAS;0BACR,cAAA,4SAAC;oBAAK,WAAU;8BACd,cAAA,4SAAC;wBAAI,WAAU;;0CACb,4SAAC;gCAAE,WAAU;0CAAgB;;;;;;0CAC7B,4SAAC;gCAAG,WAAU;0CAAwC;;;;;;0CAGtD,4SAAC;gCAAE,WAAU;0CAA6B;;;;;;0CAG1C,4SAAC;gCAAI,WAAU;;kDACb,4SAAC,wSAAY;wCAAC,MAAK;kDACjB,cAAA,4SAAC;4CAAO,WAAU;sDAAyH;;;;;;;;;;;kDAI7I,4SAAC,wSAAY;wCAAC,MAAK;kDACjB,cAAA,4SAAC;4CAAO,WAAU;sDAAsJ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAUxL;GAxPwB;;QACqF,sIAAW;QAUlH,gIAAQ;;;KAXU"}}]
}