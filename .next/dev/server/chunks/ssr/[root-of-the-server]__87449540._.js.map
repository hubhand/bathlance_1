{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/coding/bathlance_1/hooks/useProducts.ts"],"sourcesContent":["import { useState, useEffect, useCallback } from 'react';\nimport { Product } from '../types';\n\nconst STORAGE_KEY = 'bathlance_products';\n\nexport const useProducts = () => {\n  const [products, setProducts] = useState<Product[]>([]);\n\n  useEffect(() => {\n    try {\n      const storedProducts = localStorage.getItem(STORAGE_KEY);\n      if (storedProducts) {\n        setProducts(JSON.parse(storedProducts));\n      }\n    } catch (error) {\n      console.error(\"ë¡œì»¬ ìŠ¤í† ë¦¬ì§€ì—ì„œ ì œí’ˆì„ ë¶ˆëŸ¬ì˜¤ëŠ” ë° ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤.\", error);\n    }\n  }, []);\n\n  useEffect(() => {\n    try {\n      localStorage.setItem(STORAGE_KEY, JSON.stringify(products));\n    } catch (error) {\n      console.error(\"ë¡œì»¬ ìŠ¤í† ë¦¬ì§€ì— ì œí’ˆì„ ì €ì¥í•˜ëŠ” ë° ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤.\", error);\n    }\n  }, [products]);\n\n  const addProduct = useCallback((product: Omit<Product, 'id'>) => {\n    const newProduct: Product = { ...product, id: new Date().toISOString() + Math.random() };\n    setProducts(prevProducts => [...prevProducts, newProduct]);\n  }, []);\n\n  const addMultipleProducts = useCallback((newProducts: Omit<Product, 'id'>[]) => {\n    const productsToAdd: Product[] = newProducts.map(p => ({ ...p, id: new Date().toISOString() + Math.random() }));\n    setProducts(prevProducts => [...prevProducts, ...productsToAdd]);\n  }, []);\n  \n  const updateProduct = useCallback((updatedProduct: Product) => {\n    setProducts(prevProducts =>\n      prevProducts.map(p => (p.id === updatedProduct.id ? updatedProduct : p))\n    );\n  }, []);\n\n  const deleteProduct = useCallback((productId: string) => {\n    setProducts(prevProducts => prevProducts.filter(p => p.id !== productId));\n  }, []);\n\n  const reorderProducts = useCallback((reorderedProducts: Product[]) => {\n    setProducts(reorderedProducts);\n  }, []);\n\n  const clearAllProducts = useCallback(() => {\n    setProducts([]);\n  }, []);\n\n  return { products, addProduct, addMultipleProducts, updateProduct, deleteProduct, reorderProducts, clearAllProducts };\n};"],"names":[],"mappings":";;;;AAAA;;AAGA,MAAM,cAAc;AAEb,MAAM,cAAc;IACzB,MAAM,CAAC,UAAU,YAAY,GAAG,IAAA,gUAAQ,EAAY,EAAE;IAEtD,IAAA,iUAAS,EAAC;QACR,IAAI;YACF,MAAM,iBAAiB,aAAa,OAAO,CAAC;YAC5C,IAAI,gBAAgB;gBAClB,YAAY,KAAK,KAAK,CAAC;YACzB;QACF,EAAE,OAAO,OAAO;YACd,QAAQ,KAAK,CAAC,gCAAgC;QAChD;IACF,GAAG,EAAE;IAEL,IAAA,iUAAS,EAAC;QACR,IAAI;YACF,aAAa,OAAO,CAAC,aAAa,KAAK,SAAS,CAAC;QACnD,EAAE,OAAO,OAAO;YACd,QAAQ,KAAK,CAAC,+BAA+B;QAC/C;IACF,GAAG;QAAC;KAAS;IAEb,MAAM,aAAa,IAAA,mUAAW,EAAC,CAAC;QAC9B,MAAM,aAAsB;YAAE,GAAG,OAAO;YAAE,IAAI,IAAI,OAAO,WAAW,KAAK,KAAK,MAAM;QAAG;QACvF,YAAY,CAAA,eAAgB;mBAAI;gBAAc;aAAW;IAC3D,GAAG,EAAE;IAEL,MAAM,sBAAsB,IAAA,mUAAW,EAAC,CAAC;QACvC,MAAM,gBAA2B,YAAY,GAAG,CAAC,CAAA,IAAK,CAAC;gBAAE,GAAG,CAAC;gBAAE,IAAI,IAAI,OAAO,WAAW,KAAK,KAAK,MAAM;YAAG,CAAC;QAC7G,YAAY,CAAA,eAAgB;mBAAI;mBAAiB;aAAc;IACjE,GAAG,EAAE;IAEL,MAAM,gBAAgB,IAAA,mUAAW,EAAC,CAAC;QACjC,YAAY,CAAA,eACV,aAAa,GAAG,CAAC,CAAA,IAAM,EAAE,EAAE,KAAK,eAAe,EAAE,GAAG,iBAAiB;IAEzE,GAAG,EAAE;IAEL,MAAM,gBAAgB,IAAA,mUAAW,EAAC,CAAC;QACjC,YAAY,CAAA,eAAgB,aAAa,MAAM,CAAC,CAAA,IAAK,EAAE,EAAE,KAAK;IAChE,GAAG,EAAE;IAEL,MAAM,kBAAkB,IAAA,mUAAW,EAAC,CAAC;QACnC,YAAY;IACd,GAAG,EAAE;IAEL,MAAM,mBAAmB,IAAA,mUAAW,EAAC;QACnC,YAAY,EAAE;IAChB,GAAG,EAAE;IAEL,OAAO;QAAE;QAAU;QAAY;QAAqB;QAAe;QAAe;QAAiB;IAAiB;AACtH"}},
    {"offset": {"line": 78, "column": 0}, "map": {"version":3,"sources":["file:///C:/coding/bathlance_1/hooks/useMemos.ts"],"sourcesContent":["import { useState, useEffect, useCallback } from 'react';\nimport { ShoppingListItem, DiaryEntry } from '../types';\n\nconst SHOPPING_LIST_KEY = 'bathlance_shopping_list';\nconst DIARY_ENTRIES_KEY = 'bathlance_diary_entries';\n\nexport const useMemos = () => {\n  const [shoppingList, setShoppingList] = useState<ShoppingListItem[]>([]);\n  const [diaryEntries, setDiaryEntries] = useState<DiaryEntry[]>([]);\n\n  useEffect(() => {\n    try {\n      const storedShoppingList = localStorage.getItem(SHOPPING_LIST_KEY);\n      if (storedShoppingList) {\n        setShoppingList(JSON.parse(storedShoppingList));\n      }\n      const storedDiaryEntries = localStorage.getItem(DIARY_ENTRIES_KEY);\n      if (storedDiaryEntries) {\n        setDiaryEntries(JSON.parse(storedDiaryEntries));\n      }\n    } catch (error) {\n      console.error(\"ë¡œì»¬ ìŠ¤í† ë¦¬ì§€ì—ì„œ ë©”ëª¨ë¥¼ ë¶ˆëŸ¬ì˜¤ëŠ” ë° ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤.\", error);\n    }\n  }, []);\n\n  useEffect(() => {\n    try {\n      localStorage.setItem(SHOPPING_LIST_KEY, JSON.stringify(shoppingList));\n    } catch (error) {\n      console.error(\"ë¡œì»¬ ìŠ¤í† ë¦¬ì§€ì— ì‡¼í•‘ ë¦¬ìŠ¤íŠ¸ë¥¼ ì €ì¥í•˜ëŠ” ë° ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤.\", error);\n    }\n  }, [shoppingList]);\n\n  useEffect(() => {\n    try {\n      localStorage.setItem(DIARY_ENTRIES_KEY, JSON.stringify(diaryEntries));\n    } catch (error) {\n      console.error(\"ë¡œì»¬ ìŠ¤í† ë¦¬ì§€ì— ìƒ¤ì›Œ ì¼ê¸°ë¥¼ ì €ì¥í•˜ëŠ” ë° ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤.\", error);\n    }\n  }, [diaryEntries]);\n\n  // Shopping List functions\n  const addShoppingListItem = useCallback((item: Omit<ShoppingListItem, 'id' | 'checked'>) => {\n    const newItem: ShoppingListItem = { ...item, id: new Date().toISOString() + Math.random(), checked: false };\n    setShoppingList(prev => [...prev, newItem]);\n  }, []);\n\n  const toggleShoppingListItem = useCallback((itemId: string) => {\n    setShoppingList(prev => prev.map(item => item.id === itemId ? { ...item, checked: !item.checked } : item));\n  }, []);\n  \n  const deleteShoppingListItem = useCallback((itemId: string) => {\n    setShoppingList(prev => prev.filter(item => item.id !== itemId));\n  }, []);\n\n  // Diary Entry functions\n  const addDiaryEntry = useCallback((content: string) => {\n    if (diaryEntries.length >= 10) {\n        alert('ì¼ê¸°ì¥ì€ 10ê°œê¹Œì§€ ì‘ì„±í•  ìˆ˜ ìˆì–´ìš”.');\n        return;\n    }\n    const newEntry: DiaryEntry = { content, id: new Date().toISOString() + Math.random(), date: new Date().toISOString() };\n    setDiaryEntries(prev => [newEntry, ...prev]);\n  }, [diaryEntries]);\n\n  const deleteDiaryEntry = useCallback((entryId: string) => {\n    setDiaryEntries(prev => prev.filter(entry => entry.id !== entryId));\n  }, []);\n\n  const clearAllMemos = useCallback(() => {\n    setShoppingList([]);\n    setDiaryEntries([]);\n  }, []);\n\n  return { \n    shoppingList, \n    addShoppingListItem, \n    toggleShoppingListItem, \n    deleteShoppingListItem,\n    diaryEntries,\n    addDiaryEntry,\n    deleteDiaryEntry,\n    clearAllMemos,\n  };\n};"],"names":[],"mappings":";;;;AAAA;;AAGA,MAAM,oBAAoB;AAC1B,MAAM,oBAAoB;AAEnB,MAAM,WAAW;IACtB,MAAM,CAAC,cAAc,gBAAgB,GAAG,IAAA,gUAAQ,EAAqB,EAAE;IACvE,MAAM,CAAC,cAAc,gBAAgB,GAAG,IAAA,gUAAQ,EAAe,EAAE;IAEjE,IAAA,iUAAS,EAAC;QACR,IAAI;YACF,MAAM,qBAAqB,aAAa,OAAO,CAAC;YAChD,IAAI,oBAAoB;gBACtB,gBAAgB,KAAK,KAAK,CAAC;YAC7B;YACA,MAAM,qBAAqB,aAAa,OAAO,CAAC;YAChD,IAAI,oBAAoB;gBACtB,gBAAgB,KAAK,KAAK,CAAC;YAC7B;QACF,EAAE,OAAO,OAAO;YACd,QAAQ,KAAK,CAAC,gCAAgC;QAChD;IACF,GAAG,EAAE;IAEL,IAAA,iUAAS,EAAC;QACR,IAAI;YACF,aAAa,OAAO,CAAC,mBAAmB,KAAK,SAAS,CAAC;QACzD,EAAE,OAAO,OAAO;YACd,QAAQ,KAAK,CAAC,mCAAmC;QACnD;IACF,GAAG;QAAC;KAAa;IAEjB,IAAA,iUAAS,EAAC;QACR,IAAI;YACF,aAAa,OAAO,CAAC,mBAAmB,KAAK,SAAS,CAAC;QACzD,EAAE,OAAO,OAAO;YACd,QAAQ,KAAK,CAAC,kCAAkC;QAClD;IACF,GAAG;QAAC;KAAa;IAEjB,0BAA0B;IAC1B,MAAM,sBAAsB,IAAA,mUAAW,EAAC,CAAC;QACvC,MAAM,UAA4B;YAAE,GAAG,IAAI;YAAE,IAAI,IAAI,OAAO,WAAW,KAAK,KAAK,MAAM;YAAI,SAAS;QAAM;QAC1G,gBAAgB,CAAA,OAAQ;mBAAI;gBAAM;aAAQ;IAC5C,GAAG,EAAE;IAEL,MAAM,yBAAyB,IAAA,mUAAW,EAAC,CAAC;QAC1C,gBAAgB,CAAA,OAAQ,KAAK,GAAG,CAAC,CAAA,OAAQ,KAAK,EAAE,KAAK,SAAS;oBAAE,GAAG,IAAI;oBAAE,SAAS,CAAC,KAAK,OAAO;gBAAC,IAAI;IACtG,GAAG,EAAE;IAEL,MAAM,yBAAyB,IAAA,mUAAW,EAAC,CAAC;QAC1C,gBAAgB,CAAA,OAAQ,KAAK,MAAM,CAAC,CAAA,OAAQ,KAAK,EAAE,KAAK;IAC1D,GAAG,EAAE;IAEL,wBAAwB;IACxB,MAAM,gBAAgB,IAAA,mUAAW,EAAC,CAAC;QACjC,IAAI,aAAa,MAAM,IAAI,IAAI;YAC3B,MAAM;YACN;QACJ;QACA,MAAM,WAAuB;YAAE;YAAS,IAAI,IAAI,OAAO,WAAW,KAAK,KAAK,MAAM;YAAI,MAAM,IAAI,OAAO,WAAW;QAAG;QACrH,gBAAgB,CAAA,OAAQ;gBAAC;mBAAa;aAAK;IAC7C,GAAG;QAAC;KAAa;IAEjB,MAAM,mBAAmB,IAAA,mUAAW,EAAC,CAAC;QACpC,gBAAgB,CAAA,OAAQ,KAAK,MAAM,CAAC,CAAA,QAAS,MAAM,EAAE,KAAK;IAC5D,GAAG,EAAE;IAEL,MAAM,gBAAgB,IAAA,mUAAW,EAAC;QAChC,gBAAgB,EAAE;QAClB,gBAAgB,EAAE;IACpB,GAAG,EAAE;IAEL,OAAO;QACL;QACA;QACA;QACA;QACA;QACA;QACA;QACA;IACF;AACF"}},
    {"offset": {"line": 200, "column": 0}, "map": {"version":3,"sources":["file:///C:/coding/bathlance_1/components/Header.tsx"],"sourcesContent":["\nimport React from 'react';\nimport { SignInButton, SignUpButton, SignedIn, SignedOut, UserButton } from '@clerk/nextjs';\n\nexport const Header: React.FC = () => {\n  return (\n    <header className=\"bg-gradient-to-r from-bathlance-cream via-bathlance-cream/90 to-bathlance-cream backdrop-blur-sm p-4 text-center sticky top-0 z-10 shadow-cute border-b-2 border-bathlance-orange/20\">\n      <div className=\"flex items-center justify-between mb-2\">\n        <div className=\"flex-1\"></div>\n        <h1 className=\"text-3xl font-bold text-bathlance-orange drop-shadow-sm flex-1\">\n          ğŸ› BATHLANCE (ë°°ìŠ¬ëœìŠ¤)\n        </h1>\n        <div className=\"flex-1 flex justify-end items-center gap-2\">\n          <SignedOut>\n            <SignInButton mode=\"modal\">\n              <button className=\"text-sm text-bathlance-brown hover:text-bathlance-orange transition-colors px-3 py-1.5 rounded-cute bg-white/60 hover:bg-white shadow-sm\">\n                ë¡œê·¸ì¸\n              </button>\n            </SignInButton>\n            <SignUpButton mode=\"modal\">\n              <button className=\"text-sm bg-bathlance-orange text-white hover:bg-bathlance-brown transition-all px-4 py-1.5 rounded-cute shadow-cute hover:shadow-cute-lg\">\n                íšŒì›ê°€ì…\n              </button>\n            </SignUpButton>\n          </SignedOut>\n          <SignedIn>\n            <UserButton \n              appearance={{\n                elements: {\n                  avatarBox: \"w-8 h-8\"\n                }\n              }}\n            />\n          </SignedIn>\n        </div>\n      </div>\n      <p className=\"text-sm text-bathlance-brown font-medium\">ì†Œì¤‘í•œ ë‚´ ìš•ì‹¤ìš©í’ˆ êµì²´ ì•Œë¦¬ë¯¸ âœ¨</p>\n    </header>\n  );\n};\n"],"names":[],"mappings":";;;;;AAEA;AAAA;AAAA;;;AAEO,MAAM,SAAmB;IAC9B,qBACE,6VAAC;QAAO,WAAU;;0BAChB,6VAAC;gBAAI,WAAU;;kCACb,6VAAC;wBAAI,WAAU;;;;;;kCACf,6VAAC;wBAAG,WAAU;kCAAiE;;;;;;kCAG/E,6VAAC;wBAAI,WAAU;;0CACb,6VAAC,gSAAS;;kDACR,6VAAC,qSAAY;wCAAC,MAAK;kDACjB,cAAA,6VAAC;4CAAO,WAAU;sDAA2I;;;;;;;;;;;kDAI/J,6VAAC,qSAAY;wCAAC,MAAK;kDACjB,cAAA,6VAAC;4CAAO,WAAU;sDAA2I;;;;;;;;;;;;;;;;;0CAKjK,6VAAC,+RAAQ;0CACP,cAAA,6VAAC,+RAAU;oCACT,YAAY;wCACV,UAAU;4CACR,WAAW;wCACb;oCACF;;;;;;;;;;;;;;;;;;;;;;;0BAKR,6VAAC;gBAAE,WAAU;0BAA2C;;;;;;;;;;;;AAG9D"}},
    {"offset": {"line": 321, "column": 0}, "map": {"version":3,"sources":["file:///C:/coding/bathlance_1/components/icons/HomeIcon.tsx"],"sourcesContent":["\nimport React from 'react';\n\nexport const HomeIcon: React.FC<{ className?: string }> = ({ className }) => (\n  <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\" className={className}>\n    <path d=\"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z\"></path>\n    <polyline points=\"9 22 9 12 15 12 15 22\"></polyline>\n  </svg>\n);\n"],"names":[],"mappings":";;;;;;AAGO,MAAM,WAA6C,CAAC,EAAE,SAAS,EAAE,iBACtE,6VAAC;QAAI,OAAM;QAA6B,OAAM;QAAK,QAAO;QAAK,SAAQ;QAAY,MAAK;QAAO,QAAO;QAAe,aAAY;QAAI,eAAc;QAAQ,gBAAe;QAAQ,WAAW;;0BAC3L,6VAAC;gBAAK,GAAE;;;;;;0BACR,6VAAC;gBAAS,QAAO"}},
    {"offset": {"line": 363, "column": 0}, "map": {"version":3,"sources":["file:///C:/coding/bathlance_1/components/icons/SettingsIcon.tsx"],"sourcesContent":["\nimport React from 'react';\n\nexport const SettingsIcon: React.FC<{ className?: string }> = ({ className }) => (\n  <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\" className={className}>\n    <path d=\"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 0 2l-.15.08a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.38a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1 0-2l.15-.08a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z\"></path>\n    <circle cx=\"12\" cy=\"12\" r=\"3\"></circle>\n  </svg>\n);\n"],"names":[],"mappings":";;;;;;AAGO,MAAM,eAAiD,CAAC,EAAE,SAAS,EAAE,iBAC1E,6VAAC;QAAI,OAAM;QAA6B,OAAM;QAAK,QAAO;QAAK,SAAQ;QAAY,MAAK;QAAO,QAAO;QAAe,aAAY;QAAI,eAAc;QAAQ,gBAAe;QAAQ,WAAW;;0BAC3L,6VAAC;gBAAK,GAAE;;;;;;0BACR,6VAAC;gBAAO,IAAG;gBAAK,IAAG;gBAAK,GAAE"}},
    {"offset": {"line": 407, "column": 0}, "map": {"version":3,"sources":["file:///C:/coding/bathlance_1/components/icons/ClipboardIcon.tsx"],"sourcesContent":["\nimport React from 'react';\n\nexport const ClipboardIcon: React.FC<{ className?: string }> = ({ className }) => (\n  <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\" className={className}>\n    <path d=\"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2\"></path>\n    <rect x=\"8\" y=\"2\" width=\"8\" height=\"4\" rx=\"1\" ry=\"1\"></rect>\n  </svg>\n);\n"],"names":[],"mappings":";;;;;;AAGO,MAAM,gBAAkD,CAAC,EAAE,SAAS,EAAE,iBAC3E,6VAAC;QAAI,OAAM;QAA6B,OAAM;QAAK,QAAO;QAAK,SAAQ;QAAY,MAAK;QAAO,QAAO;QAAe,aAAY;QAAI,eAAc;QAAQ,gBAAe;QAAQ,WAAW;;0BAC3L,6VAAC;gBAAK,GAAE;;;;;;0BACR,6VAAC;gBAAK,GAAE;gBAAI,GAAE;gBAAI,OAAM;gBAAI,QAAO;gBAAI,IAAG;gBAAI,IAAG"}},
    {"offset": {"line": 454, "column": 0}, "map": {"version":3,"sources":["file:///C:/coding/bathlance_1/components/BottomNav.tsx"],"sourcesContent":["import React from 'react';\nimport { Screen } from '../types';\nimport { HomeIcon } from './icons/HomeIcon';\nimport { SettingsIcon } from './icons/SettingsIcon';\nimport { ClipboardIcon } from './icons/ClipboardIcon';\n\ninterface BottomNavProps {\n  activeScreen: Screen;\n  setScreen: (screen: Screen) => void;\n}\n\nexport const BottomNav: React.FC<BottomNavProps> = ({ activeScreen, setScreen }) => {\n  const navItems = [\n    { screen: 'home' as Screen, icon: HomeIcon, label: 'í™ˆ' },\n    { screen: 'memo' as Screen, icon: ClipboardIcon, label: 'ë©”ëª¨' },\n    { screen: 'settings' as Screen, icon: SettingsIcon, label: 'ì„¤ì •' },\n  ];\n\n  return (\n    <nav className=\"fixed bottom-0 left-0 right-0 bg-gradient-to-t from-bathlance-cream/95 via-bathlance-cream/90 to-bathlance-cream/85 backdrop-blur-sm shadow-cute-lg border-t-2 border-bathlance-orange/20 p-2 flex justify-around items-center rounded-t-cute\">\n      {navItems.map(({ screen, icon: Icon, label }) => (\n        <button\n          key={screen}\n          onClick={() => setScreen(screen)}\n          className={`flex flex-col items-center justify-center p-3 rounded-cute transition-all duration-300 ${\n            activeScreen === screen\n              ? 'text-bathlance-orange bg-white/60 shadow-cute scale-110'\n              : 'text-bathlance-brown/60 hover:text-bathlance-orange hover:bg-white/40'\n          }`}\n        >\n          <Icon className=\"w-8 h-8\" />\n          <span className={`text-xs mt-1 font-bold ${activeScreen === screen ? 'opacity-100' : 'opacity-0'} transition-opacity`}>{label}</span>\n        </button>\n      ))}\n    </nav>\n  );\n};\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;;;;;AAOO,MAAM,YAAsC,CAAC,EAAE,YAAY,EAAE,SAAS,EAAE;IAC7E,MAAM,WAAW;QACf;YAAE,QAAQ;YAAkB,MAAM,4IAAQ;YAAE,OAAO;QAAI;QACvD;YAAE,QAAQ;YAAkB,MAAM,sJAAa;YAAE,OAAO;QAAK;QAC7D;YAAE,QAAQ;YAAsB,MAAM,oJAAY;YAAE,OAAO;QAAK;KACjE;IAED,qBACE,6VAAC;QAAI,WAAU;kBACZ,SAAS,GAAG,CAAC,CAAC,EAAE,MAAM,EAAE,MAAM,IAAI,EAAE,KAAK,EAAE,iBAC1C,6VAAC;gBAEC,SAAS,IAAM,UAAU;gBACzB,WAAW,CAAC,uFAAuF,EACjG,iBAAiB,SACb,4DACA,yEACJ;;kCAEF,6VAAC;wBAAK,WAAU;;;;;;kCAChB,6VAAC;wBAAK,WAAW,CAAC,uBAAuB,EAAE,iBAAiB,SAAS,gBAAgB,YAAY,mBAAmB,CAAC;kCAAG;;;;;;;eATnH;;;;;;;;;;AAcf"}},
    {"offset": {"line": 521, "column": 0}, "map": {"version":3,"sources":["file:///C:/coding/bathlance_1/utils/dateUtils.ts"],"sourcesContent":["export const getDaysRemaining = (expiryDate: string): number => {\n  const now = new Date();\n  const end = new Date(expiryDate);\n  const diffTime = end.getTime() - now.getTime();\n  const diffDays = Math.ceil(diffTime / (1000 * 60 * 60 * 24));\n  return diffDays > 0 ? diffDays : 0;\n};\n\nexport const formatDate = (dateString: string): string => {\n  const date = new Date(dateString);\n  return date.toISOString().split('T')[0];\n};\n\nexport const addMonths = (date: Date, months: number): Date => {\n  const newDate = new Date(date);\n  newDate.setMonth(newDate.getMonth() + months);\n  return newDate;\n};\n\n/**\n * êµì²´ ì˜ˆì •ì¼ì„ ê³„ì‚°í•©ë‹ˆë‹¤.\n * (ì œì¡°ì¼ + ìœ í†µê¸°í•œ)ê³¼ (ê°œë´‰ì¼ + ê°œë´‰ í›„ ì‚¬ìš©ê¸°í•œ) ì¤‘ ë” ë¹ ë¥¸ ë‚ ì§œë¥¼ ë°˜í™˜í•©ë‹ˆë‹¤.\n * @param registrationDateStr - ë“±ë¡ì¼ (ê°œë´‰ì¼) ISO ë¬¸ìì—´\n * @param periodAfterOpeningMonths - ê°œë´‰ í›„ ì‚¬ìš©ê¸°í•œ (ê°œì›”)\n * @param manufacturingDateStr - ì œì¡°ì¼ ISO ë¬¸ìì—´ (Optional)\n * @param expiryPeriodBeforeOpeningMonths - ê°œë´‰ ì „ ìœ íš¨ê¸°ê°„ (ê°œì›”) (Optional)\n * @returns ìµœì¢… êµì²´ ì˜ˆì •ì¼ ISO ë¬¸ìì—´\n */\nexport const calculateExpiryDate = (\n  registrationDateStr: string,\n  periodAfterOpeningMonths: number,\n  manufacturingDateStr?: string,\n  expiryPeriodBeforeOpeningMonths?: number,\n): string => {\n  const registrationDate = new Date(registrationDateStr);\n  const dateAfterOpening = addMonths(registrationDate, periodAfterOpeningMonths);\n\n  // ì œì¡°ì¼ê³¼ ìœ í†µê¸°í•œ(ê°œì›”)ì´ ëª¨ë‘ ìˆëŠ” ê²½ìš°ì—ë§Œ ìœ í†µê¸°í•œ ë§Œë£Œì¼ì„ ê³„ì‚°\n  if (manufacturingDateStr && expiryPeriodBeforeOpeningMonths) {\n    try {\n      const manufacturingDate = new Date(manufacturingDateStr);\n      if (!isNaN(manufacturingDate.getTime())) {\n        const dateBeforeOpening = addMonths(manufacturingDate, expiryPeriodBeforeOpeningMonths);\n        // ë‘ ë‚ ì§œ ì¤‘ ë” ì´ë¥¸ ë‚ ì§œë¥¼ ë°˜í™˜\n        return new Date(Math.min(dateBeforeOpening.getTime(), dateAfterOpening.getTime())).toISOString();\n      }\n    } catch (e) {\n      console.error(\"ì˜ëª»ëœ ì œì¡°ì¼ì í˜•ì‹:\", manufacturingDateStr);\n    }\n  }\n\n  // ìœ í†µê¸°í•œì„ ê³„ì‚°í•  ìˆ˜ ì—†ëŠ” ê²½ìš°, ê°œë´‰ í›„ ì‚¬ìš©ê¸°í•œ ê¸°ì¤€ ë‚ ì§œë¥¼ ë°˜í™˜\n  return dateAfterOpening.toISOString();\n};\n"],"names":[],"mappings":";;;;;;;;;;AAAO,MAAM,mBAAmB,CAAC;IAC/B,MAAM,MAAM,IAAI;IAChB,MAAM,MAAM,IAAI,KAAK;IACrB,MAAM,WAAW,IAAI,OAAO,KAAK,IAAI,OAAO;IAC5C,MAAM,WAAW,KAAK,IAAI,CAAC,WAAW,CAAC,OAAO,KAAK,KAAK,EAAE;IAC1D,OAAO,WAAW,IAAI,WAAW;AACnC;AAEO,MAAM,aAAa,CAAC;IACzB,MAAM,OAAO,IAAI,KAAK;IACtB,OAAO,KAAK,WAAW,GAAG,KAAK,CAAC,IAAI,CAAC,EAAE;AACzC;AAEO,MAAM,YAAY,CAAC,MAAY;IACpC,MAAM,UAAU,IAAI,KAAK;IACzB,QAAQ,QAAQ,CAAC,QAAQ,QAAQ,KAAK;IACtC,OAAO;AACT;AAWO,MAAM,sBAAsB,CACjC,qBACA,0BACA,sBACA;IAEA,MAAM,mBAAmB,IAAI,KAAK;IAClC,MAAM,mBAAmB,UAAU,kBAAkB;IAErD,yCAAyC;IACzC,IAAI,wBAAwB,iCAAiC;QAC3D,IAAI;YACF,MAAM,oBAAoB,IAAI,KAAK;YACnC,IAAI,CAAC,MAAM,kBAAkB,OAAO,KAAK;gBACvC,MAAM,oBAAoB,UAAU,mBAAmB;gBACvD,qBAAqB;gBACrB,OAAO,IAAI,KAAK,KAAK,GAAG,CAAC,kBAAkB,OAAO,IAAI,iBAAiB,OAAO,KAAK,WAAW;YAChG;QACF,EAAE,OAAO,GAAG;YACV,QAAQ,KAAK,CAAC,gBAAgB;QAChC;IACF;IAEA,yCAAyC;IACzC,OAAO,iBAAiB,WAAW;AACrC"}},
    {"offset": {"line": 570, "column": 0}, "map": {"version":3,"sources":["file:///C:/coding/bathlance_1/components/icons/GripVerticalIcon.tsx"],"sourcesContent":["import React from 'react';\n\nexport const GripVerticalIcon: React.FC<{ className?: string }> = ({ className }) => (\n  <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\" className={className}>\n    <circle cx=\"9\" cy=\"12\" r=\"1\"></circle>\n    <circle cx=\"9\" cy=\"5\" r=\"1\"></circle>\n    <circle cx=\"9\" cy=\"19\" r=\"1\"></circle>\n    <circle cx=\"15\" cy=\"12\" r=\"1\"></circle>\n    <circle cx=\"15\" cy=\"5\" r=\"1\"></circle>\n    <circle cx=\"15\" cy=\"19\" r=\"1\"></circle>\n  </svg>\n);"],"names":[],"mappings":";;;;;;AAEO,MAAM,mBAAqD,CAAC,EAAE,SAAS,EAAE,iBAC9E,6VAAC;QAAI,OAAM;QAA6B,OAAM;QAAK,QAAO;QAAK,SAAQ;QAAY,MAAK;QAAO,QAAO;QAAe,aAAY;QAAI,eAAc;QAAQ,gBAAe;QAAQ,WAAW;;0BAC3L,6VAAC;gBAAO,IAAG;gBAAI,IAAG;gBAAK,GAAE;;;;;;0BACzB,6VAAC;gBAAO,IAAG;gBAAI,IAAG;gBAAI,GAAE;;;;;;0BACxB,6VAAC;gBAAO,IAAG;gBAAI,IAAG;gBAAK,GAAE;;;;;;0BACzB,6VAAC;gBAAO,IAAG;gBAAK,IAAG;gBAAK,GAAE;;;;;;0BAC1B,6VAAC;gBAAO,IAAG;gBAAK,IAAG;gBAAI,GAAE;;;;;;0BACzB,6VAAC;gBAAO,IAAG;gBAAK,IAAG;gBAAK,GAAE"}},
    {"offset": {"line": 652, "column": 0}, "map": {"version":3,"sources":["file:///C:/coding/bathlance_1/components/icons/EditIcon.tsx"],"sourcesContent":["import React from 'react';\n\nexport const EditIcon: React.FC<{ className?: string }> = ({ className }) => (\n  <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\" className={className}>\n    <path d=\"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7\"></path>\n    <path d=\"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z\"></path>\n  </svg>\n);\n"],"names":[],"mappings":";;;;;;AAEO,MAAM,WAA6C,CAAC,EAAE,SAAS,EAAE,iBACtE,6VAAC;QAAI,OAAM;QAA6B,OAAM;QAAK,QAAO;QAAK,SAAQ;QAAY,MAAK;QAAO,QAAO;QAAe,aAAY;QAAI,eAAc;QAAQ,gBAAe;QAAQ,WAAW;;0BAC3L,6VAAC;gBAAK,GAAE;;;;;;0BACR,6VAAC;gBAAK,GAAE"}},
    {"offset": {"line": 694, "column": 0}, "map": {"version":3,"sources":["file:///C:/coding/bathlance_1/components/icons/TrashIcon.tsx"],"sourcesContent":["import React from 'react';\n\nexport const TrashIcon: React.FC<{ className?: string }> = ({ className }) => (\n  <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\" className={className}>\n    <polyline points=\"3 6 5 6 21 6\"></polyline>\n    <path d=\"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2\"></path>\n    <line x1=\"10\" y1=\"11\" x2=\"10\" y2=\"17\"></line>\n    <line x1=\"14\" y1=\"11\" x2=\"14\" y2=\"17\"></line>\n  </svg>\n);\n"],"names":[],"mappings":";;;;;;AAEO,MAAM,YAA8C,CAAC,EAAE,SAAS,EAAE,iBACvE,6VAAC;QAAI,OAAM;QAA6B,OAAM;QAAK,QAAO;QAAK,SAAQ;QAAY,MAAK;QAAO,QAAO;QAAe,aAAY;QAAI,eAAc;QAAQ,gBAAe;QAAQ,WAAW;;0BAC3L,6VAAC;gBAAS,QAAO;;;;;;0BACjB,6VAAC;gBAAK,GAAE;;;;;;0BACR,6VAAC;gBAAK,IAAG;gBAAK,IAAG;gBAAK,IAAG;gBAAK,IAAG;;;;;;0BACjC,6VAAC;gBAAK,IAAG;gBAAK,IAAG;gBAAK,IAAG;gBAAK,IAAG"}},
    {"offset": {"line": 756, "column": 0}, "map": {"version":3,"sources":["file:///C:/coding/bathlance_1/components/icons/ShoppingCartIcon.tsx"],"sourcesContent":["\nimport React from 'react';\n\nexport const ShoppingCartIcon: React.FC<{ className?: string }> = ({ className }) => (\n  <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\" className={className}>\n    <circle cx=\"9\" cy=\"21\" r=\"1\"></circle>\n    <circle cx=\"20\" cy=\"21\" r=\"1\"></circle>\n    <path d=\"M1 1h4l2.68 13.39a2 2 0 0 0 2 1.61h9.72a2 2 0 0 0 2-1.61L23 6H6\"></path>\n  </svg>\n);\n"],"names":[],"mappings":";;;;;;AAGO,MAAM,mBAAqD,CAAC,EAAE,SAAS,EAAE,iBAC9E,6VAAC;QAAI,OAAM;QAA6B,OAAM;QAAK,QAAO;QAAK,SAAQ;QAAY,MAAK;QAAO,QAAO;QAAe,aAAY;QAAI,eAAc;QAAQ,gBAAe;QAAQ,WAAW;;0BAC3L,6VAAC;gBAAO,IAAG;gBAAI,IAAG;gBAAK,GAAE;;;;;;0BACzB,6VAAC;gBAAO,IAAG;gBAAK,IAAG;gBAAK,GAAE;;;;;;0BAC1B,6VAAC;gBAAK,GAAE"}},
    {"offset": {"line": 809, "column": 0}, "map": {"version":3,"sources":["file:///C:/coding/bathlance_1/components/icons/ReplaceIcon.tsx"],"sourcesContent":["import React from 'react';\n\nexport const ReplaceIcon: React.FC<{ className?: string }> = ({ className }) => (\n  <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\" className={className}>\n    <path d=\"M3 2v6h6\"></path>\n    <path d=\"M21 12A9 9 0 0 0 6 5.3L3 8\"></path>\n    <path d=\"M21 22v-6h-6\"></path>\n    <path d=\"M3 12a9 9 0 0 0 15 6.7l3-2.7\"></path>\n  </svg>\n);"],"names":[],"mappings":";;;;;;AAEO,MAAM,cAAgD,CAAC,EAAE,SAAS,EAAE,iBACzE,6VAAC;QAAI,OAAM;QAA6B,OAAM;QAAK,QAAO;QAAK,SAAQ;QAAY,MAAK;QAAO,QAAO;QAAe,aAAY;QAAI,eAAc;QAAQ,gBAAe;QAAQ,WAAW;;0BAC3L,6VAAC;gBAAK,GAAE;;;;;;0BACR,6VAAC;gBAAK,GAAE;;;;;;0BACR,6VAAC;gBAAK,GAAE;;;;;;0BACR,6VAAC;gBAAK,GAAE"}},
    {"offset": {"line": 865, "column": 0}, "map": {"version":3,"sources":["file:///C:/coding/bathlance_1/components/ProductCard.tsx"],"sourcesContent":["import React, { useState } from 'react';\nimport { Product } from '../types';\nimport { getDaysRemaining, formatDate } from '../utils/dateUtils';\nimport { GripVerticalIcon } from './icons/GripVerticalIcon';\nimport { EditIcon } from './icons/EditIcon';\nimport { TrashIcon } from './icons/TrashIcon';\nimport { ShoppingCartIcon } from './icons/ShoppingCartIcon';\nimport { ReplaceIcon } from './icons/ReplaceIcon';\nimport { ShoppingLinks } from './ShoppingLinks';\n\ninterface ProductCardProps {\n  product: Product;\n  onEdit: (product: Product) => void;\n  onDelete: (productId: string) => void;\n  onToggleShoppingList: (product: Product) => void;\n  onReplace: (productId: string) => void;\n  isOnShoppingList: boolean;\n}\n\nexport const ProductCard: React.FC<ProductCardProps> = ({ product, onEdit, onDelete, onToggleShoppingList, onReplace, isOnShoppingList }) => {\n  const [showShoppingLinks, setShowShoppingLinks] = useState(false);\n  const daysRemaining = getDaysRemaining(product.expiryDate);\n  const totalDays = getDaysRemaining(product.registrationDate) + 1;\n  const progressPercentage = Math.max(0, 100 - (daysRemaining / totalDays) * 100);\n  const stockCount = product.stock ?? 1;\n\n  // êµì²´ í•„ìš” ì—¬ë¶€ (ë§Œë£Œë¨ ë˜ëŠ” 7ì¼ ì´ë‚´ ë§Œë£Œ ì˜ˆì •)\n  const needsReplacement = daysRemaining <= 7;\n\n  const getProgressBarColor = () => {\n    if (daysRemaining <= 7) return 'bg-red-500';\n    if (daysRemaining <= 30) return 'bg-yellow-500';\n    return 'bg-green-500';\n  };\n  \n  const emoji = product.category === 'ìƒ´í‘¸' ? 'ğŸ§´' : product.category === 'ì¹«ì†”' ? 'ğŸª¥' : 'ğŸ›';\n\n  const hasExtraInfo = product.manufacturingDate || product.expiryPeriodBeforeOpening || product.periodAfterOpening;\n\n  return (\n    <div className=\"bg-gradient-to-br from-white to-bathlance-cream/30 rounded-cute shadow-cute p-4 mb-4 relative flex items-stretch border border-bathlance-cream/50 hover:shadow-cute-lg transition-all duration-300\">\n      <div className=\"flex items-center justify-center pr-2 text-gray-300 cursor-move\">\n        <GripVerticalIcon className=\"w-6 h-6\" />\n      </div>\n      <div className=\"flex-1 flex flex-col\">\n        <div className=\"flex items-start space-x-4\">\n          <img src={product.imageUrl} alt={product.name} className=\"w-24 h-24 object-cover rounded-lg border-2 border-bathlance-gray\" />\n          <div className=\"flex-1\">\n            <h3 className=\"text-xl font-bold text-bathlance-brown flex items-center flex-wrap\">\n              {emoji} <span title={product.name}>{product.name.length > 5 ? `${product.name.slice(0, 5)}...` : product.name}</span>\n              {product.hasTrouble && (\n                <span title=\"íŠ¸ëŸ¬ë¸” ë°œìƒ ì œí’ˆ\" className=\"ml-2 text-red-600 bg-red-100 px-2 py-0.5 rounded-full text-xs font-bold animate-pulse\">\n                  ! ì£¼ì˜\n                </span>\n              )}\n            </h3>\n            <p className=\"text-sm text-bathlance-brown/70 font-medium\">{product.category}</p>\n            \n            {hasExtraInfo && (\n              <div className=\"text-xs text-gray-500 mt-2 bg-gray-50 p-2 rounded-md border border-gray-200\">\n                {product.manufacturingDate && <p><strong>ì œì¡°:</strong> {formatDate(product.manufacturingDate)}</p>}\n                {product.expiryPeriodBeforeOpening && <p><strong>ìœ í†µê¸°í•œ:</strong> ì œì¡°ì¼ë¡œë¶€í„° {product.expiryPeriodBeforeOpening}ê°œì›”</p>}\n                {product.periodAfterOpening && <p><strong>ê°œë´‰ í›„:</strong> {product.periodAfterOpening}ê°œì›” ì‚¬ìš©</p>}\n              </div>\n            )}\n             {product.review && (\n              <div className=\"mt-2 text-sm text-gray-700 bg-yellow-50 p-2 rounded-md border border-yellow-200\">\n                  <p><strong>ğŸ“ ë‚´ í›„ê¸°:</strong> {product.review}</p>\n              </div>\n            )}\n            \n            <div className=\"flex justify-between items-end mt-2\">\n              <div>\n                <p className=\"text-sm text-gray-600\">êµì²´ ì˜ˆì •ì¼: {formatDate(product.expiryDate)}</p>\n                <div className={`mt-1 text-2xl font-bold ${daysRemaining <= 7 ? 'text-red-600' : 'text-bathlance-orange'}`}>\n                  {daysRemaining > 0 ? `${daysRemaining}ì¼ ë‚¨ìŒ!` : 'êµì²´í•´ì£¼ì„¸ìš”!'}\n                </div>\n              </div>\n              <div className=\"text-center bg-gradient-to-br from-bathlance-cream to-bathlance-cream/50 border-2 border-bathlance-orange/20 rounded-cute p-2 shadow-sm\">\n                  <p className=\"text-xs font-bold text-bathlance-brown\">ë‚¨ì€ ì¬ê³ </p>\n                  <p className=\"text-2xl font-bold text-bathlance-orange\">{stockCount}ê°œ</p>\n              </div>\n            </div>\n\n          </div>\n        </div>\n        \n        {daysRemaining > 0 ? (\n          <div className=\"w-full bg-gray-200 rounded-full h-4 mt-4\">\n            <div className={`${getProgressBarColor()} h-4 rounded-full transition-all duration-500`} style={{ width: `${progressPercentage}%` }}></div>\n          </div>\n        ) : (\n          <button\n            onClick={() => onReplace(product.id)}\n            disabled={stockCount <= 0}\n            className=\"w-full bg-gradient-to-r from-bathlance-orange to-bathlance-brown text-white font-bold py-2 mt-4 rounded-cute shadow-cute hover:shadow-cute-lg transition-all flex items-center justify-center disabled:bg-gray-400 disabled:cursor-not-allowed hover:scale-[1.02]\"\n          >\n            <ReplaceIcon className=\"w-5 h-5 mr-2\" />\n            {stockCount > 0 ? 'ìƒˆê±¸ë¡œ êµì²´í•˜ê¸°!' : 'ì¬ê³  ì—†ìŒ!'}\n          </button>\n        )}\n\n\n        <div className=\"absolute top-2 right-2 flex space-x-1\">\n           <button \n             onClick={() => onToggleShoppingList(product)} \n             className={`p-1 rounded-full transition-colors ${\n                isOnShoppingList \n                ? 'text-white bg-bathlance-orange' \n                : 'text-gray-400 hover:text-bathlance-orange'\n             }`}\n             title={isOnShoppingList ? \"êµ¬ë§¤ ëª©ë¡ì—ì„œ ì œê±°\" : \"êµ¬ë§¤ ëª©ë¡ì— ì¶”ê°€\"}\n           >\n            <ShoppingCartIcon className=\"w-5 h-5\" />\n          </button>\n           <button onClick={() => onEdit(product)} className=\"text-gray-400 hover:text-blue-600 p-1 rounded-full transition-colors\">\n            <EditIcon className=\"w-5 h-5\" />\n          </button>\n          <button onClick={() => onDelete(product.id)} className=\"text-gray-400 hover:text-red-600 p-1 rounded-full transition-colors\">\n            <TrashIcon className=\"w-5 h-5\" />\n          </button>\n        </div>\n      </div>\n    </div>\n  );\n};"],"names":[],"mappings":"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"}},
    {"offset": {"line": 1240, "column": 0}, "map": {"version":3,"sources":["file:///C:/coding/bathlance_1/components/icons/PlusCircleIcon.tsx"],"sourcesContent":["\nimport React from 'react';\n\nexport const PlusCircleIcon: React.FC<{ className?: string }> = ({ className }) => (\n  <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\" className={className}>\n    <circle cx=\"12\" cy=\"12\" r=\"10\"></circle>\n    <line x1=\"12\" y1=\"8\" x2=\"12\" y2=\"16\"></line>\n    <line x1=\"8\" y1=\"12\" x2=\"16\" y2=\"12\"></line>\n  </svg>\n);\n"],"names":[],"mappings":";;;;;;AAGO,MAAM,iBAAmD,CAAC,EAAE,SAAS,EAAE,iBAC5E,6VAAC;QAAI,OAAM;QAA6B,OAAM;QAAK,QAAO;QAAK,SAAQ;QAAY,MAAK;QAAO,QAAO;QAAe,aAAY;QAAI,eAAc;QAAQ,gBAAe;QAAQ,WAAW;;0BAC3L,6VAAC;gBAAO,IAAG;gBAAK,IAAG;gBAAK,GAAE;;;;;;0BAC1B,6VAAC;gBAAK,IAAG;gBAAK,IAAG;gBAAI,IAAG;gBAAK,IAAG;;;;;;0BAChC,6VAAC;gBAAK,IAAG;gBAAI,IAAG;gBAAK,IAAG;gBAAK,IAAG"}},
    {"offset": {"line": 1297, "column": 0}, "map": {"version":3,"sources":["file:///C:/coding/bathlance_1/components/HomeScreen.tsx"],"sourcesContent":["import React, { useState, useRef } from 'react';\nimport { Product, ShoppingListItem } from '../types';\nimport { ProductCard } from './ProductCard';\nimport { PlusCircleIcon } from './icons/PlusCircleIcon';\n\ninterface HomeScreenProps {\n  products: Product[];\n  onEditProduct: (product: Product) => void;\n  onDeleteProduct: (productId: string) => void;\n  onReorderProducts: (products: Product[]) => void;\n  onToggleShoppingList: (product: Product) => void;\n  onReplaceProduct: (productId: string) => void;\n  shoppingList: ShoppingListItem[];\n  onAddProductRequest: () => void;\n}\n\nexport const HomeScreen: React.FC<HomeScreenProps> = ({\n  products,\n  onEditProduct,\n  onDeleteProduct,\n  onReorderProducts,\n  onToggleShoppingList,\n  onReplaceProduct,\n  shoppingList,\n  onAddProductRequest,\n}) => {\n  const [draggedItemIndex, setDraggedItemIndex] = useState<number | null>(null);\n  const dragOverItemIndex = useRef<number | null>(null);\n\n  const handleDragStart = (e: React.DragEvent<HTMLDivElement>, index: number) => {\n    setDraggedItemIndex(index);\n    e.dataTransfer.effectAllowed = 'move';\n  };\n\n  const handleDragEnter = (index: number) => {\n    dragOverItemIndex.current = index;\n  };\n\n  const handleDragOver = (e: React.DragEvent<HTMLDivElement>) => {\n    e.preventDefault();\n  };\n\n  const handleDrop = () => {\n    if (draggedItemIndex === null || dragOverItemIndex.current === null || draggedItemIndex === dragOverItemIndex.current) {\n        setDraggedItemIndex(null);\n        return;\n    }\n    \n    const newProducts = [...products];\n    const [draggedItem] = newProducts.splice(draggedItemIndex, 1);\n    newProducts.splice(dragOverItemIndex.current, 0, draggedItem);\n    \n    onReorderProducts(newProducts);\n    setDraggedItemIndex(null);\n    dragOverItemIndex.current = null;\n  };\n\n  const handleDragEnd = () => {\n    setDraggedItemIndex(null);\n    dragOverItemIndex.current = null;\n  }\n\n  return (\n    <div className=\"relative p-4 pb-32\" onDragOver={handleDragOver}>\n      {products.length === 0 ? (\n        <div className=\"flex flex-col items-center justify-center text-center mt-20 p-8 bg-white/60 rounded-cute shadow-cute border-2 border-dashed border-bathlance-orange/30\">\n          <p className=\"text-6xl mb-4 animate-bounce\">ğŸ§¼</p>\n          <h2 className=\"text-2xl font-bold text-bathlance-brown mb-2\">ë“±ë¡ëœ ì œí’ˆì´ ì—†ì–´ìš”.</h2>\n          <p className=\"text-bathlance-brown/80\">ì˜¤ë¥¸ìª½ ì•„ë˜ ë“±ë¡ ë²„íŠ¼ì„ ëˆŒëŸ¬ ì²« ìš•ì‹¤ìš©í’ˆì„ ì¶”ê°€í•´ë³´ì„¸ìš”! âœ¨</p>\n        </div>\n      ) : (\n        <div>\n           <div className=\"flex items-center justify-between mb-4 flex-wrap bg-white/60 p-3 rounded-cute shadow-cute border border-bathlance-cream\">\n              <h2 className=\"text-2xl font-bold text-bathlance-orange\">ë‚´ ìš•ì‹¤ìš©í’ˆ ëª©ë¡ âœ¨</h2>\n              <p className=\"text-sm text-bathlance-brown/70\">ê¾¹ ëˆŒëŸ¬ì„œ ìˆœì„œë¥¼ ë°”ê¿€ ìˆ˜ ìˆì–´ìš”!</p>\n           </div>\n          {products.map((product, index) => (\n            <div\n              key={product.id}\n              draggable\n              onDragStart={(e) => handleDragStart(e, index)}\n              onDragEnter={() => handleDragEnter(index)}\n              onDrop={handleDrop}\n              onDragEnd={handleDragEnd}\n              className={`transition-opacity duration-300 ${draggedItemIndex === index ? 'opacity-50' : 'opacity-100'}`}\n            >\n              <ProductCard \n                product={product}\n                onEdit={onEditProduct}\n                onDelete={onDeleteProduct}\n                onToggleShoppingList={onToggleShoppingList}\n                onReplace={onReplaceProduct}\n                isOnShoppingList={shoppingList.some(item => item.productId === product.id)}\n              />\n            </div>\n          ))}\n        </div>\n      )}\n      <button\n        type=\"button\"\n        onClick={onAddProductRequest}\n        aria-label=\"ìš•ì‹¤ìš©í’ˆ ë“±ë¡ í™”ë©´ìœ¼ë¡œ ì´ë™\"\n        className=\"fixed bottom-28 right-4 z-50 flex items-center gap-2 rounded-cute bg-gradient-to-r from-bathlance-orange to-bathlance-brown px-6 py-4 text-white shadow-cute-lg transition-all duration-300 hover:scale-110 hover:shadow-[0_12px_32px_rgba(225,98,28,0.5)] active:scale-95 focus-visible:outline-none focus-visible:ring-4 focus-visible:ring-bathlance-orange focus-visible:ring-offset-2 md:right-8 md:bottom-32 border-2 border-white/20\"\n      >\n        <PlusCircleIcon className=\"w-7 h-7\" />\n        <span className=\"text-lg font-bold\">ë“±ë¡í•˜ê¸°</span>\n      </button>\n    </div>\n  );\n};"],"names":[],"mappings":";;;;;AAAA;AAEA;AACA;;;;;AAaO,MAAM,aAAwC,CAAC,EACpD,QAAQ,EACR,aAAa,EACb,eAAe,EACf,iBAAiB,EACjB,oBAAoB,EACpB,gBAAgB,EAChB,YAAY,EACZ,mBAAmB,EACpB;IACC,MAAM,CAAC,kBAAkB,oBAAoB,GAAG,IAAA,gUAAQ,EAAgB;IACxE,MAAM,oBAAoB,IAAA,8TAAM,EAAgB;IAEhD,MAAM,kBAAkB,CAAC,GAAoC;QAC3D,oBAAoB;QACpB,EAAE,YAAY,CAAC,aAAa,GAAG;IACjC;IAEA,MAAM,kBAAkB,CAAC;QACvB,kBAAkB,OAAO,GAAG;IAC9B;IAEA,MAAM,iBAAiB,CAAC;QACtB,EAAE,cAAc;IAClB;IAEA,MAAM,aAAa;QACjB,IAAI,qBAAqB,QAAQ,kBAAkB,OAAO,KAAK,QAAQ,qBAAqB,kBAAkB,OAAO,EAAE;YACnH,oBAAoB;YACpB;QACJ;QAEA,MAAM,cAAc;eAAI;SAAS;QACjC,MAAM,CAAC,YAAY,GAAG,YAAY,MAAM,CAAC,kBAAkB;QAC3D,YAAY,MAAM,CAAC,kBAAkB,OAAO,EAAE,GAAG;QAEjD,kBAAkB;QAClB,oBAAoB;QACpB,kBAAkB,OAAO,GAAG;IAC9B;IAEA,MAAM,gBAAgB;QACpB,oBAAoB;QACpB,kBAAkB,OAAO,GAAG;IAC9B;IAEA,qBACE,6VAAC;QAAI,WAAU;QAAqB,YAAY;;YAC7C,SAAS,MAAM,KAAK,kBACnB,6VAAC;gBAAI,WAAU;;kCACb,6VAAC;wBAAE,WAAU;kCAA+B;;;;;;kCAC5C,6VAAC;wBAAG,WAAU;kCAA+C;;;;;;kCAC7D,6VAAC;wBAAE,WAAU;kCAA0B;;;;;;;;;;;yEAGzC,6VAAC;;kCACE,6VAAC;wBAAI,WAAU;;0CACZ,6VAAC;gCAAG,WAAU;0CAA2C;;;;;;0CACzD,6VAAC;gCAAE,WAAU;0CAAkC;;;;;;;;;;;;oBAElD,SAAS,GAAG,CAAC,CAAC,SAAS,sBACtB,6VAAC;4BAEC,SAAS;4BACT,aAAa,CAAC,IAAM,gBAAgB,GAAG;4BACvC,aAAa,IAAM,gBAAgB;4BACnC,QAAQ;4BACR,WAAW;4BACX,WAAW,CAAC,gCAAgC,EAAE,qBAAqB,QAAQ,eAAe,eAAe;sCAEzG,cAAA,6VAAC,yIAAW;gCACV,SAAS;gCACT,QAAQ;gCACR,UAAU;gCACV,sBAAsB;gCACtB,WAAW;gCACX,kBAAkB,aAAa,IAAI,CAAC,CAAA,OAAQ,KAAK,SAAS,KAAK,QAAQ,EAAE;;;;;;2BAdtE,QAAQ,EAAE;;;;;;;;;;;0BAoBvB,6VAAC;gBACC,MAAK;gBACL,SAAS;gBACT,cAAW;gBACX,WAAU;;kCAEV,6VAAC,wJAAc;wBAAC,WAAU;;;;;;kCAC1B,6VAAC;wBAAK,WAAU;kCAAoB;;;;;;;;;;;;;;;;;;AAI5C"}},
    {"offset": {"line": 1573, "column": 0}, "map": {"version":3,"sources":["file:///C:/coding/bathlance_1/services/geminiService.ts"],"sourcesContent":["import { GoogleGenAI, Type } from \"@google/genai\";\nimport { GeminiResponse, ProductCategory, GeminiIngredientsResponse } from '../types';\n\n// FIX: Per coding guidelines, the API key must be obtained directly from the environment variable.\n// We assume `process.env.GEMINI_API_KEY` is pre-configured and valid.\nconst apiKey = process.env.GEMINI_API_KEY || process.env.NEXT_PUBLIC_GEMINI_API_KEY;\nif (!apiKey) {\n  throw new Error('GEMINI_API_KEY í™˜ê²½ ë³€ìˆ˜ê°€ ì„¤ì •ë˜ì§€ ì•Šì•˜ìŠµë‹ˆë‹¤. .env.local íŒŒì¼ì— GEMINI_API_KEYë¥¼ ì¶”ê°€í•´ì£¼ì„¸ìš”.');\n}\nconst ai = new GoogleGenAI({ apiKey });\n\nconst model = 'gemini-2.5-flash';\n\nconst schema = {\n  type: Type.OBJECT,\n  properties: {\n    'ì œí’ˆëª…': {\n      type: Type.STRING,\n      description: 'ì‚¬ì§„ ì† ì œí’ˆì˜ ë¸Œëœë“œì™€ ì „ì²´ ì´ë¦„. ì˜ˆ: \"í•´í”¼ë°”ìŠ¤ ë°”ë””ì›Œì‹œ\"',\n    },\n    'ë¶„ë¥˜': {\n      type: Type.STRING,\n      description: 'ì œí’ˆì˜ ì¢…ë¥˜. ë‹¤ìŒ ì¤‘ í•˜ë‚˜ì—¬ì•¼ í•¨: \"ì¹«ì†”\", \"ìƒ´í‘¸\", \"ë¦°ìŠ¤\", \"ì„¸ì•ˆì œ\", \"ë°”ë””ì›Œì‹œ\", \"ìˆ˜ê±´\", \"ë©´ë„ê¸° í—¤ë“œ\", \"ìƒ¤ì›Œë³¼\", \"ìƒ¤ì›Œê¸° í•„í„°\", \"ê¸°íƒ€\".',\n    },\n    'ì œì¡°ì¼ì': {\n      type: Type.STRING,\n      description: 'ì œí’ˆì— í‘œê¸°ëœ ì œì¡°ì¼ì. í˜•ì‹ì€ YYYY-MM-DD. ì—†ìœ¼ë©´ ìƒëµ.',\n    },\n    'ê°œë´‰ì „ìœ íš¨ê¸°ê°„': {\n      type: Type.NUMBER,\n      description: 'ì œí’ˆì— í‘œê¸°ëœ ê°œë´‰ ì „ ìœ íš¨ê¸°ê°„. ê°œì›” ë‹¨ìœ„ì˜ ìˆ«ì. ì˜ˆ: \"36M\" ë˜ëŠ” \"3ë…„\"ì€ 36ìœ¼ë¡œ í‘œê¸°. ì—†ìœ¼ë©´ ìƒëµ.',\n    },\n    'ê°œë´‰í›„ì‚¬ìš©ê¸°í•œ': {\n      type: Type.NUMBER,\n      description: 'ì œí’ˆì— í‘œê¸°ëœ ê°œë´‰ í›„ ì‚¬ìš©ê¸°í•œ (PAO) ë˜ëŠ” AIê°€ ì œí’ˆ ì¢…ë¥˜ë¥¼ ê¸°ë°˜ìœ¼ë¡œ ì¶”ì •í•œ ê¶Œì¥ ì‚¬ìš©ê¸°í•œ. ê°œì›” ë‹¨ìœ„ì˜ ìˆ«ì. ì˜ˆ: 12.',\n    },\n  },\n  required: ['ì œí’ˆëª…', 'ë¶„ë¥˜', 'ê°œë´‰í›„ì‚¬ìš©ê¸°í•œ'],\n};\n\nconst ingredientsSchema = {\n  type: Type.OBJECT,\n  properties: {\n    ingredients: {\n      type: Type.ARRAY,\n      items: {\n        type: Type.OBJECT,\n        properties: {\n          name: {\n            type: Type.STRING,\n            description: 'ì„±ë¶„ëª… (INCI name). ì˜ˆ: \"ì •ì œìˆ˜\"',\n          },\n          ewgGrade: {\n            type: Type.STRING,\n            description: 'EWG ë“±ê¸‰. \"1\", \"2\" ë“± ìˆ«ì ë˜ëŠ” \"3-6\"ê³¼ ê°™ì€ ë²”ìœ„, í˜¹ì€ \"ì£¼ì˜\"ì™€ ê°™ì€ í…ìŠ¤íŠ¸ë¡œ í‘œê¸°.',\n          },\n          isAllergen: {\n            type: Type.BOOLEAN,\n            description: 'ì‹ì•½ì²˜ ê³ ì‹œ ì•Œë ˆë¥´ê¸° ìœ ë°œ ê°€ëŠ¥ ì„±ë¶„ì¸ ê²½ìš° true, ì•„ë‹ˆë©´ false.',\n          },\n          description: {\n            type: Type.STRING,\n            description: 'ì„±ë¶„ì— ëŒ€í•œ 1-2 ë¬¸ì¥ì˜ ê°„ë‹¨í•œ ì„¤ëª…. ì—†ìœ¼ë©´ ìƒëµ.',\n          },\n        },\n        required: ['name', 'ewgGrade', 'isAllergen'],\n      },\n    },\n  },\n  required: ['ingredients'],\n};\n\n\nexport const analyzeProductImage = async (imageBase64: string): Promise<GeminiResponse> => {\n  const prompt = \"ì´ ìš•ì‹¤ìš©í’ˆ ì‚¬ì§„ì„ ë¶„ì„í•´ì„œ JSON í˜•ì‹ìœ¼ë¡œ ì‘ë‹µí•´ì¤˜. 'ì œí’ˆëª…', 'ë¶„ë¥˜', 'ê°œë´‰í›„ì‚¬ìš©ê¸°í•œ' í•„ë“œëŠ” ë°˜ë“œì‹œ í¬í•¨í•´ì•¼ í•´. ë§Œì•½ ì‚¬ì§„ì— 'ê°œë´‰í›„ì‚¬ìš©ê¸°í•œ(PAO)' ì •ë³´ê°€ ëª…í™•í•˜ê²Œ ë³´ì´ì§€ ì•Šìœ¼ë©´, ì œí’ˆ ì¢…ë¥˜ë¥¼ ë¶„ì„í•´ì„œ ìœ„ìƒì„ ìµœìš°ì„ ìœ¼ë¡œ ê³ ë ¤í•œ ê°€ì¥ ì´ìƒì ì¸ êµì²´ ì£¼ê¸°ë¥¼ ê°œì›” ë‹¨ìœ„ ìˆ«ìë¡œ ì¶”ì •í•´ì„œ 'ê°œë´‰í›„ì‚¬ìš©ê¸°í•œ' ê°’ìœ¼ë¡œ ì…ë ¥í•´ì¤˜. (ì˜ˆ: ì¹«ì†”ì€ 3ê°œì›”, ìˆ˜ê±´ì€ 6ê°œì›”, ìƒ¤ì›Œë³¼ì€ 1ê°œì›”, ë©´ë„ë‚ ì€ 1ê°œì›”). ì¶”ê°€ë¡œ ì‚¬ì§„ì— 'ì œì¡°ì¼ì'ë‚˜ 'ê°œë´‰ì „ìœ íš¨ê¸°ê°„'ì´ ë³´ì¸ë‹¤ë©´ ê·¸ ì •ë³´ë„ í•¨ê»˜ ì¶”ì¶œí•´ì¤˜. ë¶„ë¥˜ëŠ” 'ì¹«ì†”', 'ìƒ´í‘¸', 'ë¦°ìŠ¤', 'ì„¸ì•ˆì œ', 'ë°”ë””ì›Œì‹œ', 'ìˆ˜ê±´', 'ë©´ë„ê¸° í—¤ë“œ', 'ìƒ¤ì›Œë³¼', 'ìƒ¤ì›Œê¸° í•„í„°', 'ê¸°íƒ€' ì¤‘ì—ì„œ ì„ íƒí•´ì¤˜.\";\n\n  const imagePart = {\n    inlineData: {\n      data: imageBase64,\n      mimeType: 'image/jpeg',\n    },\n  };\n\n  const textPart = {\n    text: prompt,\n  };\n\n  try {\n    const response = await ai.models.generateContent({\n      model: model,\n      contents: { parts: [imagePart, textPart] },\n      config: {\n        responseMimeType: 'application/json',\n        responseSchema: schema,\n      },\n    });\n\n    const jsonString = response.text?.trim() || '';\n    if (!jsonString) {\n      throw new Error('ì‘ë‹µ ë°ì´í„°ê°€ ì—†ìŠµë‹ˆë‹¤.');\n    }\n    const parsedResponse = JSON.parse(jsonString) as GeminiResponse;\n    \n    const validCategories: ProductCategory[] = ['ì¹«ì†”', 'ìƒ´í‘¸', 'ë¦°ìŠ¤', 'ì„¸ì•ˆì œ', 'ë°”ë””ì›Œì‹œ', 'ìˆ˜ê±´', 'ë©´ë„ê¸° í—¤ë“œ', 'ìƒ¤ì›Œë³¼', 'ìƒ¤ì›Œê¸° í•„í„°', 'ê¸°íƒ€'];\n    if (!validCategories.includes(parsedResponse.ë¶„ë¥˜)) {\n        parsedResponse.ë¶„ë¥˜ = 'ê¸°íƒ€';\n    }\n\n    return parsedResponse;\n  } catch (error) {\n    console.error(\"Gemini API í˜¸ì¶œ ì¤‘ ì˜¤ë¥˜ ë°œìƒ:\", error);\n    throw new Error(\"ì œí’ˆ ì •ë³´ë¥¼ ë¶„ì„í•˜ëŠ” ë° ì‹¤íŒ¨í–ˆì–´ìš”. ë‹¤ì‹œ ì‹œë„í•´ ì£¼ì„¸ìš”.\");\n  }\n};\n\nexport const analyzeIngredients = async (imageBase64: string): Promise<GeminiIngredientsResponse> => {\n  const prompt = \"ì´ ì œí’ˆ ì‚¬ì§„ ë’·ë©´ì˜ ì „ì„±ë¶„ ëª©ë¡ì„ ë¶„ì„í•´ì¤˜. ê° ì„±ë¶„ì— ëŒ€í•´ í•œêµ­ì–´ ì´ë¦„, EWG ì•ˆì „ ë“±ê¸‰, ì‹ì•½ì²˜ ê³ ì‹œ ì•Œë ˆë¥´ê¸° ìœ ë°œ ì£¼ì˜ ì„±ë¶„ ì—¬ë¶€ë¥¼ ì•Œë ¤ì¤˜. EWG ë“±ê¸‰ì€ ìˆ«ìë‚˜ ë²”ìœ„ë¡œ í‘œê¸°í•˜ê³ , ì•Œë ˆë¥´ê¸° ìœ ë°œ ê°€ëŠ¥ì„±ì´ ìˆë‹¤ë©´ trueë¡œ í‘œì‹œí•´ì¤˜. JSON í˜•ì‹ìœ¼ë¡œ ì‘ë‹µí•´ì¤˜. ì„±ë¶„ì´ ë„ˆë¬´ ë§ìœ¼ë©´ ì£¼ìš” ì„±ë¶„ 20ê°œê¹Œì§€ë§Œ ë¶„ì„í•´ì¤˜.\";\n\n  const imagePart = {\n    inlineData: {\n      data: imageBase64,\n      mimeType: 'image/jpeg',\n    },\n  };\n\n  const textPart = {\n    text: prompt,\n  };\n\n  try {\n    const response = await ai.models.generateContent({\n      model: model,\n      contents: { parts: [imagePart, textPart] },\n      config: {\n        responseMimeType: 'application/json',\n        responseSchema: ingredientsSchema,\n      },\n    });\n\n    const jsonString = response.text?.trim() || '';\n    if (!jsonString) {\n      throw new Error('ì‘ë‹µ ë°ì´í„°ê°€ ì—†ìŠµë‹ˆë‹¤.');\n    }\n    const cleanedJsonString = jsonString.replace(/^```json\\n?/, '').replace(/\\n?```$/, '');\n    const parsedResponse = JSON.parse(cleanedJsonString) as GeminiIngredientsResponse;\n    \n    if (!parsedResponse.ingredients || !Array.isArray(parsedResponse.ingredients)) {\n        throw new Error(\"Invalid response format from Gemini API.\");\n    }\n    \n    return parsedResponse;\n  } catch (error) {\n    console.error(\"Gemini API (ingredients) í˜¸ì¶œ ì¤‘ ì˜¤ë¥˜ ë°œìƒ:\", error);\n    throw new Error(\"ì„±ë¶„ ì •ë³´ë¥¼ ë¶„ì„í•˜ëŠ” ë° ì‹¤íŒ¨í–ˆì–´ìš”. ì „ì„±ë¶„í‘œê°€ ì˜ ë³´ì´ëŠ” ì‚¬ì§„ìœ¼ë¡œ ë‹¤ì‹œ ì‹œë„í•´ ì£¼ì„¸ìš”.\");\n  }\n};"],"names":[],"mappings":"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"}},
    {"offset": {"line": 1752, "column": 0}, "map": {"version":3,"sources":["file:///C:/coding/bathlance_1/utils/imageUtils.ts"],"sourcesContent":["export const fileToBase64 = (file: File): Promise<string> => {\n  return new Promise((resolve, reject) => {\n    const reader = new FileReader();\n    reader.readAsDataURL(file);\n    reader.onload = () => {\n      const result = reader.result as string;\n      // remove 'data:image/jpeg;base64,' part\n      const base64 = result.split(',')[1];\n      resolve(base64);\n    };\n    reader.onerror = error => reject(error);\n  });\n};\n\n/**\n * Resizes an image file and converts it to a base64 data URL.\n * This helps save storage space.\n * @param file The image file.\n * @param maxWidth The maximum width of the resized image.\n * @returns A promise that resolves with the base64 data URL.\n */\nexport const fileToResizedBase64 = (file: File, maxWidth: number = 256): Promise<string> => {\n  return new Promise((resolve, reject) => {\n    const reader = new FileReader();\n    reader.readAsDataURL(file);\n    reader.onload = (event) => {\n      const img = new Image();\n      img.src = event.target?.result as string;\n      img.onload = () => {\n        const canvas = document.createElement('canvas');\n        const scale = maxWidth / img.width;\n        canvas.width = maxWidth;\n        canvas.height = img.height * scale;\n        const ctx = canvas.getContext('2d');\n        if (!ctx) {\n          return reject(new Error('Could not get canvas context'));\n        }\n        ctx.drawImage(img, 0, 0, canvas.width, canvas.height);\n        resolve(canvas.toDataURL('image/jpeg')); // Returns the full data URL\n      };\n      img.onerror = (error) => reject(error);\n    };\n    reader.onerror = (error) => reject(error);\n  });\n};\n"],"names":[],"mappings":";;;;;;AAAO,MAAM,eAAe,CAAC;IAC3B,OAAO,IAAI,QAAQ,CAAC,SAAS;QAC3B,MAAM,SAAS,IAAI;QACnB,OAAO,aAAa,CAAC;QACrB,OAAO,MAAM,GAAG;YACd,MAAM,SAAS,OAAO,MAAM;YAC5B,wCAAwC;YACxC,MAAM,SAAS,OAAO,KAAK,CAAC,IAAI,CAAC,EAAE;YACnC,QAAQ;QACV;QACA,OAAO,OAAO,GAAG,CAAA,QAAS,OAAO;IACnC;AACF;AASO,MAAM,sBAAsB,CAAC,MAAY,WAAmB,GAAG;IACpE,OAAO,IAAI,QAAQ,CAAC,SAAS;QAC3B,MAAM,SAAS,IAAI;QACnB,OAAO,aAAa,CAAC;QACrB,OAAO,MAAM,GAAG,CAAC;YACf,MAAM,MAAM,IAAI;YAChB,IAAI,GAAG,GAAG,MAAM,MAAM,EAAE;YACxB,IAAI,MAAM,GAAG;gBACX,MAAM,SAAS,SAAS,aAAa,CAAC;gBACtC,MAAM,QAAQ,WAAW,IAAI,KAAK;gBAClC,OAAO,KAAK,GAAG;gBACf,OAAO,MAAM,GAAG,IAAI,MAAM,GAAG;gBAC7B,MAAM,MAAM,OAAO,UAAU,CAAC;gBAC9B,IAAI,CAAC,KAAK;oBACR,OAAO,OAAO,IAAI,MAAM;gBAC1B;gBACA,IAAI,SAAS,CAAC,KAAK,GAAG,GAAG,OAAO,KAAK,EAAE,OAAO,MAAM;gBACpD,QAAQ,OAAO,SAAS,CAAC,gBAAgB,4BAA4B;YACvE;YACA,IAAI,OAAO,GAAG,CAAC,QAAU,OAAO;QAClC;QACA,OAAO,OAAO,GAAG,CAAC,QAAU,OAAO;IACrC;AACF"}},
    {"offset": {"line": 1799, "column": 0}, "map": {"version":3,"sources":["file:///C:/coding/bathlance_1/constants.ts"],"sourcesContent":["import { ProductCategory } from './types';\n\nexport const AVERAGE_USAGE_PERIODS: Record<ProductCategory, number> = {\n  'ì¹«ì†”': 3,\n  'ìƒ´í‘¸': 12,\n  'ë¦°ìŠ¤': 12,\n  'ì„¸ì•ˆì œ': 6,\n  'ë°”ë””ì›Œì‹œ': 12,\n  'ìˆ˜ê±´': 6,\n  'ë©´ë„ê¸° í—¤ë“œ': 1,\n  'ìƒ¤ì›Œë³¼': 1,\n  'ìƒ¤ì›Œê¸° í•„í„°': 3,\n  'ê¸°íƒ€': 6,\n};\n\nexport const NOTIFICATION_DAYS_BEFORE = 7;"],"names":[],"mappings":";;;;;;AAEO,MAAM,wBAAyD;IACpE,MAAM;IACN,MAAM;IACN,MAAM;IACN,OAAO;IACP,QAAQ;IACR,MAAM;IACN,UAAU;IACV,OAAO;IACP,UAAU;IACV,MAAM;AACR;AAEO,MAAM,2BAA2B"}},
    {"offset": {"line": 1822, "column": 0}, "map": {"version":3,"sources":["file:///C:/coding/bathlance_1/components/AddProductScreen.tsx"],"sourcesContent":["import React, { useState, useCallback } from 'react';\nimport { Product, ProductCategory } from '../types';\nimport { analyzeProductImage } from '../services/geminiService';\nimport { fileToBase64, fileToResizedBase64 } from '../utils/imageUtils';\nimport { calculateExpiryDate } from '../utils/dateUtils';\nimport { AVERAGE_USAGE_PERIODS } from '../constants';\n\ninterface AddProductScreenProps {\n  onAddMultipleProducts: (products: Omit<Product, 'id'>[]) => void;\n  onCancel: () => void;\n}\n\nconst MAX_FILES = 10;\n\nexport const AddProductScreen: React.FC<AddProductScreenProps> = ({ onAddMultipleProducts, onCancel }) => {\n  const [imageFiles, setImageFiles] = useState<File[]>([]);\n  const [imagePreviews, setImagePreviews] = useState<string[]>([]);\n  const [isLoading, setIsLoading] = useState(false);\n  const [error, setError] = useState<string | null>(null);\n  const [progress, setProgress] = useState({ current: 0, total: 0 });\n\n  const handleFileChange = (event: React.ChangeEvent<HTMLInputElement>) => {\n    const files = event.target.files;\n    if (files) {\n      let selectedFiles = Array.from(files);\n      if (selectedFiles.length > MAX_FILES) {\n        setError(`ì‚¬ì§„ì€ ìµœëŒ€ ${MAX_FILES}ì¥ê¹Œì§€ ì„ íƒí•  ìˆ˜ ìˆì–´ìš”!`);\n        selectedFiles = selectedFiles.slice(0, MAX_FILES);\n      } else {\n        setError(null);\n      }\n      \n      setImageFiles(selectedFiles);\n      const newPreviews: string[] = [];\n      selectedFiles.forEach(file => {\n        // FIX: Added a type guard to prevent errors if a list item is not a valid file.\n        // This robustly handles the reported \"Argument of type 'unknown' is not assignable to parameter of type 'Blob'\" error.\n        if (file instanceof File) {\n            const reader = new FileReader();\n            reader.onloadend = () => {\n              newPreviews.push(reader.result as string);\n              if (newPreviews.length === selectedFiles.length) {\n                setImagePreviews(newPreviews);\n              }\n            };\n            reader.readAsDataURL(file);\n        }\n      });\n    }\n  };\n\n  const handleSubmit = async () => {\n    if (imageFiles.length === 0) {\n      setError(\"ë¨¼ì € ì œí’ˆ ì‚¬ì§„ì„ ì„ íƒí•´ì£¼ì„¸ìš”!\");\n      return;\n    }\n    setIsLoading(true);\n    setError(null);\n    setProgress({ current: 0, total: imageFiles.length });\n\n    const newProducts: Omit<Product, 'id'>[] = [];\n    let successCount = 0;\n    \n    for (let i = 0; i < imageFiles.length; i++) {\n      const file = imageFiles[i];\n      setProgress({ current: i + 1, total: imageFiles.length });\n      try {\n        const base64Image = await fileToBase64(file);\n        const resizedImagePreview = await fileToResizedBase64(file);\n        const geminiResult = await analyzeProductImage(base64Image);\n        \n        const registrationDate = new Date();\n        const category = geminiResult.ë¶„ë¥˜ as ProductCategory;\n        \n        const monthsToAdd = geminiResult.ê°œë´‰í›„ì‚¬ìš©ê¸°í•œ || AVERAGE_USAGE_PERIODS[category] || 6;\n\n        const finalExpiryDate = calculateExpiryDate(\n          registrationDate.toISOString(),\n          monthsToAdd,\n          geminiResult.ì œì¡°ì¼ì,\n          geminiResult.ê°œë´‰ì „ìœ íš¨ê¸°ê°„,\n        );\n\n        newProducts.push({\n          name: geminiResult.ì œí’ˆëª…,\n          category: category,\n          registrationDate: registrationDate.toISOString(),\n          expiryDate: finalExpiryDate,\n          imageUrl: resizedImagePreview, // Use resized image to save space\n          manufacturingDate: geminiResult.ì œì¡°ì¼ì,\n          expiryPeriodBeforeOpening: geminiResult.ê°œë´‰ì „ìœ íš¨ê¸°ê°„,\n          periodAfterOpening: geminiResult.ê°œë´‰í›„ì‚¬ìš©ê¸°í•œ,\n          review: '',\n          hasTrouble: false,\n          stock: 1, // ê¸°ë³¸ ì¬ê³  1ë¡œ ì„¤ì •\n        });\n        successCount++;\n      } catch (err) {\n        console.error(`Error processing file ${file.name}:`, err);\n        // Silently fail for the single image and continue with others\n      }\n    }\n    \n    if (newProducts.length > 0) {\n      onAddMultipleProducts(newProducts);\n    }\n    \n    alert(`ì´ ${imageFiles.length}ê°œ ì¤‘ ${successCount}ê°œì˜ ì œí’ˆì„ ì„±ê³µì ìœ¼ë¡œ ë“±ë¡í–ˆì–´ìš”!`);\n    setIsLoading(false);\n  };\n\n  return (\n    <div className=\"p-4 flex flex-col h-full\">\n       <h2 className=\"text-2xl font-bold text-gray-700 mb-4 text-center\">ìƒˆë¡œìš´ ìš©í’ˆ ë“±ë¡í•˜ê¸° ğŸ“¸</h2>\n      <div className=\"flex-grow flex flex-col items-center justify-center\">\n        <label htmlFor=\"file-upload\" className=\"cursor-pointer w-full max-w-sm\">\n          <div className=\"border-4 border-dashed border-bathlance-gray rounded-2xl p-6 text-center hover:border-bathlance-orange transition-colors\">\n            {imagePreviews.length > 0 ? (\n              <div>\n                <div className=\"grid grid-cols-3 gap-2\">\n                {imagePreviews.map((src, index) => (\n                  <img key={index} src={src} alt={`ë¯¸ë¦¬ë³´ê¸° ${index + 1}`} className=\"w-full h-20 object-cover rounded-md\" />\n                ))}\n                </div>\n                <p className=\"mt-4 font-bold text-gray-700\">{imagePreviews.length}ê°œì˜ ì‚¬ì§„ì´ ì„ íƒë˜ì—ˆì–´ìš”.</p>\n                <p className=\"text-sm text-gray-500\">ë‹¤ì‹œ ëˆ„ë¥´ë©´ ì‚¬ì§„ì„ ë³€ê²½í•  ìˆ˜ ìˆì–´ìš”.</p>\n              </div>\n            ) : (\n              <div className=\"text-gray-500\">\n                <p className=\"text-6xl\">ğŸ“·</p>\n                <p className=\"mt-2 font-bold text-lg\">ì—¬ê¸°ë¥¼ ëˆŒëŸ¬ ì‚¬ì§„ì„ ì¶”ê°€í•˜ì„¸ìš”</p>\n                <p className=\"text-sm\">ìµœëŒ€ 10ì¥ê¹Œì§€ ì„ íƒí•  ìˆ˜ ìˆì–´ìš”.</p>\n              </div>\n            )}\n          </div>\n        </label>\n        <input id=\"file-upload\" type=\"file\" accept=\"image/*\" multiple className=\"hidden\" onChange={handleFileChange} />\n        \n        {error && <p className=\"text-red-500 mt-4 text-center\">{error}</p>}\n      </div>\n\n      <div className=\"mt-auto\">\n        {isLoading ? (\n          <div className=\"text-center\">\n            <div className=\"animate-spin rounded-full h-12 w-12 border-b-4 border-bathlance-orange mx-auto\"></div>\n            <p className=\"mt-4 text-gray-600 font-bold text-lg\">\n              AIê°€ ì‚¬ì§„ì„ ë¶„ì„í•˜ê³  ìˆì–´ìš”... ({progress.current}/{progress.total})\n            </p>\n            <p className=\"text-sm text-gray-500\">ì ì‹œë§Œ ê¸°ë‹¤ë ¤ì£¼ì„¸ìš”!</p>\n          </div>\n        ) : (\n          <div className=\"flex space-x-4\">\n            <button onClick={onCancel} className=\"w-1/3 bg-gray-300 text-gray-800 font-bold py-3 px-4 rounded-full shadow-md hover:bg-gray-400 transition-colors\">ì·¨ì†Œ</button>\n            <button onClick={handleSubmit} disabled={imageFiles.length === 0} className=\"w-2/3 bg-bathlance-orange text-white font-bold py-3 px-4 rounded-full shadow-lg hover:bg-orange-600 transition-colors disabled:bg-gray-400 disabled:cursor-not-allowed\">\n              {imageFiles.length > 0 ? `${imageFiles.length}ê°œ ì œí’ˆ ë“±ë¡í•˜ê¸°` : 'ìë™ìœ¼ë¡œ ë“±ë¡í•˜ê¸°'}\n            </button>\n          </div>\n        )}\n      </div>\n    </div>\n  );\n};"],"names":[],"mappings":"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"}},
    {"offset": {"line": 2141, "column": 0}, "map": {"version":3,"sources":["file:///C:/coding/bathlance_1/components/EditProductScreen.tsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { Product, ProductCategory } from '../types';\nimport { formatDate, calculateExpiryDate } from '../utils/dateUtils';\nimport { AVERAGE_USAGE_PERIODS } from '../constants';\nimport { analyzeIngredients } from '../services/geminiService';\n\ninterface EditProductScreenProps {\n  product: Product;\n  onUpdateProduct: (product: Product) => void;\n  onCancel: () => void;\n}\n\nexport const EditProductScreen: React.FC<EditProductScreenProps> = ({ product, onUpdateProduct, onCancel }) => {\n  const [formData, setFormData] = useState(product);\n  const [isAnalyzing, setIsAnalyzing] = useState(false);\n  const [analysisError, setAnalysisError] = useState<string | null>(null);\n\n  useEffect(() => {\n    setFormData(product);\n  }, [product]);\n  \n  // Add a useEffect to automatically update the expiry date when relevant fields change.\n  useEffect(() => {\n    const { registrationDate, periodAfterOpening, manufacturingDate, expiryPeriodBeforeOpening, category } = formData;\n    \n    // Use the specific period after opening if available, otherwise fall back to the category average.\n    const monthsToAdd = periodAfterOpening || AVERAGE_USAGE_PERIODS[category] || 6;\n\n    if (registrationDate) {\n      const newExpiryDate = calculateExpiryDate(\n        registrationDate,\n        monthsToAdd,\n        manufacturingDate,\n        expiryPeriodBeforeOpening\n      );\n      // Update only the expiry date to avoid re-render loops.\n      // Check if the date has actually changed before setting state.\n      if (newExpiryDate !== formData.expiryDate) {\n          setFormData(prev => ({ ...prev, expiryDate: newExpiryDate }));\n      }\n    }\n  }, [formData.registrationDate, formData.periodAfterOpening, formData.manufacturingDate, formData.expiryPeriodBeforeOpening, formData.category, formData.expiryDate]);\n\n\n  const handleChange = (e: React.ChangeEvent<HTMLInputElement | HTMLSelectElement | HTMLTextAreaElement>) => {\n    const { name, value, type } = e.target;\n    \n    if (type === 'checkbox') {\n        const { checked } = e.target as HTMLInputElement;\n        setFormData(prev => ({...prev, [name]: checked}));\n        return;\n    }\n    \n    if (name === 'periodAfterOpening' || name === 'expiryPeriodBeforeOpening' || name === 'stock') {\n      let numValue = parseInt(value, 10);\n      if (name === 'stock') {\n          if (numValue > 50) numValue = 50;\n          if (numValue < 0) numValue = 0;\n      }\n      setFormData(prev => ({ ...prev, [name]: isNaN(numValue) ? undefined : numValue }));\n    } else {\n       // When changing a date, the value will be like \"2024-10-23\".\n       // To maintain consistency, we convert it to an ISO string at midnight UTC.\n       if (type === 'date' && value) {\n         const date = new Date(value);\n         const isoString = new Date(date.getTime() + date.getTimezoneOffset() * 60000).toISOString();\n         setFormData(prev => ({ ...prev, [name]: isoString }));\n       } else {\n         setFormData(prev => ({ ...prev, [name]: value }));\n       }\n    }\n  };\n  \n  const handleCategoryChange = (e: React.ChangeEvent<HTMLSelectElement>) => {\n    setFormData(prev => ({\n        ...prev,\n        category: e.target.value as ProductCategory,\n    }));\n  };\n\n  const handleAnalyzeIngredients = async () => {\n    setIsAnalyzing(true);\n    setAnalysisError(null);\n    try {\n      const base64Image = formData.imageUrl.split(',')[1];\n      if (!base64Image) {\n        throw new Error('ì´ë¯¸ì§€ ë°ì´í„°ê°€ ì˜¬ë°”ë¥´ì§€ ì•Šì•„ìš”.');\n      }\n      const result = await analyzeIngredients(base64Image);\n      setFormData(prev => ({ ...prev, ingredientAnalysis: result.ingredients }));\n    } catch (error: any) {\n      console.error(error);\n      setAnalysisError(error.message || 'ì„±ë¶„ ë¶„ì„ì— ì‹¤íŒ¨í–ˆì–´ìš”. ì´ë¯¸ì§€ì— ì „ì„±ë¶„í‘œê°€ ì˜ ë³´ì´ëŠ”ì§€ í™•ì¸ í›„ ë‹¤ì‹œ ì‹œë„í•´ì£¼ì„¸ìš”.');\n    } finally {\n      setIsAnalyzing(false);\n    }\n  };\n\n  const getEwgClass = (grade: string): string => {\n      if (grade.toLowerCase().includes('ì£¼ì˜') || grade.toLowerCase().includes('caution')) {\n        return 'bg-red-100 text-red-800 border border-red-200';\n      }\n      const match = grade.match(/(\\d+)/);\n      if (match) {\n          const gradeNum = parseInt(match[1], 10);\n          if (gradeNum >= 7) return 'bg-red-100 text-red-800 border border-red-200';\n          if (gradeNum >= 3) return 'bg-yellow-100 text-yellow-800 border border-yellow-200';\n          if (gradeNum >= 1) return 'bg-green-100 text-green-800 border border-green-200';\n      }\n      return 'bg-gray-100 text-gray-800 border border-gray-200';\n  };\n\n  const handleSubmit = (e: React.FormEvent) => {\n    e.preventDefault();\n    onUpdateProduct(formData);\n  };\n\n  return (\n    <div className=\"p-4\">\n      <h2 className=\"text-2xl font-bold text-gray-700 mb-6 text-center\">ì œí’ˆ ì •ë³´ ìˆ˜ì •í•˜ê¸° âœï¸</h2>\n      <form onSubmit={handleSubmit} className=\"space-y-4\">\n        <div className=\"text-center\">\n            <img src={formData.imageUrl} alt={formData.name} className=\"w-32 h-32 object-cover rounded-lg mx-auto border-4 border-white shadow-lg\"/>\n        </div>\n        <div>\n          <label htmlFor=\"name\" className=\"block text-md font-bold text-gray-600 mb-1\">ì œí’ˆ ì´ë¦„</label>\n          <input\n            type=\"text\"\n            id=\"name\"\n            name=\"name\"\n            value={formData.name}\n            onChange={handleChange}\n            className=\"block w-full px-4 py-3 bg-white border border-gray-300 rounded-full shadow-sm focus:outline-none focus:ring-bathlance-orange focus:border-bathlance-orange\"\n          />\n        </div>\n        <div>\n          <label htmlFor=\"category\" className=\"block text-md font-bold text-gray-600 mb-1\">ë¶„ë¥˜</label>\n          <select\n            id=\"category\"\n            name=\"category\"\n            value={formData.category}\n            onChange={handleCategoryChange}\n            className=\"block w-full px-4 py-3 bg-white border border-gray-300 rounded-full shadow-sm focus:outline-none focus:ring-bathlance-orange focus:border-bathlance-orange\"\n          >\n            {Object.keys(AVERAGE_USAGE_PERIODS).map(cat => <option key={cat} value={cat}>{cat}</option>)}\n          </select>\n        </div>\n        <div>\n          <label htmlFor=\"periodAfterOpening\" className=\"block text-md font-bold text-gray-600 mb-1\">ê°œë´‰ í›„ ì‚¬ìš©ê¸°í•œ (ê°œì›”)</label>\n          <input\n            type=\"number\"\n            id=\"periodAfterOpening\"\n            name=\"periodAfterOpening\"\n            value={formData.periodAfterOpening || ''}\n            onChange={handleChange}\n            placeholder=\"ì˜ˆ: 12 (AIê°€ ìë™ ì…ë ¥í•´ìš”)\"\n            className=\"block w-full px-4 py-3 bg-white border border-gray-300 rounded-full shadow-sm focus:outline-none focus:ring-bathlance-orange focus:border-bathlance-orange\"\n          />\n        </div>\n        <div>\n          <label htmlFor=\"manufacturingDate\" className=\"block text-md font-bold text-gray-600 mb-1\">ì œì¡°ì¼</label>\n          <input\n            type=\"date\"\n            id=\"manufacturingDate\"\n            name=\"manufacturingDate\"\n            value={formData.manufacturingDate ? formatDate(formData.manufacturingDate) : ''}\n            onChange={handleChange}\n            className=\"block w-full px-4 py-3 bg-white border border-gray-300 rounded-full shadow-sm focus:outline-none focus:ring-bathlance-orange focus:border-bathlance-orange\"\n          />\n        </div>\n        <div>\n          <label htmlFor=\"expiryPeriodBeforeOpening\" className=\"block text-md font-bold text-gray-600 mb-1\">ê°œë´‰ ì „ ìœ íš¨ê¸°ê°„ (ê°œì›” ìˆ˜)</label>\n          <input\n            type=\"number\"\n            id=\"expiryPeriodBeforeOpening\"\n            name=\"expiryPeriodBeforeOpening\"\n            value={formData.expiryPeriodBeforeOpening || ''}\n            onChange={handleChange}\n            placeholder=\"ì˜ˆ: 36 (ì œì¡°ì¼ë¡œë¶€í„°)\"\n            className=\"block w-full px-4 py-3 bg-white border border-gray-300 rounded-full shadow-sm focus:outline-none focus:ring-bathlance-orange focus:border-bathlance-orange\"\n          />\n        </div>\n         <div>\n          <label htmlFor=\"stock\" className=\"block text-md font-bold text-gray-600 mb-1\">ì¬ê³  ìˆ˜ëŸ‰</label>\n          <input\n            type=\"number\"\n            id=\"stock\"\n            name=\"stock\"\n            value={formData.stock ?? 1}\n            onChange={handleChange}\n            min=\"0\"\n            max=\"50\"\n            placeholder=\"1\"\n            className=\"block w-full px-4 py-3 bg-white border border-gray-300 rounded-full shadow-sm focus:outline-none focus:ring-bathlance-orange focus:border-bathlance-orange\"\n          />\n        </div>\n        <div>\n          <label htmlFor=\"registrationDate\" className=\"block text-md font-bold text-gray-600 mb-1\">ë“±ë¡ì¼ (ê°œë´‰ì¼)</label>\n          <input\n            type=\"date\"\n            id=\"registrationDate\"\n            name=\"registrationDate\"\n            value={formatDate(formData.registrationDate)}\n            onChange={handleChange}\n            className=\"block w-full px-4 py-3 bg-white border border-gray-300 rounded-full shadow-sm focus:outline-none focus:ring-bathlance-orange focus:border-bathlance-orange\"\n          />\n        </div>\n        <div>\n          <label htmlFor=\"expiryDate\" className=\"block text-md font-bold text-gray-600 mb-1\">êµì²´ ì˜ˆì •ì¼ (ìë™ ê³„ì‚°)</label>\n          <input\n            type=\"date\"\n            id=\"expiryDate\"\n            name=\"expiryDate\"\n            value={formatDate(formData.expiryDate)}\n            readOnly\n            className=\"block w-full px-4 py-3 bg-gray-100 border border-gray-300 rounded-full shadow-sm focus:outline-none focus:ring-bathlance-orange focus:border-bathlance-orange cursor-not-allowed\"\n          />\n        </div>\n\n        <div className=\"pt-2\">\n            <h3 className=\"text-md font-bold text-gray-600 mb-2 flex items-center\">AI ì„±ë¶„ ë¶„ì„ ğŸ”¬ <span className=\"text-xs font-normal text-gray-500 ml-2\">(ì œí’ˆ ë’·ë©´ ì‚¬ì§„ í•„ìš”)</span></h3>\n            {formData.ingredientAnalysis && formData.ingredientAnalysis.length > 0 ? (\n                <div className=\"bg-white border border-gray-200 rounded-2xl p-4 space-y-2 max-h-60 overflow-y-auto\">\n                {formData.ingredientAnalysis.map((ing, index) => (\n                    <div key={index} className=\"flex justify-between items-center text-sm p-2 rounded-lg hover:bg-gray-50\">\n                        <div className=\"flex-1 mr-2\">\n                            <p className=\"font-bold text-gray-700\">{ing.name}</p>\n                            {ing.description && <p className=\"text-xs text-gray-500 mt-1\">{ing.description}</p>}\n                        </div>\n                        <div className=\"flex items-center space-x-2 flex-shrink-0\">\n                            {ing.isAllergen && (\n                                <span className=\"text-xs font-bold text-red-600 bg-red-100 px-2 py-0.5 rounded-full border border-red-200\">ì•ŒëŸ¬ì§€ì£¼ì˜</span>\n                            )}\n                            <span className={`text-xs font-bold px-2 py-1 rounded-full ${getEwgClass(ing.ewgGrade)}`}>\n                                EWG {ing.ewgGrade}\n                            </span>\n                        </div>\n                    </div>\n                ))}\n                </div>\n            ) : (\n                <div className=\"text-center p-4 bg-gray-50 border-2 border-dashed rounded-2xl\">\n                <p className=\"text-gray-500 mb-3\">ì œí’ˆ ë’·ë©´ì˜ ì „ì„±ë¶„í‘œë¥¼ ë¶„ì„í•˜ì—¬<br />ì•ˆì „ ë“±ê¸‰ê³¼ ì•Œë ˆë¥´ê¸° ì •ë³´ë¥¼ ì•Œë ¤ë“œë ¤ìš”.</p>\n                {isAnalyzing ? (\n                    <div className=\"flex items-center justify-center h-[36px]\">\n                        <div className=\"animate-spin rounded-full h-6 w-6 border-b-2 border-bathlance-orange\"></div>\n                        <span className=\"ml-3 text-gray-600\">ë¶„ì„ ì¤‘...</span>\n                    </div>\n                ) : (\n                    <button \n                    type=\"button\" \n                    onClick={handleAnalyzeIngredients}\n                    className=\"bg-bathlance-yellow text-bathlance-orange font-bold py-2 px-5 rounded-full shadow-md hover:bg-yellow-400 transition-colors\"\n                    >\n                    AIë¡œ ì„±ë¶„ ë¶„ì„í•˜ê¸°\n                    </button>\n                )}\n                </div>\n            )}\n            {analysisError && <p className=\"text-red-500 mt-2 text-sm text-center\">{analysisError}</p>}\n        </div>\n\n         <div>\n          <label htmlFor=\"review\" className=\"block text-md font-bold text-gray-600 mb-1\">ê°„ë‹¨ í›„ê¸° ğŸ“</label>\n          <textarea\n            id=\"review\"\n            name=\"review\"\n            value={formData.review || ''}\n            onChange={handleChange}\n            rows={3}\n            placeholder=\"ì œí’ˆ ì‚¬ìš© í›„ê¸°ë¥¼ ê°„ë‹¨í•˜ê²Œ ë‚¨ê²¨ë³´ì„¸ìš”. (ì˜ˆ: í–¥ì´ ì¢‹ì•˜ì–´ìš”!)\"\n            className=\"block w-full px-4 py-3 bg-white border border-gray-300 rounded-2xl shadow-sm focus:outline-none focus:ring-bathlance-orange focus:border-bathlance-orange\"\n          />\n        </div>\n\n        <div className=\"flex items-center justify-between bg-red-50 border-l-4 border-red-400 p-4 rounded-r-lg\">\n          <div className=\"flex-1\">\n            <label htmlFor=\"hasTrouble\" className=\"font-bold text-red-700\">í”¼ë¶€ íŠ¸ëŸ¬ë¸” ë°œìƒ! ğŸ˜¥</label>\n            <p className=\"text-sm text-red-600\">ë‹¤ìŒì— ì‚¬ìš©í•˜ì§€ ì•Šë„ë¡ ì²´í¬í•´ë‘˜ê²Œìš”.</p>\n          </div>\n          <input\n            type=\"checkbox\"\n            id=\"hasTrouble\"\n            name=\"hasTrouble\"\n            checked={!!formData.hasTrouble}\n            onChange={handleChange}\n            className=\"h-6 w-6 text-red-600 border-gray-300 rounded focus:ring-red-500 cursor-pointer\"\n          />\n        </div>\n        <div className=\"flex space-x-4 pt-4\">\n          <button type=\"button\" onClick={onCancel} className=\"w-1/2 bg-gray-300 text-gray-800 font-bold py-3 px-4 rounded-full shadow-md hover:bg-gray-400 transition-colors\">ì·¨ì†Œ</button>\n          <button type=\"submit\" className=\"w-1/2 bg-bathlance-orange text-white font-bold py-3 px-4 rounded-full shadow-lg hover:bg-orange-600 transition-colors\">ì €ì¥í•˜ê¸°</button>\n        </div>\n      </form>\n    </div>\n  );\n};"],"names":[],"mappings":"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"}},
    {"offset": {"line": 2827, "column": 0}, "map": {"version":3,"sources":["file:///C:/coding/bathlance_1/components/ConfirmationModal.tsx"],"sourcesContent":["import React from 'react';\n\ninterface ConfirmationModalProps {\n  isOpen: boolean;\n  onClose: () => void;\n  onConfirm: () => void;\n  title: string;\n  message: string;\n}\n\nexport const ConfirmationModal: React.FC<ConfirmationModalProps> = ({ isOpen, onClose, onConfirm, title, message }) => {\n  if (!isOpen) return null;\n\n  return (\n    <div className=\"fixed inset-0 bg-black bg-opacity-50 flex justify-center items-center z-50 transition-opacity duration-300\" onClick={onClose}>\n      <div className=\"bg-white rounded-2xl shadow-2xl p-6 m-4 max-w-sm w-full text-center transform transition-all duration-300 scale-95 animate-scale-in\" onClick={(e) => e.stopPropagation()}>\n        <div className=\"text-5xl mb-4\">ğŸ—‘ï¸</div>\n        <h3 className=\"text-2xl font-bold text-gray-800 mb-2\">{title}</h3>\n        <p className=\"text-gray-600 mb-6\">{message}</p>\n        <div className=\"flex justify-center space-x-4\">\n          <button onClick={onClose} className=\"w-1/2 bg-gray-300 text-gray-800 font-bold py-3 px-4 rounded-full shadow-md hover:bg-gray-400 transition-colors\">\n            ì·¨ì†Œ\n          </button>\n          <button onClick={onConfirm} className=\"w-1/2 bg-red-500 text-white font-bold py-3 px-4 rounded-full shadow-lg hover:bg-red-600 transition-colors\">\n            ì‚­ì œ\n          </button>\n        </div>\n      </div>\n      <style>{`\n        @keyframes scale-in {\n          from { transform: scale(0.9); opacity: 0; }\n          to { transform: scale(1); opacity: 1; }\n        }\n        .animate-scale-in {\n          animation: scale-in 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275) forwards;\n        }\n      `}</style>\n    </div>\n  );\n};\n"],"names":[],"mappings":";;;;;;AAUO,MAAM,oBAAsD,CAAC,EAAE,MAAM,EAAE,OAAO,EAAE,SAAS,EAAE,KAAK,EAAE,OAAO,EAAE;IAChH,IAAI,CAAC,QAAQ,OAAO;IAEpB,qBACE,6VAAC;QAAI,WAAU;QAA6G,SAAS;;0BACnI,6VAAC;gBAAI,WAAU;gBAAsI,SAAS,CAAC,IAAM,EAAE,eAAe;;kCACpL,6VAAC;wBAAI,WAAU;kCAAgB;;;;;;kCAC/B,6VAAC;wBAAG,WAAU;kCAAyC;;;;;;kCACvD,6VAAC;wBAAE,WAAU;kCAAsB;;;;;;kCACnC,6VAAC;wBAAI,WAAU;;0CACb,6VAAC;gCAAO,SAAS;gCAAS,WAAU;0CAAiH;;;;;;0CAGrJ,6VAAC;gCAAO,SAAS;gCAAW,WAAU;0CAA4G;;;;;;;;;;;;;;;;;;0BAKtJ,6VAAC;0BAAO,CAAC;;;;;;;;MAQT,CAAC;;;;;;;;;;;;AAGP"}},
    {"offset": {"line": 2926, "column": 0}, "map": {"version":3,"sources":["file:///C:/coding/bathlance_1/components/SettingsScreen.tsx"],"sourcesContent":["import React, { useState } from 'react';\nimport { ConfirmationModal } from './ConfirmationModal';\n\nconst NOTIFICATION_KEY = 'bathlance_notification_days';\n\ninterface SettingsScreenProps {\n    onClearAllData: () => void;\n}\n\nexport const SettingsScreen: React.FC<SettingsScreenProps> = ({ onClearAllData }) => {\n    const [notificationDays, setNotificationDays] = useState(() => {\n        return localStorage.getItem(NOTIFICATION_KEY) || '7';\n    });\n    const [isDeleteModalOpen, setIsDeleteModalOpen] = useState(false);\n\n    const handleNotificationChange = (e: React.ChangeEvent<HTMLSelectElement>) => {\n        const days = e.target.value;\n        setNotificationDays(days);\n        localStorage.setItem(NOTIFICATION_KEY, days);\n        alert(`ì•Œë¦¼ì´ êµì²´ ${days}ì¼ ì „ì— ì˜¤ë„ë¡ ì„¤ì •ë˜ì—ˆì–´ìš”! (ì‹¤ì œ ì•Œë¦¼ì€ ì§€ì›ë˜ì§€ ì•Šì•„ìš”)`);\n    };\n    \n    const handleConfirmClearData = () => {\n        setIsDeleteModalOpen(false);\n        onClearAllData();\n    };\n\n    return (\n        <>\n            <div className=\"p-4\">\n                <h2 className=\"text-2xl font-bold text-gray-700 mb-6 text-center\">ì„¤ì • âš™ï¸</h2>\n                <div className=\"bg-white rounded-2xl shadow-lg p-6 space-y-6\">\n                    <div>\n                        <label htmlFor=\"notification\" className=\"block text-md font-bold text-gray-600\">ì•Œë¦¼ ì„¤ì •</label>\n                        <p className=\"text-sm text-gray-500 mb-2\">êµì²´ì¼ ë©°ì¹  ì „ì— ì•Œë¦¼ì„ ë°›ì„ì§€ ì„ íƒí•˜ì„¸ìš”.</p>\n                        <select\n                            id=\"notification\"\n                            value={notificationDays}\n                            onChange={handleNotificationChange}\n                            className=\"mt-1 block w-full px-4 py-3 bg-white border border-gray-300 rounded-full shadow-sm focus:outline-none focus:ring-bathlance-orange focus:border-bathlance-orange\"\n                        >\n                            <option value=\"1\">1ì¼ ì „</option>\n                            <option value=\"3\">3ì¼ ì „</option>\n                            <option value=\"7\">7ì¼ ì „</option>\n                            <option value=\"14\">14ì¼ ì „</option>\n                        </select>\n                    </div>\n\n                    <div>\n                        <h3 className=\"text-md font-bold text-gray-600\">ë°ì´í„° ê´€ë¦¬</h3>\n                        <p className=\"text-sm text-gray-500 mb-2\">ì•±ì— ì €ì¥ëœ ëª¨ë“  ì œí’ˆ ì •ë³´ë¥¼ ì‚­ì œí•©ë‹ˆë‹¤.</p>\n                         <button \n                            onClick={() => setIsDeleteModalOpen(true)}\n                            className=\"w-full bg-red-500 text-white font-bold py-3 px-4 rounded-full shadow-lg hover:bg-red-600 transition-colors\"\n                        >\n                            ëª¨ë“  ë°ì´í„° ì‚­ì œí•˜ê¸°\n                        </button>\n                    </div>\n\n                    <div className=\"text-center text-gray-400 pt-4\">\n                        <p>BATHLANCE v1.0</p>\n                        <p>ê·€ì—¬ìš´ ìš•ì‹¤ ê´€ë¦¬ ë„ìš°ë¯¸</p>\n                    </div>\n                </div>\n            </div>\n            <ConfirmationModal\n                isOpen={isDeleteModalOpen}\n                onClose={() => setIsDeleteModalOpen(false)}\n                onConfirm={handleConfirmClearData}\n                title=\"ì •ë§ ëª¨ë“  ë°ì´í„°ë¥¼ ì‚­ì œí• ê¹Œìš”?\"\n                message=\"ì œí’ˆ, ë©”ëª¨, ì„¤ì • ë“± ëª¨ë“  ì •ë³´ê°€ ì˜êµ¬ì ìœ¼ë¡œ ì‚­ì œë©ë‹ˆë‹¤. ì´ ì‘ì—…ì€ ë˜ëŒë¦´ ìˆ˜ ì—†ì–´ìš”!\"\n            />\n        </>\n    );\n};"],"names":[],"mappings":";;;;;AAAA;AACA;;;;AAEA,MAAM,mBAAmB;AAMlB,MAAM,iBAAgD,CAAC,EAAE,cAAc,EAAE;IAC5E,MAAM,CAAC,kBAAkB,oBAAoB,GAAG,IAAA,gUAAQ,EAAC;QACrD,OAAO,aAAa,OAAO,CAAC,qBAAqB;IACrD;IACA,MAAM,CAAC,mBAAmB,qBAAqB,GAAG,IAAA,gUAAQ,EAAC;IAE3D,MAAM,2BAA2B,CAAC;QAC9B,MAAM,OAAO,EAAE,MAAM,CAAC,KAAK;QAC3B,oBAAoB;QACpB,aAAa,OAAO,CAAC,kBAAkB;QACvC,MAAM,CAAC,OAAO,EAAE,KAAK,kCAAkC,CAAC;IAC5D;IAEA,MAAM,yBAAyB;QAC3B,qBAAqB;QACrB;IACJ;IAEA,qBACI;;0BACI,6VAAC;gBAAI,WAAU;;kCACX,6VAAC;wBAAG,WAAU;kCAAoD;;;;;;kCAClE,6VAAC;wBAAI,WAAU;;0CACX,6VAAC;;kDACG,6VAAC;wCAAM,SAAQ;wCAAe,WAAU;kDAAwC;;;;;;kDAChF,6VAAC;wCAAE,WAAU;kDAA6B;;;;;;kDAC1C,6VAAC;wCACG,IAAG;wCACH,OAAO;wCACP,UAAU;wCACV,WAAU;;0DAEV,6VAAC;gDAAO,OAAM;0DAAI;;;;;;0DAClB,6VAAC;gDAAO,OAAM;0DAAI;;;;;;0DAClB,6VAAC;gDAAO,OAAM;0DAAI;;;;;;0DAClB,6VAAC;gDAAO,OAAM;0DAAK;;;;;;;;;;;;;;;;;;0CAI3B,6VAAC;;kDACG,6VAAC;wCAAG,WAAU;kDAAkC;;;;;;kDAChD,6VAAC;wCAAE,WAAU;kDAA6B;;;;;;kDACzC,6VAAC;wCACE,SAAS,IAAM,qBAAqB;wCACpC,WAAU;kDACb;;;;;;;;;;;;0CAKL,6VAAC;gCAAI,WAAU;;kDACX,6VAAC;kDAAE;;;;;;kDACH,6VAAC;kDAAE;;;;;;;;;;;;;;;;;;;;;;;;0BAIf,6VAAC,qJAAiB;gBACd,QAAQ;gBACR,SAAS,IAAM,qBAAqB;gBACpC,WAAW;gBACX,OAAM;gBACN,SAAQ;;;;;;;;AAIxB"}},
    {"offset": {"line": 3123, "column": 0}, "map": {"version":3,"sources":["file:///C:/coding/bathlance_1/components/MemoScreen.tsx"],"sourcesContent":["import React, { useState } from 'react';\nimport { ShoppingListItem, DiaryEntry } from '../types';\nimport { TrashIcon } from './icons/TrashIcon';\nimport { formatDate } from '../utils/dateUtils';\n\ninterface MemoScreenProps {\n    shoppingList: ShoppingListItem[];\n    onAddItem: (name: string) => void;\n    onToggleItem: (id: string) => void;\n    onDeleteItem: (id: string) => void;\n    diaryEntries: DiaryEntry[];\n    onAddEntry: (content: string) => void;\n    onDeleteEntry: (id: string) => void;\n}\n\nconst ShoppingList: React.FC<Omit<MemoScreenProps, 'diaryEntries' | 'onAddEntry' | 'onDeleteEntry'>> = \n  ({ shoppingList, onAddItem, onToggleItem, onDeleteItem }) => {\n    const [newItemName, setNewItemName] = useState('');\n\n    const handleAddItem = (e: React.FormEvent) => {\n        e.preventDefault();\n        if (newItemName.trim()) {\n            onAddItem(newItemName.trim());\n            setNewItemName('');\n        }\n    };\n\n    return (\n        <div className=\"bg-white rounded-2xl shadow-lg p-6\">\n            <h3 className=\"text-xl font-bold text-gray-700 mb-4 text-center\">ìƒˆë¡œ êµ¬ë§¤í•´ì•¼ í•  ìš©í’ˆ ë¦¬ìŠ¤íŠ¸ ğŸ›’</h3>\n            <form onSubmit={handleAddItem} className=\"flex space-x-2 mb-4\">\n                <input \n                    type=\"text\"\n                    value={newItemName}\n                    onChange={(e) => setNewItemName(e.target.value)}\n                    placeholder=\"ì‚¬ê³  ì‹¶ì€ ì œí’ˆì„ ì…ë ¥í•˜ì„¸ìš”...\"\n                    className=\"flex-grow px-4 py-2 bg-gray-100 border border-gray-200 rounded-full focus:outline-none focus:ring-2 focus:ring-bathlance-yellow\"\n                />\n                <button type=\"submit\" className=\"bg-bathlance-orange text-white font-bold py-2 px-4 rounded-full shadow-md hover:bg-orange-600 transition-colors\">\n                    ì¶”ê°€\n                </button>\n            </form>\n            <ul className=\"space-y-2 max-h-60 overflow-y-auto\">\n                {shoppingList.length > 0 ? shoppingList.map(item => (\n                    <li key={item.id} className=\"flex items-center justify-between p-2 rounded-lg hover:bg-gray-50\">\n                        <label className=\"flex items-center cursor-pointer flex-grow\">\n                            <input \n                                type=\"checkbox\"\n                                checked={item.checked}\n                                onChange={() => onToggleItem(item.id)}\n                                className=\"h-5 w-5 rounded border-gray-300 text-bathlance-orange focus:ring-bathlance-orange\"\n                            />\n                            <span className={`ml-3 text-gray-700 ${item.checked ? 'line-through text-gray-400' : ''}`}>\n                                {item.name}\n                            </span>\n                        </label>\n                        <button onClick={() => onDeleteItem(item.id)} className=\"text-gray-400 hover:text-red-600 ml-2\">\n                            <TrashIcon className=\"w-5 h-5\" />\n                        </button>\n                    </li>\n                )) : (\n                    <p className=\"text-center text-gray-400 py-4\">êµ¬ë§¤í•  ìš©í’ˆì´ ì—†ì–´ìš”!</p>\n                )}\n            </ul>\n        </div>\n    );\n};\n\nconst ShowerDiary: React.FC<Omit<MemoScreenProps, 'shoppingList' | 'onAddItem' | 'onToggleItem' | 'onDeleteItem'>> = \n  ({ diaryEntries, onAddEntry, onDeleteEntry }) => {\n    const [newEntryContent, setNewEntryContent] = useState('');\n\n    const handleAddEntry = () => {\n        if (newEntryContent.trim()) {\n            onAddEntry(newEntryContent.trim());\n            setNewEntryContent('');\n        }\n    };\n\n    return (\n        <div className=\"bg-white rounded-2xl shadow-lg p-6\">\n             <h3 className=\"text-xl font-bold text-gray-700 mb-4 text-center\">ìƒ¤ì›Œ ì¼ê¸°ì¥ ğŸ’¡</h3>\n             {diaryEntries.length < 10 ? (\n                <div className=\"mb-4\">\n                    <textarea\n                        value={newEntryContent}\n                        onChange={(e) => setNewEntryContent(e.target.value)}\n                        rows={4}\n                        placeholder=\"ìƒ¤ì›Œ ì¤‘ ë– ì˜¤ë¥¸ ìƒê°, ì•„ì´ë””ì–´, í•  ì¼ ë“±ì„ ê¸°ë¡í•´ë³´ì„¸ìš”...\"\n                        className=\"w-full p-3 bg-yellow-50 border border-yellow-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-bathlance-yellow\"\n                    />\n                    <button onClick={handleAddEntry} className=\"w-full mt-2 bg-bathlance-yellow text-bathlance-orange font-bold py-2 px-4 rounded-full shadow-md hover:bg-yellow-400 transition-colors\">\n                        ì¼ê¸° ì¶”ê°€í•˜ê¸°\n                    </button>\n                </div>\n             ) : (\n                <p className=\"text-center text-gray-500 bg-gray-100 p-3 rounded-lg mb-4\">ì¼ê¸°ì¥ì€ 10ê°œê¹Œì§€ ì‘ì„±í•  ìˆ˜ ìˆì–´ìš”.</p>\n             )}\n             <div className=\"space-y-4 max-h-80 overflow-y-auto\">\n                {diaryEntries.length > 0 ? diaryEntries.map(entry => (\n                    <div key={entry.id} className=\"bg-gray-50 p-4 rounded-lg relative\">\n                        <p className=\"text-xs text-gray-400 mb-1\">{formatDate(entry.date)}</p>\n                        <p className=\"text-gray-800 whitespace-pre-wrap\">{entry.content}</p>\n                        <button onClick={() => onDeleteEntry(entry.id)} className=\"absolute top-2 right-2 text-gray-400 hover:text-red-600\">\n                            <TrashIcon className=\"w-4 h-4\" />\n                        </button>\n                    </div>\n                )) : (\n                    <p className=\"text-center text-gray-400 py-4\">ì•„ì§ ì‘ì„±ëœ ì¼ê¸°ê°€ ì—†ì–´ìš”.</p>\n                )}\n             </div>\n        </div>\n    );\n};\n\n\nexport const MemoScreen: React.FC<MemoScreenProps> = (props) => {\n    return (\n        <div className=\"p-4 space-y-6\">\n             <h2 className=\"text-2xl font-bold text-gray-700 text-center\">ë©”ëª¨ì¥ ğŸ“</h2>\n            <ShoppingList \n                shoppingList={props.shoppingList}\n                onAddItem={props.onAddItem}\n                onToggleItem={props.onToggleItem}\n                onDeleteItem={props.onDeleteItem}\n            />\n            <ShowerDiary \n                diaryEntries={props.diaryEntries}\n                onAddEntry={props.onAddEntry}\n                onDeleteEntry={props.onDeleteEntry}\n            />\n        </div>\n    );\n};\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 3415, "column": 0}, "map": {"version":3,"sources":["file:///C:/coding/bathlance_1/app/pwa-register.tsx"],"sourcesContent":["'use client';\r\n\r\nimport { useEffect } from 'react';\r\n\r\nexport function PWARegister() {\r\n  useEffect(() => {\r\n    if (typeof window !== 'undefined' && 'serviceWorker' in navigator) {\r\n      window.addEventListener('load', () => {\r\n        navigator.serviceWorker\r\n          .register('/sw.js')\r\n          .then((registration) => {\r\n            console.log('Service Worker ë“±ë¡ ì„±ê³µ:', registration.scope);\r\n          })\r\n          .catch((error) => {\r\n            console.log('Service Worker ë“±ë¡ ì‹¤íŒ¨:', error);\r\n          });\r\n      });\r\n    }\r\n  }, []);\r\n\r\n  return null;\r\n}\r\n\r\n"],"names":[],"mappings":";;;;AAEA;AAFA;;AAIO,SAAS;IACd,IAAA,iUAAS,EAAC;QACR,IAAI,kDAAkB,eAAe,mBAAmB;;IAY1D,GAAG,EAAE;IAEL,OAAO;AACT"}},
    {"offset": {"line": 3433, "column": 0}, "map": {"version":3,"sources":["file:///C:/coding/bathlance_1/app/page.tsx"],"sourcesContent":["'use client';\n\nimport React, { useState, useCallback, useEffect } from 'react';\nimport { Product, Screen } from '../types';\nimport { useProducts } from '../hooks/useProducts';\nimport { useMemos } from '../hooks/useMemos';\nimport { Header } from '../components/Header';\nimport { BottomNav } from '../components/BottomNav';\nimport { HomeScreen } from '../components/HomeScreen';\nimport { AddProductScreen } from '../components/AddProductScreen';\nimport { EditProductScreen } from '../components/EditProductScreen';\nimport { SettingsScreen } from '../components/SettingsScreen';\nimport { MemoScreen } from '../components/MemoScreen';\nimport { ConfirmationModal } from '../components/ConfirmationModal';\nimport { getDaysRemaining, calculateExpiryDate } from '../utils/dateUtils';\nimport { AVERAGE_USAGE_PERIODS, NOTIFICATION_DAYS_BEFORE } from '../constants';\nimport { SignedIn, SignedOut, SignInButton, SignUpButton } from '@clerk/nextjs';\nimport { PWARegister } from './pwa-register';\n\nexport default function HomePage() {\n  const { products, addMultipleProducts, updateProduct, deleteProduct, reorderProducts, clearAllProducts } = useProducts();\n  const { \n    shoppingList, \n    addShoppingListItem, \n    toggleShoppingListItem, \n    deleteShoppingListItem,\n    diaryEntries,\n    addDiaryEntry,\n    deleteDiaryEntry,\n    clearAllMemos,\n  } = useMemos();\n  const [activeScreen, setActiveScreen] = useState<Screen>('home');\n  const [selectedProduct, setSelectedProduct] = useState<Product | null>(null);\n  const [isDeleteModalOpen, setIsDeleteModalOpen] = useState(false);\n  const [productToDelete, setProductToDelete] = useState<string | null>(null);\n\n  useEffect(() => {\n    // FIX: Use notification days from localStorage to respect user settings.\n    const notificationDays = parseInt(\n        localStorage.getItem('bathlance_notification_days') || `${NOTIFICATION_DAYS_BEFORE}`,\n        10\n    );\n    const notifiedProducts = new Set(JSON.parse(sessionStorage.getItem('notifiedProducts') || '[]'));\n    \n    products.forEach(product => {\n      const daysRemaining = getDaysRemaining(product.expiryDate);\n      if (daysRemaining > 0 && daysRemaining <= notificationDays && !notifiedProducts.has(product.id)) {\n        alert(`ğŸ§´ \"${product.name}\" êµì²´ ì‹œê¸°ê°€ ${daysRemaining}ì¼ ë‚¨ì•˜ì–´ìš”! ìƒˆ ì œí’ˆìœ¼ë¡œ ìƒì¾Œí•˜ê²Œ ì‹œì‘í•  ì‹œê°„ì´ì—ìš”! âœ¨`);\n        notifiedProducts.add(product.id);\n      }\n    });\n\n    sessionStorage.setItem('notifiedProducts', JSON.stringify(Array.from(notifiedProducts)));\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [products]);\n\n  const handleAddMultipleProducts = useCallback((productsToAdd: Omit<Product, 'id'>[]) => {\n    addMultipleProducts(productsToAdd);\n    setActiveScreen('home');\n  }, [addMultipleProducts]);\n\n  const handleOpenAddScreen = useCallback(() => {\n    setActiveScreen('add');\n  }, []);\n\n  const handleUpdateProduct = useCallback((product: Product) => {\n    updateProduct(product);\n    setActiveScreen('home');\n    setSelectedProduct(null);\n  }, [updateProduct]);\n\n  const handleDeleteProduct = useCallback((productId: string) => {\n    setProductToDelete(productId);\n    setIsDeleteModalOpen(true);\n  }, []);\n\n  const handleReplaceProduct = useCallback((productId: string) => {\n    const productToReplace = products.find(p => p.id === productId);\n    if (!productToReplace) return;\n\n    const currentStock = productToReplace.stock ?? 1;\n    if (currentStock <= 0) {\n      alert(\"ì¬ê³ ê°€ ì—†ëŠ” ì œí’ˆì€ êµì²´í•  ìˆ˜ ì—†ì–´ìš”. ì‡¼í•‘ ë¦¬ìŠ¤íŠ¸ë¥¼ í™•ì¸í•´ë³´ì„¸ìš”!\");\n      return;\n    }\n\n    const newStock = currentStock - 1;\n    const newRegistrationDate = new Date().toISOString();\n    const monthsToAdd = productToReplace.periodAfterOpening || AVERAGE_USAGE_PERIODS[productToReplace.category] || 6;\n\n    const newExpiryDate = calculateExpiryDate(\n      newRegistrationDate,\n      monthsToAdd,\n      productToReplace.manufacturingDate,\n      productToReplace.expiryPeriodBeforeOpening,\n    );\n    \n    const updatedProduct: Product = {\n      ...productToReplace,\n      stock: newStock,\n      registrationDate: newRegistrationDate,\n      expiryDate: newExpiryDate,\n    };\n    \n    updateProduct(updatedProduct);\n\n    if (newStock === 0) {\n        // Prevent adding duplicates to the shopping list.\n        const alreadyInList = shoppingList.some(item => item.productId === productToReplace.id);\n        if(!alreadyInList){\n            addShoppingListItem({ name: productToReplace.name, productId: productToReplace.id });\n            alert(`\"${productToReplace.name}\"ì˜ ë§ˆì§€ë§‰ ì¬ê³ ë¥¼ ì‚¬ìš©í–ˆì–´ìš”. ì‡¼í•‘ ë¦¬ìŠ¤íŠ¸ì— ì¶”ê°€í•´ë‘˜ê²Œìš”! ğŸ›’`);\n        }\n    }\n\n  }, [products, updateProduct, addShoppingListItem, shoppingList]);\n\n  const confirmDelete = () => {\n    if (productToDelete) {\n      deleteProduct(productToDelete);\n    }\n    setIsDeleteModalOpen(false);\n    setProductToDelete(null);\n  };\n\n  const cancelDelete = () => {\n    setIsDeleteModalOpen(false);\n    setProductToDelete(null);\n  };\n\n  const handleEditProduct = (product: Product) => {\n    setSelectedProduct(product);\n    setActiveScreen('edit');\n  };\n\n  const handleCancel = () => {\n    setActiveScreen('home');\n    setSelectedProduct(null);\n  };\n  \n  const handleToggleShoppingList = useCallback((product: Product) => {\n      const existingItem = shoppingList.find(item => item.productId === product.id);\n      if (existingItem) {\n          deleteShoppingListItem(existingItem.id);\n      } else {\n          addShoppingListItem({ name: product.name, productId: product.id });\n      }\n  }, [shoppingList, addShoppingListItem, deleteShoppingListItem]);\n\n  const handleAddShoppingItemManually = (name: string) => {\n      addShoppingListItem({ name });\n  };\n  \n  const handleClearAllData = () => {\n    localStorage.clear();\n    sessionStorage.clear();\n    \n    clearAllProducts();\n    clearAllMemos();\n\n    setActiveScreen('home');\n    setSelectedProduct(null);\n    setProductToDelete(null);\n    setIsDeleteModalOpen(false);\n  };\n\n\n  const renderScreen = () => {\n    switch (activeScreen) {\n      case 'home':\n        return <HomeScreen \n          products={products} \n          onEditProduct={handleEditProduct} \n          onDeleteProduct={handleDeleteProduct} \n          onReorderProducts={reorderProducts} \n          onToggleShoppingList={handleToggleShoppingList}\n          onReplaceProduct={handleReplaceProduct}\n          shoppingList={shoppingList}\n          onAddProductRequest={handleOpenAddScreen}\n        />;\n      case 'add':\n        return <AddProductScreen onAddMultipleProducts={handleAddMultipleProducts} onCancel={handleCancel} />;\n      case 'edit':\n        if (selectedProduct) {\n          return <EditProductScreen product={selectedProduct} onUpdateProduct={handleUpdateProduct} onCancel={handleCancel} />;\n        }\n        // Fallback to home if no product is selected\n        setActiveScreen('home');\n        return <HomeScreen \n          products={products} \n          onEditProduct={handleEditProduct} \n          onDeleteProduct={handleDeleteProduct} \n          onReorderProducts={reorderProducts} \n          onToggleShoppingList={handleToggleShoppingList}\n          onReplaceProduct={handleReplaceProduct}\n          shoppingList={shoppingList}\n          onAddProductRequest={handleOpenAddScreen}\n        />;\n       case 'memo':\n        return <MemoScreen\n            shoppingList={shoppingList}\n            onAddItem={handleAddShoppingItemManually}\n            onToggleItem={toggleShoppingListItem}\n            onDeleteItem={deleteShoppingListItem}\n            diaryEntries={diaryEntries}\n            onAddEntry={addDiaryEntry}\n            onDeleteEntry={deleteDiaryEntry}\n         />;\n      case 'settings':\n        return <SettingsScreen onClearAllData={handleClearAllData} />;\n      default:\n        return <HomeScreen \n          products={products} \n          onEditProduct={handleEditProduct} \n          onDeleteProduct={handleDeleteProduct} \n          onReorderProducts={reorderProducts}\n          onToggleShoppingList={handleToggleShoppingList}\n          onReplaceProduct={handleReplaceProduct}\n          shoppingList={shoppingList}\n          onAddProductRequest={handleOpenAddScreen}\n        />;\n    }\n  };\n\n  return (\n    <div className=\"bg-gradient-to-b from-bathlance-cream/30 via-white to-bathlance-cream/20 min-h-screen font-gaegu\">\n      <PWARegister />\n      <Header />\n      <SignedIn>\n        <main className=\"pb-24\">\n          {renderScreen()}\n        </main>\n        <BottomNav activeScreen={activeScreen} setScreen={setActiveScreen} />\n        <ConfirmationModal\n          isOpen={isDeleteModalOpen}\n          onClose={cancelDelete}\n          onConfirm={confirmDelete}\n          title=\"ì •ë§ ì‚­ì œí• ê¹Œìš”?\"\n          message=\"ì´ ì œí’ˆì„ ëª©ë¡ì—ì„œ ì‚­ì œí•˜ë©´ ë˜ëŒë¦´ ìˆ˜ ì—†ì–´ìš”.\"\n        />\n      </SignedIn>\n      <SignedOut>\n        <main className=\"flex flex-col items-center justify-center min-h-[60vh] p-8\">\n          <div className=\"text-center max-w-md bg-gradient-to-br from-white to-bathlance-cream/40 p-8 rounded-cute shadow-cute-lg border-2 border-bathlance-cream\">\n            <p className=\"text-6xl mb-6 animate-bounce\">ğŸ§¼</p>\n            <h2 className=\"text-3xl font-bold text-bathlance-orange mb-4\">\n              BATHLANCEì— ì˜¤ì‹  ê²ƒì„ í™˜ì˜í•´ìš”!\n            </h2>\n            <p className=\"text-lg text-bathlance-brown/80 mb-8\">\n              ë¡œê·¸ì¸í•˜ì‹œë©´ ìš•ì‹¤ìš©í’ˆì„ ê´€ë¦¬í•˜ê³  êµì²´ ì‹œê¸°ë¥¼ ì•Œë¦¼ë°›ì„ ìˆ˜ ìˆì–´ìš”. âœ¨\n            </p>\n            <div className=\"flex flex-col gap-4 items-center\">\n              <SignInButton mode=\"modal\">\n                <button className=\"w-full bg-gradient-to-r from-bathlance-orange to-bathlance-brown text-white font-bold py-3 px-6 rounded-cute shadow-cute hover:shadow-cute-lg transition-all hover:scale-105\">\n                  ë¡œê·¸ì¸í•˜ê¸°\n                </button>\n              </SignInButton>\n              <SignUpButton mode=\"modal\">\n                <button className=\"w-full bg-white text-bathlance-orange font-bold py-3 px-6 rounded-cute border-2 border-bathlance-orange hover:bg-bathlance-cream transition-all hover:scale-105 shadow-sm\">\n                  íšŒì›ê°€ì…í•˜ê¸°\n                </button>\n              </SignUpButton>\n            </div>\n          </div>\n        </main>\n      </SignedOut>\n    </div>\n  );\n}\n\n"],"names":[],"mappings":";;;;;AAEA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AAjBA;;;;;;;;;;;;;;;;;AAmBe,SAAS;IACtB,MAAM,EAAE,QAAQ,EAAE,mBAAmB,EAAE,aAAa,EAAE,aAAa,EAAE,eAAe,EAAE,gBAAgB,EAAE,GAAG,IAAA,mIAAW;IACtH,MAAM,EACJ,YAAY,EACZ,mBAAmB,EACnB,sBAAsB,EACtB,sBAAsB,EACtB,YAAY,EACZ,aAAa,EACb,gBAAgB,EAChB,aAAa,EACd,GAAG,IAAA,6HAAQ;IACZ,MAAM,CAAC,cAAc,gBAAgB,GAAG,IAAA,gUAAQ,EAAS;IACzD,MAAM,CAAC,iBAAiB,mBAAmB,GAAG,IAAA,gUAAQ,EAAiB;IACvE,MAAM,CAAC,mBAAmB,qBAAqB,GAAG,IAAA,gUAAQ,EAAC;IAC3D,MAAM,CAAC,iBAAiB,mBAAmB,GAAG,IAAA,gUAAQ,EAAgB;IAEtE,IAAA,iUAAS,EAAC;QACR,yEAAyE;QACzE,MAAM,mBAAmB,SACrB,aAAa,OAAO,CAAC,kCAAkC,GAAG,qIAAwB,EAAE,EACpF;QAEJ,MAAM,mBAAmB,IAAI,IAAI,KAAK,KAAK,CAAC,eAAe,OAAO,CAAC,uBAAuB;QAE1F,SAAS,OAAO,CAAC,CAAA;YACf,MAAM,gBAAgB,IAAA,sIAAgB,EAAC,QAAQ,UAAU;YACzD,IAAI,gBAAgB,KAAK,iBAAiB,oBAAoB,CAAC,iBAAiB,GAAG,CAAC,QAAQ,EAAE,GAAG;gBAC/F,MAAM,CAAC,IAAI,EAAE,QAAQ,IAAI,CAAC,SAAS,EAAE,cAAc,gCAAgC,CAAC;gBACpF,iBAAiB,GAAG,CAAC,QAAQ,EAAE;YACjC;QACF;QAEA,eAAe,OAAO,CAAC,oBAAoB,KAAK,SAAS,CAAC,MAAM,IAAI,CAAC;IACrE,uDAAuD;IACzD,GAAG;QAAC;KAAS;IAEb,MAAM,4BAA4B,IAAA,mUAAW,EAAC,CAAC;QAC7C,oBAAoB;QACpB,gBAAgB;IAClB,GAAG;QAAC;KAAoB;IAExB,MAAM,sBAAsB,IAAA,mUAAW,EAAC;QACtC,gBAAgB;IAClB,GAAG,EAAE;IAEL,MAAM,sBAAsB,IAAA,mUAAW,EAAC,CAAC;QACvC,cAAc;QACd,gBAAgB;QAChB,mBAAmB;IACrB,GAAG;QAAC;KAAc;IAElB,MAAM,sBAAsB,IAAA,mUAAW,EAAC,CAAC;QACvC,mBAAmB;QACnB,qBAAqB;IACvB,GAAG,EAAE;IAEL,MAAM,uBAAuB,IAAA,mUAAW,EAAC,CAAC;QACxC,MAAM,mBAAmB,SAAS,IAAI,CAAC,CAAA,IAAK,EAAE,EAAE,KAAK;QACrD,IAAI,CAAC,kBAAkB;QAEvB,MAAM,eAAe,iBAAiB,KAAK,IAAI;QAC/C,IAAI,gBAAgB,GAAG;YACrB,MAAM;YACN;QACF;QAEA,MAAM,WAAW,eAAe;QAChC,MAAM,sBAAsB,IAAI,OAAO,WAAW;QAClD,MAAM,cAAc,iBAAiB,kBAAkB,IAAI,kIAAqB,CAAC,iBAAiB,QAAQ,CAAC,IAAI;QAE/G,MAAM,gBAAgB,IAAA,yIAAmB,EACvC,qBACA,aACA,iBAAiB,iBAAiB,EAClC,iBAAiB,yBAAyB;QAG5C,MAAM,iBAA0B;YAC9B,GAAG,gBAAgB;YACnB,OAAO;YACP,kBAAkB;YAClB,YAAY;QACd;QAEA,cAAc;QAEd,IAAI,aAAa,GAAG;YAChB,kDAAkD;YAClD,MAAM,gBAAgB,aAAa,IAAI,CAAC,CAAA,OAAQ,KAAK,SAAS,KAAK,iBAAiB,EAAE;YACtF,IAAG,CAAC,eAAc;gBACd,oBAAoB;oBAAE,MAAM,iBAAiB,IAAI;oBAAE,WAAW,iBAAiB,EAAE;gBAAC;gBAClF,MAAM,CAAC,CAAC,EAAE,iBAAiB,IAAI,CAAC,oCAAoC,CAAC;YACzE;QACJ;IAEF,GAAG;QAAC;QAAU;QAAe;QAAqB;KAAa;IAE/D,MAAM,gBAAgB;QACpB,IAAI,iBAAiB;YACnB,cAAc;QAChB;QACA,qBAAqB;QACrB,mBAAmB;IACrB;IAEA,MAAM,eAAe;QACnB,qBAAqB;QACrB,mBAAmB;IACrB;IAEA,MAAM,oBAAoB,CAAC;QACzB,mBAAmB;QACnB,gBAAgB;IAClB;IAEA,MAAM,eAAe;QACnB,gBAAgB;QAChB,mBAAmB;IACrB;IAEA,MAAM,2BAA2B,IAAA,mUAAW,EAAC,CAAC;QAC1C,MAAM,eAAe,aAAa,IAAI,CAAC,CAAA,OAAQ,KAAK,SAAS,KAAK,QAAQ,EAAE;QAC5E,IAAI,cAAc;YACd,uBAAuB,aAAa,EAAE;QAC1C,OAAO;YACH,oBAAoB;gBAAE,MAAM,QAAQ,IAAI;gBAAE,WAAW,QAAQ,EAAE;YAAC;QACpE;IACJ,GAAG;QAAC;QAAc;QAAqB;KAAuB;IAE9D,MAAM,gCAAgC,CAAC;QACnC,oBAAoB;YAAE;QAAK;IAC/B;IAEA,MAAM,qBAAqB;QACzB,aAAa,KAAK;QAClB,eAAe,KAAK;QAEpB;QACA;QAEA,gBAAgB;QAChB,mBAAmB;QACnB,mBAAmB;QACnB,qBAAqB;IACvB;IAGA,MAAM,eAAe;QACnB,OAAQ;YACN,KAAK;gBACH,qBAAO,6VAAC,uIAAU;oBAChB,UAAU;oBACV,eAAe;oBACf,iBAAiB;oBACjB,mBAAmB;oBACnB,sBAAsB;oBACtB,kBAAkB;oBAClB,cAAc;oBACd,qBAAqB;;;;;;YAEzB,KAAK;gBACH,qBAAO,6VAAC,mJAAgB;oBAAC,uBAAuB;oBAA2B,UAAU;;;;;;YACvF,KAAK;gBACH,IAAI,iBAAiB;oBACnB,qBAAO,6VAAC,qJAAiB;wBAAC,SAAS;wBAAiB,iBAAiB;wBAAqB,UAAU;;;;;;gBACtG;gBACA,6CAA6C;gBAC7C,gBAAgB;gBAChB,qBAAO,6VAAC,uIAAU;oBAChB,UAAU;oBACV,eAAe;oBACf,iBAAiB;oBACjB,mBAAmB;oBACnB,sBAAsB;oBACtB,kBAAkB;oBAClB,cAAc;oBACd,qBAAqB;;;;;;YAExB,KAAK;gBACJ,qBAAO,6VAAC,uIAAU;oBACd,cAAc;oBACd,WAAW;oBACX,cAAc;oBACd,cAAc;oBACd,cAAc;oBACd,YAAY;oBACZ,eAAe;;;;;;YAErB,KAAK;gBACH,qBAAO,6VAAC,+IAAc;oBAAC,gBAAgB;;;;;;YACzC;gBACE,qBAAO,6VAAC,uIAAU;oBAChB,UAAU;oBACV,eAAe;oBACf,iBAAiB;oBACjB,mBAAmB;oBACnB,sBAAsB;oBACtB,kBAAkB;oBAClB,cAAc;oBACd,qBAAqB;;;;;;QAE3B;IACF;IAEA,qBACE,6VAAC;QAAI,WAAU;;0BACb,6VAAC,sIAAW;;;;;0BACZ,6VAAC,+HAAM;;;;;0BACP,6VAAC,+RAAQ;;kCACP,6VAAC;wBAAK,WAAU;kCACb;;;;;;kCAEH,6VAAC,qIAAS;wBAAC,cAAc;wBAAc,WAAW;;;;;;kCAClD,6VAAC,qJAAiB;wBAChB,QAAQ;wBACR,SAAS;wBACT,WAAW;wBACX,OAAM;wBACN,SAAQ;;;;;;;;;;;;0BAGZ,6VAAC,gSAAS;0BACR,cAAA,6VAAC;oBAAK,WAAU;8BACd,cAAA,6VAAC;wBAAI,WAAU;;0CACb,6VAAC;gCAAE,WAAU;0CAA+B;;;;;;0CAC5C,6VAAC;gCAAG,WAAU;0CAAgD;;;;;;0CAG9D,6VAAC;gCAAE,WAAU;0CAAuC;;;;;;0CAGpD,6VAAC;gCAAI,WAAU;;kDACb,6VAAC,qSAAY;wCAAC,MAAK;kDACjB,cAAA,6VAAC;4CAAO,WAAU;sDAA+K;;;;;;;;;;;kDAInM,6VAAC,qSAAY;wCAAC,MAAK;kDACjB,cAAA,6VAAC;4CAAO,WAAU;sDAA4K;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAU9M"}}]
}